(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();function ec(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var rl={exports:{}},qo={},il={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function Im(){if(Id)return de;Id=1;var o=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function G(A,L,ae){this.props=A,this.context=L,this.refs=k,this.updater=ae||w}G.prototype.isReactComponent={},G.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},G.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function $(){}$.prototype=G.prototype;function z(A,L,ae){this.props=A,this.context=L,this.refs=k,this.updater=ae||w}var q=z.prototype=new $;q.constructor=z,M(q,G.prototype),q.isPureReactComponent=!0;var O=Array.isArray,ee=Object.prototype.hasOwnProperty,b={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function me(A,L,ae){var fe,he={},ge=null,Se=null;if(L!=null)for(fe in L.ref!==void 0&&(Se=L.ref),L.key!==void 0&&(ge=""+L.key),L)ee.call(L,fe)&&!oe.hasOwnProperty(fe)&&(he[fe]=L[fe]);var Te=arguments.length-2;if(Te===1)he.children=ae;else if(1<Te){for(var Pe=Array(Te),sn=0;sn<Te;sn++)Pe[sn]=arguments[sn+2];he.children=Pe}if(A&&A.defaultProps)for(fe in Te=A.defaultProps,Te)he[fe]===void 0&&(he[fe]=Te[fe]);return{$$typeof:o,type:A,key:ge,ref:Se,props:he,_owner:b.current}}function j(A,L){return{$$typeof:o,type:A.type,key:L,ref:A.ref,props:A.props,_owner:A._owner}}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===o}function le(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return L[ae]})}var re=/\/+/g;function ue(A,L){return typeof A=="object"&&A!==null&&A.key!=null?le(""+A.key):L.toString(36)}function xe(A,L,ae,fe,he){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var Se=!1;if(A===null)Se=!0;else switch(ge){case"string":case"number":Se=!0;break;case"object":switch(A.$$typeof){case o:case n:Se=!0}}if(Se)return Se=A,he=he(Se),A=fe===""?"."+ue(Se,0):fe,O(he)?(ae="",A!=null&&(ae=A.replace(re,"$&/")+"/"),xe(he,L,ae,"",function(sn){return sn})):he!=null&&(Z(he)&&(he=j(he,ae+(!he.key||Se&&Se.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+A)),L.push(he)),1;if(Se=0,fe=fe===""?".":fe+":",O(A))for(var Te=0;Te<A.length;Te++){ge=A[Te];var Pe=fe+ue(ge,Te);Se+=xe(ge,L,ae,Pe,he)}else if(Pe=C(A),typeof Pe=="function")for(A=Pe.call(A),Te=0;!(ge=A.next()).done;)ge=ge.value,Pe=fe+ue(ge,Te++),Se+=xe(ge,L,ae,Pe,he);else if(ge==="object")throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Se}function rn(A,L,ae){if(A==null)return A;var fe=[],he=0;return xe(A,fe,"","",function(ge){return L.call(ae,ge,he++)}),fe}function Re(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var Ce={current:null},H={transition:null},ie={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:H,ReactCurrentOwner:b};function W(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:rn,forEach:function(A,L,ae){rn(A,function(){L.apply(this,arguments)},ae)},count:function(A){var L=0;return rn(A,function(){L++}),L},toArray:function(A){return rn(A,function(L){return L})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},de.Component=G,de.Fragment=r,de.Profiler=u,de.PureComponent=z,de.StrictMode=s,de.Suspense=y,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,de.act=W,de.cloneElement=function(A,L,ae){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var fe=M({},A.props),he=A.key,ge=A.ref,Se=A._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,Se=b.current),L.key!==void 0&&(he=""+L.key),A.type&&A.type.defaultProps)var Te=A.type.defaultProps;for(Pe in L)ee.call(L,Pe)&&!oe.hasOwnProperty(Pe)&&(fe[Pe]=L[Pe]===void 0&&Te!==void 0?Te[Pe]:L[Pe])}var Pe=arguments.length-2;if(Pe===1)fe.children=ae;else if(1<Pe){Te=Array(Pe);for(var sn=0;sn<Pe;sn++)Te[sn]=arguments[sn+2];fe.children=Te}return{$$typeof:o,type:A.type,key:he,ref:ge,props:fe,_owner:Se}},de.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:f,_context:A},A.Consumer=A},de.createElement=me,de.createFactory=function(A){var L=me.bind(null,A);return L.type=A,L},de.createRef=function(){return{current:null}},de.forwardRef=function(A){return{$$typeof:m,render:A}},de.isValidElement=Z,de.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:Re}},de.memo=function(A,L){return{$$typeof:h,type:A,compare:L===void 0?null:L}},de.startTransition=function(A){var L=H.transition;H.transition={};try{A()}finally{H.transition=L}},de.unstable_act=W,de.useCallback=function(A,L){return Ce.current.useCallback(A,L)},de.useContext=function(A){return Ce.current.useContext(A)},de.useDebugValue=function(){},de.useDeferredValue=function(A){return Ce.current.useDeferredValue(A)},de.useEffect=function(A,L){return Ce.current.useEffect(A,L)},de.useId=function(){return Ce.current.useId()},de.useImperativeHandle=function(A,L,ae){return Ce.current.useImperativeHandle(A,L,ae)},de.useInsertionEffect=function(A,L){return Ce.current.useInsertionEffect(A,L)},de.useLayoutEffect=function(A,L){return Ce.current.useLayoutEffect(A,L)},de.useMemo=function(A,L){return Ce.current.useMemo(A,L)},de.useReducer=function(A,L,ae){return Ce.current.useReducer(A,L,ae)},de.useRef=function(A){return Ce.current.useRef(A)},de.useState=function(A){return Ce.current.useState(A)},de.useSyncExternalStore=function(A,L,ae){return Ce.current.useSyncExternalStore(A,L,ae)},de.useTransition=function(){return Ce.current.useTransition()},de.version="18.3.1",de}var wd;function Cl(){return wd||(wd=1,il.exports=Im()),il.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function wm(){if(Ad)return qo;Ad=1;var o=Cl(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function p(m,y,h){var v,E={},C=null,w=null;h!==void 0&&(C=""+h),y.key!==void 0&&(C=""+y.key),y.ref!==void 0&&(w=y.ref);for(v in y)s.call(y,v)&&!f.hasOwnProperty(v)&&(E[v]=y[v]);if(m&&m.defaultProps)for(v in y=m.defaultProps,y)E[v]===void 0&&(E[v]=y[v]);return{$$typeof:n,type:m,key:C,ref:w,props:E,_owner:u.current}}return qo.Fragment=r,qo.jsx=p,qo.jsxs=p,qo}var xd;function Am(){return xd||(xd=1,rl.exports=wm()),rl.exports}var R=Am(),pe=Cl();const xm=ec(pe);var ei={},sl={exports:{}},on={},ll={exports:{}},ul={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function Rm(){return Rd||(Rd=1,(function(o){function n(H,ie){var W=H.length;H.push(ie);e:for(;0<W;){var A=W-1>>>1,L=H[A];if(0<u(L,ie))H[A]=ie,H[W]=L,W=A;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ie=H[0],W=H.pop();if(W!==ie){H[0]=W;e:for(var A=0,L=H.length,ae=L>>>1;A<ae;){var fe=2*(A+1)-1,he=H[fe],ge=fe+1,Se=H[ge];if(0>u(he,W))ge<L&&0>u(Se,he)?(H[A]=Se,H[ge]=W,A=ge):(H[A]=he,H[fe]=W,A=fe);else if(ge<L&&0>u(Se,W))H[A]=Se,H[ge]=W,A=ge;else break e}}return ie}function u(H,ie){var W=H.sortIndex-ie.sortIndex;return W!==0?W:H.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();o.unstable_now=function(){return p.now()-m}}var y=[],h=[],v=1,E=null,C=3,w=!1,M=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(H){for(var ie=r(h);ie!==null;){if(ie.callback===null)s(h);else if(ie.startTime<=H)s(h),ie.sortIndex=ie.expirationTime,n(y,ie);else break;ie=r(h)}}function O(H){if(k=!1,q(H),!M)if(r(y)!==null)M=!0,Re(ee);else{var ie=r(h);ie!==null&&Ce(O,ie.startTime-H)}}function ee(H,ie){M=!1,k&&(k=!1,$(me),me=-1),w=!0;var W=C;try{for(q(ie),E=r(y);E!==null&&(!(E.expirationTime>ie)||H&&!le());){var A=E.callback;if(typeof A=="function"){E.callback=null,C=E.priorityLevel;var L=A(E.expirationTime<=ie);ie=o.unstable_now(),typeof L=="function"?E.callback=L:E===r(y)&&s(y),q(ie)}else s(y);E=r(y)}if(E!==null)var ae=!0;else{var fe=r(h);fe!==null&&Ce(O,fe.startTime-ie),ae=!1}return ae}finally{E=null,C=W,w=!1}}var b=!1,oe=null,me=-1,j=5,Z=-1;function le(){return!(o.unstable_now()-Z<j)}function re(){if(oe!==null){var H=o.unstable_now();Z=H;var ie=!0;try{ie=oe(!0,H)}finally{ie?ue():(b=!1,oe=null)}}else b=!1}var ue;if(typeof z=="function")ue=function(){z(re)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,rn=xe.port2;xe.port1.onmessage=re,ue=function(){rn.postMessage(null)}}else ue=function(){G(re,0)};function Re(H){oe=H,b||(b=!0,ue())}function Ce(H,ie){me=G(function(){H(o.unstable_now())},ie)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(H){H.callback=null},o.unstable_continueExecution=function(){M||w||(M=!0,Re(ee))},o.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},o.unstable_getCurrentPriorityLevel=function(){return C},o.unstable_getFirstCallbackNode=function(){return r(y)},o.unstable_next=function(H){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var W=C;C=ie;try{return H()}finally{C=W}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=C;C=H;try{return ie()}finally{C=W}},o.unstable_scheduleCallback=function(H,ie,W){var A=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,H={id:v++,callback:ie,priorityLevel:H,startTime:W,expirationTime:L,sortIndex:-1},W>A?(H.sortIndex=W,n(h,H),r(y)===null&&H===r(h)&&(k?($(me),me=-1):k=!0,Ce(O,W-A))):(H.sortIndex=L,n(y,H),M||w||(M=!0,Re(ee))),H},o.unstable_shouldYield=le,o.unstable_wrapCallback=function(H){var ie=C;return function(){var W=C;C=ie;try{return H.apply(this,arguments)}finally{C=W}}}})(ul)),ul}var Pd;function Pm(){return Pd||(Pd=1,ll.exports=Rm()),ll.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Nm(){if(Nd)return on;Nd=1;var o=Cl(),n=Pm();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function f(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function C(e){return y.call(E,e)?!0:y.call(v,e)?!1:h.test(e)?E[e]=!0:(v[e]=!0,!1)}function w(e,t,i,d){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return d?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,t,i,d){if(t===null||typeof t>"u"||w(e,t,i,d))return!0;if(d)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,i,d,c,g,T){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=d,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=g,this.removeEmptyString=T}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){G[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];G[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){G[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){G[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){G[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){G[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){G[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){G[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){G[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,z);G[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,z);G[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,z);G[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){G[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),G.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){G[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function q(e,t,i,d){var c=G.hasOwnProperty(t)?G[t]:null;(c!==null?c.type!==0:d||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(M(t,i,c,d)&&(i=null),d||c===null?C(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,d=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,d?e.setAttributeNS(d,t,i):e.setAttribute(t,i))))}var O=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),b=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),le=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),rn=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),H=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,A;function L(e){if(A===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return`
`+A+e}var ae=!1;function fe(e,t){if(!e||ae)return"";ae=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var d=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){d=N}e.call(t.prototype)}else{try{throw Error()}catch(N){d=N}e()}}catch(N){if(N&&d&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),g=d.stack.split(`
`),T=c.length-1,S=g.length-1;1<=T&&0<=S&&c[T]!==g[S];)S--;for(;1<=T&&0<=S;T--,S--)if(c[T]!==g[S]){if(T!==1||S!==1)do if(T--,S--,0>S||c[T]!==g[S]){var _=`
`+c[T].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=T&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?L(e):""}function he(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case b:return"Portal";case j:return"Profiler";case me:return"StrictMode";case ue:return"Suspense";case xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case le:return(e.displayName||"Context")+".Consumer";case Z:return(e._context.displayName||"Context")+".Provider";case re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rn:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sn(e){var t=Pe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),d=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,g=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(T){d=""+T,g.call(this,T)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $o(e){e._valueTracker||(e._valueTracker=sn(e))}function Nl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),d="";return e&&(d=Pe(e)?e.checked?"true":"false":e.value),e=d,e!==i?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fi(e,t){var i=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ml(e,t){var i=t.defaultValue==null?"":t.defaultValue,d=t.checked!=null?t.checked:t.defaultChecked;i=Te(t.value!=null?t.value:i),e._wrapperState={initialChecked:d,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kl(e,t){t=t.checked,t!=null&&q(e,"checked",t,!1)}function ci(e,t){kl(e,t);var i=Te(t.value),d=t.type;if(i!=null)d==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pi(e,t.type,i):t.hasOwnProperty("defaultValue")&&pi(e,t.type,Te(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dl(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var d=t.type;if(!(d!=="submit"&&d!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function pi(e,t,i){(t!=="number"||Wo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var jt=Array.isArray;function Ct(e,t,i,d){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&d&&(e[i].defaultSelected=!0)}else{for(i=""+Te(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,d&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function mi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ll(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(r(92));if(jt(i)){if(1<i.length)throw Error(r(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Te(i)}}function Ul(e,t){var i=Te(t.value),d=Te(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),d!=null&&(e.defaultValue=""+d)}function Fl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,Gl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,d,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,d,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eo(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rc=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(e){Rc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),no[t]=no[e]})});function ql(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||no.hasOwnProperty(e)&&no[e]?(""+t).trim():t+"px"}function Hl(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var d=i.indexOf("--")===0,c=ql(i,t[i],d);i==="float"&&(i="cssFloat"),d?e.setProperty(i,c):e[i]=c}}var Pc=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(e,t){if(t){if(Pc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!="object")throw Error(r(62))}}function yi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function Ti(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,St=null,_t=null;function Bl(e){if(e=Io(e)){if(typeof Ei!="function")throw Error(r(280));var t=e.stateNode;t&&(t=hr(t),Ei(e.stateNode,e.type,t))}}function zl(e){St?_t?_t.push(e):_t=[e]:St=e}function Jl(){if(St){var e=St,t=_t;if(_t=St=null,Bl(e),t)for(e=0;e<t.length;e++)Bl(t[e])}}function $l(e,t){return e(t)}function Wl(){}var Ci=!1;function Yl(e,t,i){if(Ci)return e(t,i);Ci=!0;try{return $l(e,t,i)}finally{Ci=!1,(St!==null||_t!==null)&&(Wl(),Jl())}}function to(e,t){var i=e.stateNode;if(i===null)return null;var d=hr(i);if(d===null)return null;i=d[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Si=!1;if(m)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Si=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Si=!1}function Nc(e,t,i,d,c,g,T,S,_){var N=Array.prototype.slice.call(arguments,3);try{t.apply(i,N)}catch(U){this.onError(U)}}var ro=!1,Ko=null,Oo=!1,_i=null,Mc={onError:function(e){ro=!0,Ko=e}};function kc(e,t,i,d,c,g,T,S,_){ro=!1,Ko=null,Nc.apply(Mc,arguments)}function Dc(e,t,i,d,c,g,T,S,_){if(kc.apply(this,arguments),ro){if(ro){var N=Ko;ro=!1,Ko=null}else throw Error(r(198));Oo||(Oo=!0,_i=N)}}function st(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Kl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ol(e){if(st(e)!==e)throw Error(r(188))}function Lc(e){var t=e.alternate;if(!t){if(t=st(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,d=t;;){var c=i.return;if(c===null)break;var g=c.alternate;if(g===null){if(d=c.return,d!==null){i=d;continue}break}if(c.child===g.child){for(g=c.child;g;){if(g===i)return Ol(c),e;if(g===d)return Ol(c),t;g=g.sibling}throw Error(r(188))}if(i.return!==d.return)i=c,d=g;else{for(var T=!1,S=c.child;S;){if(S===i){T=!0,i=c,d=g;break}if(S===d){T=!0,d=c,i=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===i){T=!0,i=g,d=c;break}if(S===d){T=!0,d=g,i=c;break}S=S.sibling}if(!T)throw Error(r(189))}}if(i.alternate!==d)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function Ql(e){return e=Lc(e),e!==null?Xl(e):null}function Xl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xl(e);if(t!==null)return t;e=e.sibling}return null}var Zl=n.unstable_scheduleCallback,bl=n.unstable_cancelCallback,Uc=n.unstable_shouldYield,Fc=n.unstable_requestPaint,Le=n.unstable_now,Vc=n.unstable_getCurrentPriorityLevel,Ii=n.unstable_ImmediatePriority,jl=n.unstable_UserBlockingPriority,Qo=n.unstable_NormalPriority,Gc=n.unstable_LowPriority,eu=n.unstable_IdlePriority,Xo=null,An=null;function qc(e){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:zc,Hc=Math.log,Bc=Math.LN2;function zc(e){return e>>>=0,e===0?32:31-(Hc(e)/Bc|0)|0}var Zo=64,bo=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var i=e.pendingLanes;if(i===0)return 0;var d=0,c=e.suspendedLanes,g=e.pingedLanes,T=i&268435455;if(T!==0){var S=T&~c;S!==0?d=io(S):(g&=T,g!==0&&(d=io(g)))}else T=i&~c,T!==0?d=io(T):g!==0&&(d=io(g));if(d===0)return 0;if(t!==0&&t!==d&&(t&c)===0&&(c=d&-d,g=t&-t,c>=g||c===16&&(g&4194240)!==0))return t;if((d&4)!==0&&(d|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=d;0<t;)i=31-vn(t),c=1<<i,d|=e[i],t&=~c;return d}function Jc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(e,t){for(var i=e.suspendedLanes,d=e.pingedLanes,c=e.expirationTimes,g=e.pendingLanes;0<g;){var T=31-vn(g),S=1<<T,_=c[T];_===-1?((S&i)===0||(S&d)!==0)&&(c[T]=Jc(S,t)):_<=t&&(e.expiredLanes|=S),g&=~S}}function wi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nu(){var e=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),e}function Ai(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function so(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=i}function Wc(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-vn(i),g=1<<c;t[c]=0,d[c]=-1,e[c]=-1,i&=~g}}function xi(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var d=31-vn(i),c=1<<d;c&t|e[d]&t&&(e[d]|=t),i&=~c}}var Ee=0;function tu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ou,Ri,ru,iu,su,Pi=!1,er=[],Hn=null,Bn=null,zn=null,lo=new Map,uo=new Map,Jn=[],Yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function ao(e,t,i,d,c,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:i,eventSystemFlags:d,nativeEvent:g,targetContainers:[c]},t!==null&&(t=Io(t),t!==null&&Ri(t)),e):(e.eventSystemFlags|=d,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Kc(e,t,i,d,c){switch(t){case"focusin":return Hn=ao(Hn,e,t,i,d,c),!0;case"dragenter":return Bn=ao(Bn,e,t,i,d,c),!0;case"mouseover":return zn=ao(zn,e,t,i,d,c),!0;case"pointerover":var g=c.pointerId;return lo.set(g,ao(lo.get(g)||null,e,t,i,d,c)),!0;case"gotpointercapture":return g=c.pointerId,uo.set(g,ao(uo.get(g)||null,e,t,i,d,c)),!0}return!1}function uu(e){var t=lt(e.target);if(t!==null){var i=st(t);if(i!==null){if(t=i.tag,t===13){if(t=Kl(i),t!==null){e.blockedOn=t,su(e.priority,function(){ru(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Mi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var d=new i.constructor(i.type,i);vi=d,i.target.dispatchEvent(d),vi=null}else return t=Io(i),t!==null&&Ri(t),e.blockedOn=i,!1;t.shift()}return!0}function au(e,t,i){nr(e)&&i.delete(t)}function Oc(){Pi=!1,Hn!==null&&nr(Hn)&&(Hn=null),Bn!==null&&nr(Bn)&&(Bn=null),zn!==null&&nr(zn)&&(zn=null),lo.forEach(au),uo.forEach(au)}function fo(e,t){e.blockedOn===t&&(e.blockedOn=null,Pi||(Pi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Oc)))}function co(e){function t(c){return fo(c,e)}if(0<er.length){fo(er[0],e);for(var i=1;i<er.length;i++){var d=er[i];d.blockedOn===e&&(d.blockedOn=null)}}for(Hn!==null&&fo(Hn,e),Bn!==null&&fo(Bn,e),zn!==null&&fo(zn,e),lo.forEach(t),uo.forEach(t),i=0;i<Jn.length;i++)d=Jn[i],d.blockedOn===e&&(d.blockedOn=null);for(;0<Jn.length&&(i=Jn[0],i.blockedOn===null);)uu(i),i.blockedOn===null&&Jn.shift()}var It=O.ReactCurrentBatchConfig,tr=!0;function Qc(e,t,i,d){var c=Ee,g=It.transition;It.transition=null;try{Ee=1,Ni(e,t,i,d)}finally{Ee=c,It.transition=g}}function Xc(e,t,i,d){var c=Ee,g=It.transition;It.transition=null;try{Ee=4,Ni(e,t,i,d)}finally{Ee=c,It.transition=g}}function Ni(e,t,i,d){if(tr){var c=Mi(e,t,i,d);if(c===null)Oi(e,t,d,or,i),lu(e,d);else if(Kc(c,e,t,i,d))d.stopPropagation();else if(lu(e,d),t&4&&-1<Yc.indexOf(e)){for(;c!==null;){var g=Io(c);if(g!==null&&ou(g),g=Mi(e,t,i,d),g===null&&Oi(e,t,d,or,i),g===c)break;c=g}c!==null&&d.stopPropagation()}else Oi(e,t,d,null,i)}}var or=null;function Mi(e,t,i,d){if(or=null,e=Ti(d),e=lt(e),e!==null)if(t=st(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Kl(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return or=e,null}function du(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vc()){case Ii:return 1;case jl:return 4;case Qo:case Gc:return 16;case eu:return 536870912;default:return 16}default:return 16}}var $n=null,ki=null,rr=null;function fu(){if(rr)return rr;var e,t=ki,i=t.length,d,c="value"in $n?$n.value:$n.textContent,g=c.length;for(e=0;e<i&&t[e]===c[e];e++);var T=i-e;for(d=1;d<=T&&t[i-d]===c[g-d];d++);return rr=c.slice(e,1<d?1-d:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function cu(){return!1}function ln(e){function t(i,d,c,g,T){this._reactName=i,this._targetInst=c,this.type=d,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:cu,this.isPropagationStopped=cu,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=ln(wt),po=W({},wt,{view:0,detail:0}),Zc=ln(po),Li,Ui,mo,lr=W({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(Li=e.screenX-mo.screenX,Ui=e.screenY-mo.screenY):Ui=Li=0,mo=e),Li)},movementY:function(e){return"movementY"in e?e.movementY:Ui}}),pu=ln(lr),bc=W({},lr,{dataTransfer:0}),jc=ln(bc),ep=W({},po,{relatedTarget:0}),Fi=ln(ep),np=W({},wt,{animationName:0,elapsedTime:0,pseudoElement:0}),tp=ln(np),op=W({},wt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rp=ln(op),ip=W({},wt,{data:0}),mu=ln(ip),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=up[e])?!!t[e]:!1}function Vi(){return ap}var dp=W({},po,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fp=ln(dp),cp=W({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=ln(cp),pp=W({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),mp=ln(pp),hp=W({},wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=ln(hp),yp=W({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vp=ln(yp),Tp=[9,13,27,32],Gi=m&&"CompositionEvent"in window,ho=null;m&&"documentMode"in document&&(ho=document.documentMode);var Ep=m&&"TextEvent"in window&&!ho,gu=m&&(!Gi||ho&&8<ho&&11>=ho),yu=" ",vu=!1;function Tu(e,t){switch(e){case"keyup":return Tp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var At=!1;function Cp(e,t){switch(e){case"compositionend":return Eu(t);case"keypress":return t.which!==32?null:(vu=!0,yu);case"textInput":return e=t.data,e===yu&&vu?null:e;default:return null}}function Sp(e,t){if(At)return e==="compositionend"||!Gi&&Tu(e,t)?(e=fu(),rr=ki=$n=null,At=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_p[e.type]:t==="textarea"}function Su(e,t,i,d){zl(d),t=cr(t,"onChange"),0<t.length&&(i=new Di("onChange","change",null,i,d),e.push({event:i,listeners:t}))}var go=null,yo=null;function Ip(e){Hu(e,0)}function ur(e){var t=Mt(e);if(Nl(t))return e}function wp(e,t){if(e==="change")return t}var _u=!1;if(m){var qi;if(m){var Hi="oninput"in document;if(!Hi){var Iu=document.createElement("div");Iu.setAttribute("oninput","return;"),Hi=typeof Iu.oninput=="function"}qi=Hi}else qi=!1;_u=qi&&(!document.documentMode||9<document.documentMode)}function wu(){go&&(go.detachEvent("onpropertychange",Au),yo=go=null)}function Au(e){if(e.propertyName==="value"&&ur(yo)){var t=[];Su(t,yo,e,Ti(e)),Yl(Ip,t)}}function Ap(e,t,i){e==="focusin"?(wu(),go=t,yo=i,go.attachEvent("onpropertychange",Au)):e==="focusout"&&wu()}function xp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ur(yo)}function Rp(e,t){if(e==="click")return ur(t)}function Pp(e,t){if(e==="input"||e==="change")return ur(t)}function Np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:Np;function vo(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),d=Object.keys(t);if(i.length!==d.length)return!1;for(d=0;d<i.length;d++){var c=i[d];if(!y.call(t,c)||!Tn(e[c],t[c]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ru(e,t){var i=xu(e);e=0;for(var d;i;){if(i.nodeType===3){if(d=e+i.textContent.length,e<=t&&d>=t)return{node:i,offset:t-e};e=d}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=xu(i)}}function Pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nu(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Wo(e.document)}return t}function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mp(e){var t=Nu(),i=e.focusedElem,d=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Pu(i.ownerDocument.documentElement,i)){if(d!==null&&Bi(i)){if(t=d.start,e=d.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,g=Math.min(d.start,c);d=d.end===void 0?g:Math.min(d.end,c),!e.extend&&g>d&&(c=d,d=g,g=c),c=Ru(i,g);var T=Ru(i,d);c&&T&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==T.node||e.focusOffset!==T.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),g>d?(e.addRange(t),e.extend(T.node,T.offset)):(t.setEnd(T.node,T.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kp=m&&"documentMode"in document&&11>=document.documentMode,xt=null,zi=null,To=null,Ji=!1;function Mu(e,t,i){var d=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ji||xt==null||xt!==Wo(d)||(d=xt,"selectionStart"in d&&Bi(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),To&&vo(To,d)||(To=d,d=cr(zi,"onSelect"),0<d.length&&(t=new Di("onSelect","select",null,t,i),e.push({event:t,listeners:d}),t.target=xt)))}function ar(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Rt={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionend:ar("Transition","TransitionEnd")},$i={},ku={};m&&(ku=document.createElement("div").style,"AnimationEvent"in window||(delete Rt.animationend.animation,delete Rt.animationiteration.animation,delete Rt.animationstart.animation),"TransitionEvent"in window||delete Rt.transitionend.transition);function dr(e){if($i[e])return $i[e];if(!Rt[e])return e;var t=Rt[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ku)return $i[e]=t[i];return e}var Du=dr("animationend"),Lu=dr("animationiteration"),Uu=dr("animationstart"),Fu=dr("transitionend"),Vu=new Map,Gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){Vu.set(e,t),f(t,[e])}for(var Wi=0;Wi<Gu.length;Wi++){var Yi=Gu[Wi],Dp=Yi.toLowerCase(),Lp=Yi[0].toUpperCase()+Yi.slice(1);Wn(Dp,"on"+Lp)}Wn(Du,"onAnimationEnd"),Wn(Lu,"onAnimationIteration"),Wn(Uu,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Fu,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Up=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function qu(e,t,i){var d=e.type||"unknown-event";e.currentTarget=i,Dc(d,t,void 0,e),e.currentTarget=null}function Hu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var d=e[i],c=d.event;d=d.listeners;e:{var g=void 0;if(t)for(var T=d.length-1;0<=T;T--){var S=d[T],_=S.instance,N=S.currentTarget;if(S=S.listener,_!==g&&c.isPropagationStopped())break e;qu(c,S,N),g=_}else for(T=0;T<d.length;T++){if(S=d[T],_=S.instance,N=S.currentTarget,S=S.listener,_!==g&&c.isPropagationStopped())break e;qu(c,S,N),g=_}}}if(Oo)throw e=_i,Oo=!1,_i=null,e}function Ie(e,t){var i=t[es];i===void 0&&(i=t[es]=new Set);var d=e+"__bubble";i.has(d)||(Bu(t,e,2,!1),i.add(d))}function Ki(e,t,i){var d=0;t&&(d|=4),Bu(i,e,d,t)}var fr="_reactListening"+Math.random().toString(36).slice(2);function Co(e){if(!e[fr]){e[fr]=!0,s.forEach(function(i){i!=="selectionchange"&&(Up.has(i)||Ki(i,!1,e),Ki(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fr]||(t[fr]=!0,Ki("selectionchange",!1,t))}}function Bu(e,t,i,d){switch(du(t)){case 1:var c=Qc;break;case 4:c=Xc;break;default:c=Ni}i=c.bind(null,t,i,e),c=void 0,!Si||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),d?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Oi(e,t,i,d,c){var g=d;if((t&1)===0&&(t&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var S=d.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(T===4)for(T=d.return;T!==null;){var _=T.tag;if((_===3||_===4)&&(_=T.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;T=T.return}for(;S!==null;){if(T=lt(S),T===null)return;if(_=T.tag,_===5||_===6){d=g=T;continue e}S=S.parentNode}}d=d.return}Yl(function(){var N=g,U=Ti(i),F=[];e:{var D=Vu.get(e);if(D!==void 0){var B=Di,Y=e;switch(e){case"keypress":if(ir(i)===0)break e;case"keydown":case"keyup":B=fp;break;case"focusin":Y="focus",B=Fi;break;case"focusout":Y="blur",B=Fi;break;case"beforeblur":case"afterblur":B=Fi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=mp;break;case Du:case Lu:case Uu:B=tp;break;case Fu:B=gp;break;case"scroll":B=Zc;break;case"wheel":B=vp;break;case"copy":case"cut":case"paste":B=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=hu}var Q=(t&4)!==0,Ue=!Q&&e==="scroll",x=Q?D!==null?D+"Capture":null:D;Q=[];for(var I=N,P;I!==null;){P=I;var V=P.stateNode;if(P.tag===5&&V!==null&&(P=V,x!==null&&(V=to(I,x),V!=null&&Q.push(So(I,V,P)))),Ue)break;I=I.return}0<Q.length&&(D=new B(D,Y,null,i,U),F.push({event:D,listeners:Q}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",D&&i!==vi&&(Y=i.relatedTarget||i.fromElement)&&(lt(Y)||Y[Mn]))break e;if((B||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,B?(Y=i.relatedTarget||i.toElement,B=N,Y=Y?lt(Y):null,Y!==null&&(Ue=st(Y),Y!==Ue||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(B=null,Y=N),B!==Y)){if(Q=pu,V="onMouseLeave",x="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Q=hu,V="onPointerLeave",x="onPointerEnter",I="pointer"),Ue=B==null?D:Mt(B),P=Y==null?D:Mt(Y),D=new Q(V,I+"leave",B,i,U),D.target=Ue,D.relatedTarget=P,V=null,lt(U)===N&&(Q=new Q(x,I+"enter",Y,i,U),Q.target=P,Q.relatedTarget=Ue,V=Q),Ue=V,B&&Y)n:{for(Q=B,x=Y,I=0,P=Q;P;P=Pt(P))I++;for(P=0,V=x;V;V=Pt(V))P++;for(;0<I-P;)Q=Pt(Q),I--;for(;0<P-I;)x=Pt(x),P--;for(;I--;){if(Q===x||x!==null&&Q===x.alternate)break n;Q=Pt(Q),x=Pt(x)}Q=null}else Q=null;B!==null&&zu(F,D,B,Q,!1),Y!==null&&Ue!==null&&zu(F,Ue,Y,Q,!0)}}e:{if(D=N?Mt(N):window,B=D.nodeName&&D.nodeName.toLowerCase(),B==="select"||B==="input"&&D.type==="file")var X=wp;else if(Cu(D))if(_u)X=Pp;else{X=xp;var ne=Ap}else(B=D.nodeName)&&B.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(X=Rp);if(X&&(X=X(e,N))){Su(F,X,i,U);break e}ne&&ne(e,D,N),e==="focusout"&&(ne=D._wrapperState)&&ne.controlled&&D.type==="number"&&pi(D,"number",D.value)}switch(ne=N?Mt(N):window,e){case"focusin":(Cu(ne)||ne.contentEditable==="true")&&(xt=ne,zi=N,To=null);break;case"focusout":To=zi=xt=null;break;case"mousedown":Ji=!0;break;case"contextmenu":case"mouseup":case"dragend":Ji=!1,Mu(F,i,U);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Mu(F,i,U)}var te;if(Gi)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else At?Tu(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(gu&&i.locale!=="ko"&&(At||se!=="onCompositionStart"?se==="onCompositionEnd"&&At&&(te=fu()):($n=U,ki="value"in $n?$n.value:$n.textContent,At=!0)),ne=cr(N,se),0<ne.length&&(se=new mu(se,e,null,i,U),F.push({event:se,listeners:ne}),te?se.data=te:(te=Eu(i),te!==null&&(se.data=te)))),(te=Ep?Cp(e,i):Sp(e,i))&&(N=cr(N,"onBeforeInput"),0<N.length&&(U=new mu("onBeforeInput","beforeinput",null,i,U),F.push({event:U,listeners:N}),U.data=te))}Hu(F,t)})}function So(e,t,i){return{instance:e,listener:t,currentTarget:i}}function cr(e,t){for(var i=t+"Capture",d=[];e!==null;){var c=e,g=c.stateNode;c.tag===5&&g!==null&&(c=g,g=to(e,i),g!=null&&d.unshift(So(e,g,c)),g=to(e,t),g!=null&&d.push(So(e,g,c))),e=e.return}return d}function Pt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zu(e,t,i,d,c){for(var g=t._reactName,T=[];i!==null&&i!==d;){var S=i,_=S.alternate,N=S.stateNode;if(_!==null&&_===d)break;S.tag===5&&N!==null&&(S=N,c?(_=to(i,g),_!=null&&T.unshift(So(i,_,S))):c||(_=to(i,g),_!=null&&T.push(So(i,_,S)))),i=i.return}T.length!==0&&e.push({event:t,listeners:T})}var Fp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Ju(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Vp,"")}function pr(e,t,i){if(t=Ju(t),Ju(e)!==t&&i)throw Error(r(425))}function mr(){}var Qi=null,Xi=null;function Zi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bi=typeof setTimeout=="function"?setTimeout:void 0,Gp=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(e){return $u.resolve(null).then(e).catch(Hp)}:bi;function Hp(e){setTimeout(function(){throw e})}function ji(e,t){var i=t,d=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(d===0){e.removeChild(c),co(t);return}d--}else i!=="$"&&i!=="$?"&&i!=="$!"||d++;i=c}while(i);co(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Nt=Math.random().toString(36).slice(2),xn="__reactFiber$"+Nt,_o="__reactProps$"+Nt,Mn="__reactContainer$"+Nt,es="__reactEvents$"+Nt,Bp="__reactListeners$"+Nt,zp="__reactHandles$"+Nt;function lt(e){var t=e[xn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Mn]||i[xn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Wu(e);e!==null;){if(i=e[xn])return i;e=Wu(e)}return t}e=i,i=e.parentNode}return null}function Io(e){return e=e[xn]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function hr(e){return e[_o]||null}var ns=[],kt=-1;function Kn(e){return{current:e}}function we(e){0>kt||(e.current=ns[kt],ns[kt]=null,kt--)}function _e(e,t){kt++,ns[kt]=e.current,e.current=t}var On={},$e=Kn(On),be=Kn(!1),ut=On;function Dt(e,t){var i=e.type.contextTypes;if(!i)return On;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===t)return d.__reactInternalMemoizedMaskedChildContext;var c={},g;for(g in i)c[g]=t[g];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function je(e){return e=e.childContextTypes,e!=null}function gr(){we(be),we($e)}function Yu(e,t,i){if($e.current!==On)throw Error(r(168));_e($e,t),_e(be,i)}function Ku(e,t,i){var d=e.stateNode;if(t=t.childContextTypes,typeof d.getChildContext!="function")return i;d=d.getChildContext();for(var c in d)if(!(c in t))throw Error(r(108,Se(e)||"Unknown",c));return W({},i,d)}function yr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,ut=$e.current,_e($e,e),_e(be,be.current),!0}function Ou(e,t,i){var d=e.stateNode;if(!d)throw Error(r(169));i?(e=Ku(e,t,ut),d.__reactInternalMemoizedMergedChildContext=e,we(be),we($e),_e($e,e)):we(be),_e(be,i)}var kn=null,vr=!1,ts=!1;function Qu(e){kn===null?kn=[e]:kn.push(e)}function Jp(e){vr=!0,Qu(e)}function Qn(){if(!ts&&kn!==null){ts=!0;var e=0,t=Ee;try{var i=kn;for(Ee=1;e<i.length;e++){var d=i[e];do d=d(!0);while(d!==null)}kn=null,vr=!1}catch(c){throw kn!==null&&(kn=kn.slice(e+1)),Zl(Ii,Qn),c}finally{Ee=t,ts=!1}}return null}var Lt=[],Ut=0,Tr=null,Er=0,fn=[],cn=0,at=null,Dn=1,Ln="";function dt(e,t){Lt[Ut++]=Er,Lt[Ut++]=Tr,Tr=e,Er=t}function Xu(e,t,i){fn[cn++]=Dn,fn[cn++]=Ln,fn[cn++]=at,at=e;var d=Dn;e=Ln;var c=32-vn(d)-1;d&=~(1<<c),i+=1;var g=32-vn(t)+c;if(30<g){var T=c-c%5;g=(d&(1<<T)-1).toString(32),d>>=T,c-=T,Dn=1<<32-vn(t)+c|i<<c|d,Ln=g+e}else Dn=1<<g|i<<c|d,Ln=e}function os(e){e.return!==null&&(dt(e,1),Xu(e,1,0))}function rs(e){for(;e===Tr;)Tr=Lt[--Ut],Lt[Ut]=null,Er=Lt[--Ut],Lt[Ut]=null;for(;e===at;)at=fn[--cn],fn[cn]=null,Ln=fn[--cn],fn[cn]=null,Dn=fn[--cn],fn[cn]=null}var un=null,an=null,Ne=!1,En=null;function Zu(e,t){var i=gn(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function bu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,an=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=at!==null?{id:Dn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=gn(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,un=e,an=null,!0):!1;default:return!1}}function is(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ss(e){if(Ne){var t=an;if(t){var i=t;if(!bu(e,t)){if(is(e))throw Error(r(418));t=Yn(i.nextSibling);var d=un;t&&bu(e,t)?Zu(d,i):(e.flags=e.flags&-4097|2,Ne=!1,un=e)}}else{if(is(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ne=!1,un=e}}}function ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function Cr(e){if(e!==un)return!1;if(!Ne)return ju(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zi(e.type,e.memoizedProps)),t&&(t=an)){if(is(e))throw ea(),Error(r(418));for(;t;)Zu(e,t),t=Yn(t.nextSibling)}if(ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){an=Yn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}an=null}}else an=un?Yn(e.stateNode.nextSibling):null;return!0}function ea(){for(var e=an;e;)e=Yn(e.nextSibling)}function Ft(){an=un=null,Ne=!1}function ls(e){En===null?En=[e]:En.push(e)}var $p=O.ReactCurrentBatchConfig;function wo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var d=i.stateNode}if(!d)throw Error(r(147,e));var c=d,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(T){var S=c.refs;T===null?delete S[g]:S[g]=T},t._stringRef=g,t)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Sr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function na(e){var t=e._init;return t(e._payload)}function ta(e){function t(x,I){if(e){var P=x.deletions;P===null?(x.deletions=[I],x.flags|=16):P.push(I)}}function i(x,I){if(!e)return null;for(;I!==null;)t(x,I),I=I.sibling;return null}function d(x,I){for(x=new Map;I!==null;)I.key!==null?x.set(I.key,I):x.set(I.index,I),I=I.sibling;return x}function c(x,I){return x=ot(x,I),x.index=0,x.sibling=null,x}function g(x,I,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<I?(x.flags|=2,I):P):(x.flags|=2,I)):(x.flags|=1048576,I)}function T(x){return e&&x.alternate===null&&(x.flags|=2),x}function S(x,I,P,V){return I===null||I.tag!==6?(I=bs(P,x.mode,V),I.return=x,I):(I=c(I,P),I.return=x,I)}function _(x,I,P,V){var X=P.type;return X===oe?U(x,I,P.props.children,V,P.key):I!==null&&(I.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Re&&na(X)===I.type)?(V=c(I,P.props),V.ref=wo(x,I,P),V.return=x,V):(V=Yr(P.type,P.key,P.props,null,x.mode,V),V.ref=wo(x,I,P),V.return=x,V)}function N(x,I,P,V){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=js(P,x.mode,V),I.return=x,I):(I=c(I,P.children||[]),I.return=x,I)}function U(x,I,P,V,X){return I===null||I.tag!==7?(I=vt(P,x.mode,V,X),I.return=x,I):(I=c(I,P),I.return=x,I)}function F(x,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return I=bs(""+I,x.mode,P),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ee:return P=Yr(I.type,I.key,I.props,null,x.mode,P),P.ref=wo(x,null,I),P.return=x,P;case b:return I=js(I,x.mode,P),I.return=x,I;case Re:var V=I._init;return F(x,V(I._payload),P)}if(jt(I)||ie(I))return I=vt(I,x.mode,P,null),I.return=x,I;Sr(x,I)}return null}function D(x,I,P,V){var X=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return X!==null?null:S(x,I,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ee:return P.key===X?_(x,I,P,V):null;case b:return P.key===X?N(x,I,P,V):null;case Re:return X=P._init,D(x,I,X(P._payload),V)}if(jt(P)||ie(P))return X!==null?null:U(x,I,P,V,null);Sr(x,P)}return null}function B(x,I,P,V,X){if(typeof V=="string"&&V!==""||typeof V=="number")return x=x.get(P)||null,S(I,x,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ee:return x=x.get(V.key===null?P:V.key)||null,_(I,x,V,X);case b:return x=x.get(V.key===null?P:V.key)||null,N(I,x,V,X);case Re:var ne=V._init;return B(x,I,P,ne(V._payload),X)}if(jt(V)||ie(V))return x=x.get(P)||null,U(I,x,V,X,null);Sr(I,V)}return null}function Y(x,I,P,V){for(var X=null,ne=null,te=I,se=I=0,Be=null;te!==null&&se<P.length;se++){te.index>se?(Be=te,te=null):Be=te.sibling;var ye=D(x,te,P[se],V);if(ye===null){te===null&&(te=Be);break}e&&te&&ye.alternate===null&&t(x,te),I=g(ye,I,se),ne===null?X=ye:ne.sibling=ye,ne=ye,te=Be}if(se===P.length)return i(x,te),Ne&&dt(x,se),X;if(te===null){for(;se<P.length;se++)te=F(x,P[se],V),te!==null&&(I=g(te,I,se),ne===null?X=te:ne.sibling=te,ne=te);return Ne&&dt(x,se),X}for(te=d(x,te);se<P.length;se++)Be=B(te,x,se,P[se],V),Be!==null&&(e&&Be.alternate!==null&&te.delete(Be.key===null?se:Be.key),I=g(Be,I,se),ne===null?X=Be:ne.sibling=Be,ne=Be);return e&&te.forEach(function(rt){return t(x,rt)}),Ne&&dt(x,se),X}function Q(x,I,P,V){var X=ie(P);if(typeof X!="function")throw Error(r(150));if(P=X.call(P),P==null)throw Error(r(151));for(var ne=X=null,te=I,se=I=0,Be=null,ye=P.next();te!==null&&!ye.done;se++,ye=P.next()){te.index>se?(Be=te,te=null):Be=te.sibling;var rt=D(x,te,ye.value,V);if(rt===null){te===null&&(te=Be);break}e&&te&&rt.alternate===null&&t(x,te),I=g(rt,I,se),ne===null?X=rt:ne.sibling=rt,ne=rt,te=Be}if(ye.done)return i(x,te),Ne&&dt(x,se),X;if(te===null){for(;!ye.done;se++,ye=P.next())ye=F(x,ye.value,V),ye!==null&&(I=g(ye,I,se),ne===null?X=ye:ne.sibling=ye,ne=ye);return Ne&&dt(x,se),X}for(te=d(x,te);!ye.done;se++,ye=P.next())ye=B(te,x,se,ye.value,V),ye!==null&&(e&&ye.alternate!==null&&te.delete(ye.key===null?se:ye.key),I=g(ye,I,se),ne===null?X=ye:ne.sibling=ye,ne=ye);return e&&te.forEach(function(_m){return t(x,_m)}),Ne&&dt(x,se),X}function Ue(x,I,P,V){if(typeof P=="object"&&P!==null&&P.type===oe&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case ee:e:{for(var X=P.key,ne=I;ne!==null;){if(ne.key===X){if(X=P.type,X===oe){if(ne.tag===7){i(x,ne.sibling),I=c(ne,P.props.children),I.return=x,x=I;break e}}else if(ne.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Re&&na(X)===ne.type){i(x,ne.sibling),I=c(ne,P.props),I.ref=wo(x,ne,P),I.return=x,x=I;break e}i(x,ne);break}else t(x,ne);ne=ne.sibling}P.type===oe?(I=vt(P.props.children,x.mode,V,P.key),I.return=x,x=I):(V=Yr(P.type,P.key,P.props,null,x.mode,V),V.ref=wo(x,I,P),V.return=x,x=V)}return T(x);case b:e:{for(ne=P.key;I!==null;){if(I.key===ne)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){i(x,I.sibling),I=c(I,P.children||[]),I.return=x,x=I;break e}else{i(x,I);break}else t(x,I);I=I.sibling}I=js(P,x.mode,V),I.return=x,x=I}return T(x);case Re:return ne=P._init,Ue(x,I,ne(P._payload),V)}if(jt(P))return Y(x,I,P,V);if(ie(P))return Q(x,I,P,V);Sr(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,I!==null&&I.tag===6?(i(x,I.sibling),I=c(I,P),I.return=x,x=I):(i(x,I),I=bs(P,x.mode,V),I.return=x,x=I),T(x)):i(x,I)}return Ue}var Vt=ta(!0),oa=ta(!1),_r=Kn(null),Ir=null,Gt=null,us=null;function as(){us=Gt=Ir=null}function ds(e){var t=_r.current;we(_r),e._currentValue=t}function fs(e,t,i){for(;e!==null;){var d=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,d!==null&&(d.childLanes|=t)):d!==null&&(d.childLanes&t)!==t&&(d.childLanes|=t),e===i)break;e=e.return}}function qt(e,t){Ir=e,us=Gt=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(en=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(us!==e)if(e={context:e,memoizedValue:t,next:null},Gt===null){if(Ir===null)throw Error(r(308));Gt=e,Ir.dependencies={lanes:0,firstContext:e}}else Gt=Gt.next=e;return t}var ft=null;function cs(e){ft===null?ft=[e]:ft.push(e)}function ra(e,t,i,d){var c=t.interleaved;return c===null?(i.next=i,cs(t)):(i.next=c.next,c.next=i),t.interleaved=i,Un(e,d)}function Un(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Xn=!1;function ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,i){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(ce&2)!==0){var c=d.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),d.pending=t,Un(e,i)}return c=d.interleaved,c===null?(t.next=t,cs(d)):(t.next=c.next,c.next=t),d.interleaved=t,Un(e,i)}function wr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var d=t.lanes;d&=e.pendingLanes,i|=d,t.lanes=i,xi(e,i)}}function sa(e,t){var i=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,i===d)){var c=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var T={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?c=g=T:g=g.next=T,i=i.next}while(i!==null);g===null?c=g=t:g=g.next=t}else c=g=t;i={baseState:d.baseState,firstBaseUpdate:c,lastBaseUpdate:g,shared:d.shared,effects:d.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ar(e,t,i,d){var c=e.updateQueue;Xn=!1;var g=c.firstBaseUpdate,T=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var _=S,N=_.next;_.next=null,T===null?g=N:T.next=N,T=_;var U=e.alternate;U!==null&&(U=U.updateQueue,S=U.lastBaseUpdate,S!==T&&(S===null?U.firstBaseUpdate=N:S.next=N,U.lastBaseUpdate=_))}if(g!==null){var F=c.baseState;T=0,U=N=_=null,S=g;do{var D=S.lane,B=S.eventTime;if((d&D)===D){U!==null&&(U=U.next={eventTime:B,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Y=e,Q=S;switch(D=t,B=i,Q.tag){case 1:if(Y=Q.payload,typeof Y=="function"){F=Y.call(B,F,D);break e}F=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=Q.payload,D=typeof Y=="function"?Y.call(B,F,D):Y,D==null)break e;F=W({},F,D);break e;case 2:Xn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,D=c.effects,D===null?c.effects=[S]:D.push(S))}else B={eventTime:B,lane:D,tag:S.tag,payload:S.payload,callback:S.callback,next:null},U===null?(N=U=B,_=F):U=U.next=B,T|=D;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;D=S,S=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);if(U===null&&(_=F),c.baseState=_,c.firstBaseUpdate=N,c.lastBaseUpdate=U,t=c.shared.interleaved,t!==null){c=t;do T|=c.lane,c=c.next;while(c!==t)}else g===null&&(c.shared.lanes=0);mt|=T,e.lanes=T,e.memoizedState=F}}function la(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var d=e[t],c=d.callback;if(c!==null){if(d.callback=null,d=i,typeof c!="function")throw Error(r(191,c));c.call(d)}}}var Ao={},Rn=Kn(Ao),xo=Kn(Ao),Ro=Kn(Ao);function ct(e){if(e===Ao)throw Error(r(174));return e}function ms(e,t){switch(_e(Ro,t),_e(xo,e),_e(Rn,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hi(t,e)}we(Rn),_e(Rn,t)}function Ht(){we(Rn),we(xo),we(Ro)}function ua(e){ct(Ro.current);var t=ct(Rn.current),i=hi(t,e.type);t!==i&&(_e(xo,e),_e(Rn,i))}function hs(e){xo.current===e&&(we(Rn),we(xo))}var Me=Kn(0);function xr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gs=[];function ys(){for(var e=0;e<gs.length;e++)gs[e]._workInProgressVersionPrimary=null;gs.length=0}var Rr=O.ReactCurrentDispatcher,vs=O.ReactCurrentBatchConfig,pt=0,ke=null,Ve=null,qe=null,Pr=!1,Po=!1,No=0,Wp=0;function We(){throw Error(r(321))}function Ts(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Tn(e[i],t[i]))return!1;return!0}function Es(e,t,i,d,c,g){if(pt=g,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rr.current=e===null||e.memoizedState===null?Qp:Xp,e=i(d,c),Po){g=0;do{if(Po=!1,No=0,25<=g)throw Error(r(301));g+=1,qe=Ve=null,t.updateQueue=null,Rr.current=Zp,e=i(d,c)}while(Po)}if(Rr.current=kr,t=Ve!==null&&Ve.next!==null,pt=0,qe=Ve=ke=null,Pr=!1,t)throw Error(r(300));return e}function Cs(){var e=No!==0;return No=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?ke.memoizedState=qe=e:qe=qe.next=e,qe}function mn(){if(Ve===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=qe===null?ke.memoizedState:qe.next;if(t!==null)qe=t,Ve=e;else{if(e===null)throw Error(r(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?ke.memoizedState=qe=e:qe=qe.next=e}return qe}function Mo(e,t){return typeof t=="function"?t(e):t}function Ss(e){var t=mn(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var d=Ve,c=d.baseQueue,g=i.pending;if(g!==null){if(c!==null){var T=c.next;c.next=g.next,g.next=T}d.baseQueue=c=g,i.pending=null}if(c!==null){g=c.next,d=d.baseState;var S=T=null,_=null,N=g;do{var U=N.lane;if((pt&U)===U)_!==null&&(_=_.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),d=N.hasEagerState?N.eagerState:e(d,N.action);else{var F={lane:U,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};_===null?(S=_=F,T=d):_=_.next=F,ke.lanes|=U,mt|=U}N=N.next}while(N!==null&&N!==g);_===null?T=d:_.next=S,Tn(d,t.memoizedState)||(en=!0),t.memoizedState=d,t.baseState=T,t.baseQueue=_,i.lastRenderedState=d}if(e=i.interleaved,e!==null){c=e;do g=c.lane,ke.lanes|=g,mt|=g,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function _s(e){var t=mn(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var d=i.dispatch,c=i.pending,g=t.memoizedState;if(c!==null){i.pending=null;var T=c=c.next;do g=e(g,T.action),T=T.next;while(T!==c);Tn(g,t.memoizedState)||(en=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),i.lastRenderedState=g}return[g,d]}function aa(){}function da(e,t){var i=ke,d=mn(),c=t(),g=!Tn(d.memoizedState,c);if(g&&(d.memoizedState=c,en=!0),d=d.queue,Is(pa.bind(null,i,d,e),[e]),d.getSnapshot!==t||g||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,ko(9,ca.bind(null,i,d,c,t),void 0,null),He===null)throw Error(r(349));(pt&30)!==0||fa(i,t,c)}return c}function fa(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ca(e,t,i,d){t.value=i,t.getSnapshot=d,ma(t)&&ha(e)}function pa(e,t,i){return i(function(){ma(t)&&ha(e)})}function ma(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Tn(e,i)}catch{return!0}}function ha(e){var t=Un(e,1);t!==null&&In(t,e,1,-1)}function ga(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=Op.bind(null,ke,e),[t.memoizedState,e]}function ko(e,t,i,d){return e={tag:e,create:t,destroy:i,deps:d,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(d=i.next,i.next=e,e.next=d,t.lastEffect=e)),e}function ya(){return mn().memoizedState}function Nr(e,t,i,d){var c=Pn();ke.flags|=e,c.memoizedState=ko(1|t,i,void 0,d===void 0?null:d)}function Mr(e,t,i,d){var c=mn();d=d===void 0?null:d;var g=void 0;if(Ve!==null){var T=Ve.memoizedState;if(g=T.destroy,d!==null&&Ts(d,T.deps)){c.memoizedState=ko(t,i,g,d);return}}ke.flags|=e,c.memoizedState=ko(1|t,i,g,d)}function va(e,t){return Nr(8390656,8,e,t)}function Is(e,t){return Mr(2048,8,e,t)}function Ta(e,t){return Mr(4,2,e,t)}function Ea(e,t){return Mr(4,4,e,t)}function Ca(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,i){return i=i!=null?i.concat([e]):null,Mr(4,4,Ca.bind(null,t,e),i)}function ws(){}function _a(e,t){var i=mn();t=t===void 0?null:t;var d=i.memoizedState;return d!==null&&t!==null&&Ts(t,d[1])?d[0]:(i.memoizedState=[e,t],e)}function Ia(e,t){var i=mn();t=t===void 0?null:t;var d=i.memoizedState;return d!==null&&t!==null&&Ts(t,d[1])?d[0]:(e=e(),i.memoizedState=[e,t],e)}function wa(e,t,i){return(pt&21)===0?(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=i):(Tn(i,t)||(i=nu(),ke.lanes|=i,mt|=i,e.baseState=!0),t)}function Yp(e,t){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var d=vs.transition;vs.transition={};try{e(!1),t()}finally{Ee=i,vs.transition=d}}function Aa(){return mn().memoizedState}function Kp(e,t,i){var d=nt(e);if(i={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null},xa(e))Ra(t,i);else if(i=ra(e,t,i,d),i!==null){var c=Xe();In(i,e,d,c),Pa(i,t,d)}}function Op(e,t,i){var d=nt(e),c={lane:d,action:i,hasEagerState:!1,eagerState:null,next:null};if(xa(e))Ra(t,c);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var T=t.lastRenderedState,S=g(T,i);if(c.hasEagerState=!0,c.eagerState=S,Tn(S,T)){var _=t.interleaved;_===null?(c.next=c,cs(t)):(c.next=_.next,_.next=c),t.interleaved=c;return}}catch{}finally{}i=ra(e,t,c,d),i!==null&&(c=Xe(),In(i,e,d,c),Pa(i,t,d))}}function xa(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Ra(e,t){Po=Pr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Pa(e,t,i){if((i&4194240)!==0){var d=t.lanes;d&=e.pendingLanes,i|=d,t.lanes=i,xi(e,i)}}var kr={readContext:pn,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Qp={readContext:pn,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:va,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Nr(4194308,4,Ca.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Nr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nr(4,2,e,t)},useMemo:function(e,t){var i=Pn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var d=Pn();return t=i!==void 0?i(t):t,d.memoizedState=d.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},d.queue=e,e=e.dispatch=Kp.bind(null,ke,e),[d.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:ga,useDebugValue:ws,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=ga(!1),t=e[0];return e=Yp.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var d=ke,c=Pn();if(Ne){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),He===null)throw Error(r(349));(pt&30)!==0||fa(d,t,i)}c.memoizedState=i;var g={value:i,getSnapshot:t};return c.queue=g,va(pa.bind(null,d,g,e),[e]),d.flags|=2048,ko(9,ca.bind(null,d,g,i,t),void 0,null),i},useId:function(){var e=Pn(),t=He.identifierPrefix;if(Ne){var i=Ln,d=Dn;i=(d&~(1<<32-vn(d)-1)).toString(32)+i,t=":"+t+"R"+i,i=No++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Wp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xp={readContext:pn,useCallback:_a,useContext:pn,useEffect:Is,useImperativeHandle:Sa,useInsertionEffect:Ta,useLayoutEffect:Ea,useMemo:Ia,useReducer:Ss,useRef:ya,useState:function(){return Ss(Mo)},useDebugValue:ws,useDeferredValue:function(e){var t=mn();return wa(t,Ve.memoizedState,e)},useTransition:function(){var e=Ss(Mo)[0],t=mn().memoizedState;return[e,t]},useMutableSource:aa,useSyncExternalStore:da,useId:Aa,unstable_isNewReconciler:!1},Zp={readContext:pn,useCallback:_a,useContext:pn,useEffect:Is,useImperativeHandle:Sa,useInsertionEffect:Ta,useLayoutEffect:Ea,useMemo:Ia,useReducer:_s,useRef:ya,useState:function(){return _s(Mo)},useDebugValue:ws,useDeferredValue:function(e){var t=mn();return Ve===null?t.memoizedState=e:wa(t,Ve.memoizedState,e)},useTransition:function(){var e=_s(Mo)[0],t=mn().memoizedState;return[e,t]},useMutableSource:aa,useSyncExternalStore:da,useId:Aa,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function As(e,t,i,d){t=e.memoizedState,i=i(d,t),i=i==null?t:W({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Dr={isMounted:function(e){return(e=e._reactInternals)?st(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var d=Xe(),c=nt(e),g=Fn(d,c);g.payload=t,i!=null&&(g.callback=i),t=Zn(e,g,c),t!==null&&(In(t,e,c,d),wr(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var d=Xe(),c=nt(e),g=Fn(d,c);g.tag=1,g.payload=t,i!=null&&(g.callback=i),t=Zn(e,g,c),t!==null&&(In(t,e,c,d),wr(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Xe(),d=nt(e),c=Fn(i,d);c.tag=2,t!=null&&(c.callback=t),t=Zn(e,c,d),t!==null&&(In(t,e,d,i),wr(t,e,d))}};function Na(e,t,i,d,c,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,g,T):t.prototype&&t.prototype.isPureReactComponent?!vo(i,d)||!vo(c,g):!0}function Ma(e,t,i){var d=!1,c=On,g=t.contextType;return typeof g=="object"&&g!==null?g=pn(g):(c=je(t)?ut:$e.current,d=t.contextTypes,g=(d=d!=null)?Dt(e,c):On),t=new t(i,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dr,e.stateNode=t,t._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=g),t}function ka(e,t,i,d){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,d),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,d),t.state!==e&&Dr.enqueueReplaceState(t,t.state,null)}function xs(e,t,i,d){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},ps(e);var g=t.contextType;typeof g=="object"&&g!==null?c.context=pn(g):(g=je(t)?ut:$e.current,c.context=Dt(e,g)),c.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(As(e,t,g,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Dr.enqueueReplaceState(c,c.state,null),Ar(e,i,c,d),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Bt(e,t){try{var i="",d=t;do i+=he(d),d=d.return;while(d);var c=i}catch(g){c=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:c,digest:null}}function Rs(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Ps(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function Da(e,t,i){i=Fn(-1,i),i.tag=3,i.payload={element:null};var d=t.value;return i.callback=function(){Hr||(Hr=!0,$s=d),Ps(e,t)},i}function La(e,t,i){i=Fn(-1,i),i.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var c=t.value;i.payload=function(){return d(c)},i.callback=function(){Ps(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){Ps(e,t),typeof d!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var T=t.stack;this.componentDidCatch(t.value,{componentStack:T!==null?T:""})}),i}function Ua(e,t,i){var d=e.pingCache;if(d===null){d=e.pingCache=new bp;var c=new Set;d.set(t,c)}else c=d.get(t),c===void 0&&(c=new Set,d.set(t,c));c.has(i)||(c.add(i),e=cm.bind(null,e,t,i),t.then(e,e))}function Fa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Va(e,t,i,d,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Fn(-1,1),t.tag=2,Zn(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var jp=O.ReactCurrentOwner,en=!1;function Qe(e,t,i,d){t.child=e===null?oa(t,null,i,d):Vt(t,e.child,i,d)}function Ga(e,t,i,d,c){i=i.render;var g=t.ref;return qt(t,c),d=Es(e,t,i,d,g,c),i=Cs(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Vn(e,t,c)):(Ne&&i&&os(t),t.flags|=1,Qe(e,t,d,c),t.child)}function qa(e,t,i,d,c){if(e===null){var g=i.type;return typeof g=="function"&&!Zs(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=g,Ha(e,t,g,d,c)):(e=Yr(i.type,null,d,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,(e.lanes&c)===0){var T=g.memoizedProps;if(i=i.compare,i=i!==null?i:vo,i(T,d)&&e.ref===t.ref)return Vn(e,t,c)}return t.flags|=1,e=ot(g,d),e.ref=t.ref,e.return=t,t.child=e}function Ha(e,t,i,d,c){if(e!==null){var g=e.memoizedProps;if(vo(g,d)&&e.ref===t.ref)if(en=!1,t.pendingProps=d=g,(e.lanes&c)!==0)(e.flags&131072)!==0&&(en=!0);else return t.lanes=e.lanes,Vn(e,t,c)}return Ns(e,t,i,d,c)}function Ba(e,t,i){var d=t.pendingProps,c=d.children,g=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Jt,dn),dn|=i;else{if((i&1073741824)===0)return e=g!==null?g.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Jt,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:i,_e(Jt,dn),dn|=d}else g!==null?(d=g.baseLanes|i,t.memoizedState=null):d=i,_e(Jt,dn),dn|=d;return Qe(e,t,c,i),t.child}function za(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,i,d,c){var g=je(i)?ut:$e.current;return g=Dt(t,g),qt(t,c),i=Es(e,t,i,d,g,c),d=Cs(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Vn(e,t,c)):(Ne&&d&&os(t),t.flags|=1,Qe(e,t,i,c),t.child)}function Ja(e,t,i,d,c){if(je(i)){var g=!0;yr(t)}else g=!1;if(qt(t,c),t.stateNode===null)Ur(e,t),Ma(t,i,d),xs(t,i,d,c),d=!0;else if(e===null){var T=t.stateNode,S=t.memoizedProps;T.props=S;var _=T.context,N=i.contextType;typeof N=="object"&&N!==null?N=pn(N):(N=je(i)?ut:$e.current,N=Dt(t,N));var U=i.getDerivedStateFromProps,F=typeof U=="function"||typeof T.getSnapshotBeforeUpdate=="function";F||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(S!==d||_!==N)&&ka(t,T,d,N),Xn=!1;var D=t.memoizedState;T.state=D,Ar(t,d,T,c),_=t.memoizedState,S!==d||D!==_||be.current||Xn?(typeof U=="function"&&(As(t,i,U,d),_=t.memoizedState),(S=Xn||Na(t,i,S,d,D,_,N))?(F||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(t.flags|=4194308)):(typeof T.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=d,t.memoizedState=_),T.props=d,T.state=_,T.context=N,d=S):(typeof T.componentDidMount=="function"&&(t.flags|=4194308),d=!1)}else{T=t.stateNode,ia(e,t),S=t.memoizedProps,N=t.type===t.elementType?S:Cn(t.type,S),T.props=N,F=t.pendingProps,D=T.context,_=i.contextType,typeof _=="object"&&_!==null?_=pn(_):(_=je(i)?ut:$e.current,_=Dt(t,_));var B=i.getDerivedStateFromProps;(U=typeof B=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(S!==F||D!==_)&&ka(t,T,d,_),Xn=!1,D=t.memoizedState,T.state=D,Ar(t,d,T,c);var Y=t.memoizedState;S!==F||D!==Y||be.current||Xn?(typeof B=="function"&&(As(t,i,B,d),Y=t.memoizedState),(N=Xn||Na(t,i,N,d,D,Y,_)||!1)?(U||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,Y,_),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,Y,_)),typeof T.componentDidUpdate=="function"&&(t.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof T.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=d,t.memoizedState=Y),T.props=d,T.state=Y,T.context=_,d=N):(typeof T.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),d=!1)}return Ms(e,t,i,d,g,c)}function Ms(e,t,i,d,c,g){za(e,t);var T=(t.flags&128)!==0;if(!d&&!T)return c&&Ou(t,i,!1),Vn(e,t,g);d=t.stateNode,jp.current=t;var S=T&&typeof i.getDerivedStateFromError!="function"?null:d.render();return t.flags|=1,e!==null&&T?(t.child=Vt(t,e.child,null,g),t.child=Vt(t,null,S,g)):Qe(e,t,S,g),t.memoizedState=d.state,c&&Ou(t,i,!0),t.child}function $a(e){var t=e.stateNode;t.pendingContext?Yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yu(e,t.context,!1),ms(e,t.containerInfo)}function Wa(e,t,i,d,c){return Ft(),ls(c),t.flags|=256,Qe(e,t,i,d),t.child}var ks={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ya(e,t,i){var d=t.pendingProps,c=Me.current,g=!1,T=(t.flags&128)!==0,S;if((S=T)||(S=e!==null&&e.memoizedState===null?!1:(c&2)!==0),S?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),_e(Me,c&1),e===null)return ss(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(T=d.children,e=d.fallback,g?(d=t.mode,g=t.child,T={mode:"hidden",children:T},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=T):g=Kr(T,d,0,null),e=vt(e,d,i,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=Ds(i),t.memoizedState=ks,e):Ls(t,T));if(c=e.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return em(e,t,T,d,S,c,i);if(g){g=d.fallback,T=t.mode,c=e.child,S=c.sibling;var _={mode:"hidden",children:d.children};return(T&1)===0&&t.child!==c?(d=t.child,d.childLanes=0,d.pendingProps=_,t.deletions=null):(d=ot(c,_),d.subtreeFlags=c.subtreeFlags&14680064),S!==null?g=ot(S,g):(g=vt(g,T,i,null),g.flags|=2),g.return=t,d.return=t,d.sibling=g,t.child=d,d=g,g=t.child,T=e.child.memoizedState,T=T===null?Ds(i):{baseLanes:T.baseLanes|i,cachePool:null,transitions:T.transitions},g.memoizedState=T,g.childLanes=e.childLanes&~i,t.memoizedState=ks,d}return g=e.child,e=g.sibling,d=ot(g,{mode:"visible",children:d.children}),(t.mode&1)===0&&(d.lanes=i),d.return=t,d.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=d,t.memoizedState=null,d}function Ls(e,t){return t=Kr({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lr(e,t,i,d){return d!==null&&ls(d),Vt(t,e.child,null,i),e=Ls(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function em(e,t,i,d,c,g,T){if(i)return t.flags&256?(t.flags&=-257,d=Rs(Error(r(422))),Lr(e,t,T,d)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=d.fallback,c=t.mode,d=Kr({mode:"visible",children:d.children},c,0,null),g=vt(g,c,T,null),g.flags|=2,d.return=t,g.return=t,d.sibling=g,t.child=d,(t.mode&1)!==0&&Vt(t,e.child,null,T),t.child.memoizedState=Ds(T),t.memoizedState=ks,g);if((t.mode&1)===0)return Lr(e,t,T,null);if(c.data==="$!"){if(d=c.nextSibling&&c.nextSibling.dataset,d)var S=d.dgst;return d=S,g=Error(r(419)),d=Rs(g,d,void 0),Lr(e,t,T,d)}if(S=(T&e.childLanes)!==0,en||S){if(d=He,d!==null){switch(T&-T){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(d.suspendedLanes|T))!==0?0:c,c!==0&&c!==g.retryLane&&(g.retryLane=c,Un(e,c),In(d,e,c,-1))}return Xs(),d=Rs(Error(r(421))),Lr(e,t,T,d)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=pm.bind(null,e),c._reactRetry=t,null):(e=g.treeContext,an=Yn(c.nextSibling),un=t,Ne=!0,En=null,e!==null&&(fn[cn++]=Dn,fn[cn++]=Ln,fn[cn++]=at,Dn=e.id,Ln=e.overflow,at=t),t=Ls(t,d.children),t.flags|=4096,t)}function Ka(e,t,i){e.lanes|=t;var d=e.alternate;d!==null&&(d.lanes|=t),fs(e.return,t,i)}function Us(e,t,i,d,c){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:d,tail:i,tailMode:c}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=i,g.tailMode=c)}function Oa(e,t,i){var d=t.pendingProps,c=d.revealOrder,g=d.tail;if(Qe(e,t,d.children,i),d=Me.current,(d&2)!==0)d=d&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ka(e,i,t);else if(e.tag===19)Ka(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(_e(Me,d),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&xr(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Us(t,!1,c,i,g);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&xr(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Us(t,!0,i,null,g);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ur(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),mt|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=ot(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ot(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function nm(e,t,i){switch(t.tag){case 3:$a(t),Ft();break;case 5:ua(t);break;case 1:je(t.type)&&yr(t);break;case 4:ms(t,t.stateNode.containerInfo);break;case 10:var d=t.type._context,c=t.memoizedProps.value;_e(_r,d._currentValue),d._currentValue=c;break;case 13:if(d=t.memoizedState,d!==null)return d.dehydrated!==null?(_e(Me,Me.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Ya(e,t,i):(_e(Me,Me.current&1),e=Vn(e,t,i),e!==null?e.sibling:null);_e(Me,Me.current&1);break;case 19:if(d=(i&t.childLanes)!==0,(e.flags&128)!==0){if(d)return Oa(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(Me,Me.current),d)break;return null;case 22:case 23:return t.lanes=0,Ba(e,t,i)}return Vn(e,t,i)}var Qa,Fs,Xa,Za;Qa=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Fs=function(){},Xa=function(e,t,i,d){var c=e.memoizedProps;if(c!==d){e=t.stateNode,ct(Rn.current);var g=null;switch(i){case"input":c=fi(e,c),d=fi(e,d),g=[];break;case"select":c=W({},c,{value:void 0}),d=W({},d,{value:void 0}),g=[];break;case"textarea":c=mi(e,c),d=mi(e,d),g=[];break;default:typeof c.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=mr)}gi(i,d);var T;i=null;for(N in c)if(!d.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var S=c[N];for(T in S)S.hasOwnProperty(T)&&(i||(i={}),i[T]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(u.hasOwnProperty(N)?g||(g=[]):(g=g||[]).push(N,null));for(N in d){var _=d[N];if(S=c!=null?c[N]:void 0,d.hasOwnProperty(N)&&_!==S&&(_!=null||S!=null))if(N==="style")if(S){for(T in S)!S.hasOwnProperty(T)||_&&_.hasOwnProperty(T)||(i||(i={}),i[T]="");for(T in _)_.hasOwnProperty(T)&&S[T]!==_[T]&&(i||(i={}),i[T]=_[T])}else i||(g||(g=[]),g.push(N,i)),i=_;else N==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,S=S?S.__html:void 0,_!=null&&S!==_&&(g=g||[]).push(N,_)):N==="children"?typeof _!="string"&&typeof _!="number"||(g=g||[]).push(N,""+_):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(u.hasOwnProperty(N)?(_!=null&&N==="onScroll"&&Ie("scroll",e),g||S===_||(g=[])):(g=g||[]).push(N,_))}i&&(g=g||[]).push("style",i);var N=g;(t.updateQueue=N)&&(t.flags|=4)}},Za=function(e,t,i,d){i!==d&&(t.flags|=4)};function Do(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,d=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,d|=c.subtreeFlags&14680064,d|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,d|=c.subtreeFlags,d|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=d,e.childLanes=i,t}function tm(e,t,i){var d=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return je(t.type)&&gr(),Ye(t),null;case 3:return d=t.stateNode,Ht(),we(be),we($e),ys(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Cr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,En!==null&&(Ks(En),En=null))),Fs(e,t),Ye(t),null;case 5:hs(t);var c=ct(Ro.current);if(i=t.type,e!==null&&t.stateNode!=null)Xa(e,t,i,d,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!d){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}if(e=ct(Rn.current),Cr(t)){d=t.stateNode,i=t.type;var g=t.memoizedProps;switch(d[xn]=t,d[_o]=g,e=(t.mode&1)!==0,i){case"dialog":Ie("cancel",d),Ie("close",d);break;case"iframe":case"object":case"embed":Ie("load",d);break;case"video":case"audio":for(c=0;c<Eo.length;c++)Ie(Eo[c],d);break;case"source":Ie("error",d);break;case"img":case"image":case"link":Ie("error",d),Ie("load",d);break;case"details":Ie("toggle",d);break;case"input":Ml(d,g),Ie("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Ie("invalid",d);break;case"textarea":Ll(d,g),Ie("invalid",d)}gi(i,g),c=null;for(var T in g)if(g.hasOwnProperty(T)){var S=g[T];T==="children"?typeof S=="string"?d.textContent!==S&&(g.suppressHydrationWarning!==!0&&pr(d.textContent,S,e),c=["children",S]):typeof S=="number"&&d.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&pr(d.textContent,S,e),c=["children",""+S]):u.hasOwnProperty(T)&&S!=null&&T==="onScroll"&&Ie("scroll",d)}switch(i){case"input":$o(d),Dl(d,g,!0);break;case"textarea":$o(d),Fl(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=mr)}d=c,t.updateQueue=d,d!==null&&(t.flags|=4)}else{T=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vl(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=T.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=T.createElement(i,{is:d.is}):(e=T.createElement(i),i==="select"&&(T=e,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):e=T.createElementNS(e,i),e[xn]=t,e[_o]=d,Qa(e,t,!1,!1),t.stateNode=e;e:{switch(T=yi(i,d),i){case"dialog":Ie("cancel",e),Ie("close",e),c=d;break;case"iframe":case"object":case"embed":Ie("load",e),c=d;break;case"video":case"audio":for(c=0;c<Eo.length;c++)Ie(Eo[c],e);c=d;break;case"source":Ie("error",e),c=d;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),c=d;break;case"details":Ie("toggle",e),c=d;break;case"input":Ml(e,d),c=fi(e,d),Ie("invalid",e);break;case"option":c=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},c=W({},d,{value:void 0}),Ie("invalid",e);break;case"textarea":Ll(e,d),c=mi(e,d),Ie("invalid",e);break;default:c=d}gi(i,c),S=c;for(g in S)if(S.hasOwnProperty(g)){var _=S[g];g==="style"?Hl(e,_):g==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Gl(e,_)):g==="children"?typeof _=="string"?(i!=="textarea"||_!=="")&&eo(e,_):typeof _=="number"&&eo(e,""+_):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(u.hasOwnProperty(g)?_!=null&&g==="onScroll"&&Ie("scroll",e):_!=null&&q(e,g,_,T))}switch(i){case"input":$o(e),Dl(e,d,!1);break;case"textarea":$o(e),Fl(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Te(d.value));break;case"select":e.multiple=!!d.multiple,g=d.value,g!=null?Ct(e,!!d.multiple,g,!1):d.defaultValue!=null&&Ct(e,!!d.multiple,d.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=mr)}switch(i){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Za(e,t,e.memoizedProps,d);else{if(typeof d!="string"&&t.stateNode===null)throw Error(r(166));if(i=ct(Ro.current),ct(Rn.current),Cr(t)){if(d=t.stateNode,i=t.memoizedProps,d[xn]=t,(g=d.nodeValue!==i)&&(e=un,e!==null))switch(e.tag){case 3:pr(d.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pr(d.nodeValue,i,(e.mode&1)!==0)}g&&(t.flags|=4)}else d=(i.nodeType===9?i:i.ownerDocument).createTextNode(d),d[xn]=t,t.stateNode=d}return Ye(t),null;case 13:if(we(Me),d=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&an!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ea(),Ft(),t.flags|=98560,g=!1;else if(g=Cr(t),d!==null&&d.dehydrated!==null){if(e===null){if(!g)throw Error(r(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[xn]=t}else Ft(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),g=!1}else En!==null&&(Ks(En),En=null),g=!0;if(!g)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Me.current&1)!==0?Ge===0&&(Ge=3):Xs())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Ht(),Fs(e,t),e===null&&Co(t.stateNode.containerInfo),Ye(t),null;case 10:return ds(t.type._context),Ye(t),null;case 17:return je(t.type)&&gr(),Ye(t),null;case 19:if(we(Me),g=t.memoizedState,g===null)return Ye(t),null;if(d=(t.flags&128)!==0,T=g.rendering,T===null)if(d)Do(g,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(T=xr(e),T!==null){for(t.flags|=128,Do(g,!1),d=T.updateQueue,d!==null&&(t.updateQueue=d,t.flags|=4),t.subtreeFlags=0,d=i,i=t.child;i!==null;)g=i,e=d,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,e=T.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return _e(Me,Me.current&1|2),t.child}e=e.sibling}g.tail!==null&&Le()>$t&&(t.flags|=128,d=!0,Do(g,!1),t.lanes=4194304)}else{if(!d)if(e=xr(T),e!==null){if(t.flags|=128,d=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Do(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Ne)return Ye(t),null}else 2*Le()-g.renderingStartTime>$t&&i!==1073741824&&(t.flags|=128,d=!0,Do(g,!1),t.lanes=4194304);g.isBackwards?(T.sibling=t.child,t.child=T):(i=g.last,i!==null?i.sibling=T:t.child=T,g.last=T)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=Le(),t.sibling=null,i=Me.current,_e(Me,d?i&1|2:i&1),t):(Ye(t),null);case 22:case 23:return Qs(),d=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(t.flags|=8192),d&&(t.mode&1)!==0?(dn&1073741824)!==0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function om(e,t){switch(rs(t),t.tag){case 1:return je(t.type)&&gr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ht(),we(be),we($e),ys(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return hs(t),null;case 13:if(we(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ft()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Me),null;case 4:return Ht(),null;case 10:return ds(t.type._context),null;case 22:case 23:return Qs(),null;case 24:return null;default:return null}}var Fr=!1,Ke=!1,rm=typeof WeakSet=="function"?WeakSet:Set,J=null;function zt(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(d){De(e,t,d)}else i.current=null}function Vs(e,t,i){try{i()}catch(d){De(e,t,d)}}var ba=!1;function im(e,t){if(Qi=tr,e=Nu(),Bi(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var d=i.getSelection&&i.getSelection();if(d&&d.rangeCount!==0){i=d.anchorNode;var c=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var T=0,S=-1,_=-1,N=0,U=0,F=e,D=null;n:for(;;){for(var B;F!==i||c!==0&&F.nodeType!==3||(S=T+c),F!==g||d!==0&&F.nodeType!==3||(_=T+d),F.nodeType===3&&(T+=F.nodeValue.length),(B=F.firstChild)!==null;)D=F,F=B;for(;;){if(F===e)break n;if(D===i&&++N===c&&(S=T),D===g&&++U===d&&(_=T),(B=F.nextSibling)!==null)break;F=D,D=F.parentNode}F=B}i=S===-1||_===-1?null:{start:S,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xi={focusedElem:e,selectionRange:i},tr=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var Q=Y.memoizedProps,Ue=Y.memoizedState,x=t.stateNode,I=x.getSnapshotBeforeUpdate(t.elementType===t.type?Q:Cn(t.type,Q),Ue);x.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(V){De(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return Y=ba,ba=!1,Y}function Lo(e,t,i){var d=t.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var c=d=d.next;do{if((c.tag&e)===e){var g=c.destroy;c.destroy=void 0,g!==void 0&&Vs(t,i,g)}c=c.next}while(c!==d)}}function Vr(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var d=i.create;i.destroy=d()}i=i.next}while(i!==t)}}function Gs(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function ja(e){var t=e.alternate;t!==null&&(e.alternate=null,ja(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[_o],delete t[es],delete t[Bp],delete t[zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ed(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qs(e,t,i){var d=e.tag;if(d===5||d===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mr));else if(d!==4&&(e=e.child,e!==null))for(qs(e,t,i),e=e.sibling;e!==null;)qs(e,t,i),e=e.sibling}function Hs(e,t,i){var d=e.tag;if(d===5||d===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Hs(e,t,i),e=e.sibling;e!==null;)Hs(e,t,i),e=e.sibling}var ze=null,Sn=!1;function bn(e,t,i){for(i=i.child;i!==null;)td(e,t,i),i=i.sibling}function td(e,t,i){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Xo,i)}catch{}switch(i.tag){case 5:Ke||zt(i,t);case 6:var d=ze,c=Sn;ze=null,bn(e,t,i),ze=d,Sn=c,ze!==null&&(Sn?(e=ze,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ze.removeChild(i.stateNode));break;case 18:ze!==null&&(Sn?(e=ze,i=i.stateNode,e.nodeType===8?ji(e.parentNode,i):e.nodeType===1&&ji(e,i),co(e)):ji(ze,i.stateNode));break;case 4:d=ze,c=Sn,ze=i.stateNode.containerInfo,Sn=!0,bn(e,t,i),ze=d,Sn=c;break;case 0:case 11:case 14:case 15:if(!Ke&&(d=i.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){c=d=d.next;do{var g=c,T=g.destroy;g=g.tag,T!==void 0&&((g&2)!==0||(g&4)!==0)&&Vs(i,t,T),c=c.next}while(c!==d)}bn(e,t,i);break;case 1:if(!Ke&&(zt(i,t),d=i.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=i.memoizedProps,d.state=i.memoizedState,d.componentWillUnmount()}catch(S){De(i,t,S)}bn(e,t,i);break;case 21:bn(e,t,i);break;case 22:i.mode&1?(Ke=(d=Ke)||i.memoizedState!==null,bn(e,t,i),Ke=d):bn(e,t,i);break;default:bn(e,t,i)}}function od(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new rm),t.forEach(function(d){var c=mm.bind(null,e,d);i.has(d)||(i.add(d),d.then(c,c))})}}function _n(e,t){var i=t.deletions;if(i!==null)for(var d=0;d<i.length;d++){var c=i[d];try{var g=e,T=t,S=T;e:for(;S!==null;){switch(S.tag){case 5:ze=S.stateNode,Sn=!1;break e;case 3:ze=S.stateNode.containerInfo,Sn=!0;break e;case 4:ze=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(ze===null)throw Error(r(160));td(g,T,c),ze=null,Sn=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(N){De(c,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rd(t,e),t=t.sibling}function rd(e,t){var i=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Nn(e),d&4){try{Lo(3,e,e.return),Vr(3,e)}catch(Q){De(e,e.return,Q)}try{Lo(5,e,e.return)}catch(Q){De(e,e.return,Q)}}break;case 1:_n(t,e),Nn(e),d&512&&i!==null&&zt(i,i.return);break;case 5:if(_n(t,e),Nn(e),d&512&&i!==null&&zt(i,i.return),e.flags&32){var c=e.stateNode;try{eo(c,"")}catch(Q){De(e,e.return,Q)}}if(d&4&&(c=e.stateNode,c!=null)){var g=e.memoizedProps,T=i!==null?i.memoizedProps:g,S=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&kl(c,g),yi(S,T);var N=yi(S,g);for(T=0;T<_.length;T+=2){var U=_[T],F=_[T+1];U==="style"?Hl(c,F):U==="dangerouslySetInnerHTML"?Gl(c,F):U==="children"?eo(c,F):q(c,U,F,N)}switch(S){case"input":ci(c,g);break;case"textarea":Ul(c,g);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!g.multiple;var B=g.value;B!=null?Ct(c,!!g.multiple,B,!1):D!==!!g.multiple&&(g.defaultValue!=null?Ct(c,!!g.multiple,g.defaultValue,!0):Ct(c,!!g.multiple,g.multiple?[]:"",!1))}c[_o]=g}catch(Q){De(e,e.return,Q)}}break;case 6:if(_n(t,e),Nn(e),d&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,g=e.memoizedProps;try{c.nodeValue=g}catch(Q){De(e,e.return,Q)}}break;case 3:if(_n(t,e),Nn(e),d&4&&i!==null&&i.memoizedState.isDehydrated)try{co(t.containerInfo)}catch(Q){De(e,e.return,Q)}break;case 4:_n(t,e),Nn(e);break;case 13:_n(t,e),Nn(e),c=e.child,c.flags&8192&&(g=c.memoizedState!==null,c.stateNode.isHidden=g,!g||c.alternate!==null&&c.alternate.memoizedState!==null||(Js=Le())),d&4&&od(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(Ke=(N=Ke)||U,_n(t,e),Ke=N):_n(t,e),Nn(e),d&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!U&&(e.mode&1)!==0)for(J=e,U=e.child;U!==null;){for(F=J=U;J!==null;){switch(D=J,B=D.child,D.tag){case 0:case 11:case 14:case 15:Lo(4,D,D.return);break;case 1:zt(D,D.return);var Y=D.stateNode;if(typeof Y.componentWillUnmount=="function"){d=D,i=D.return;try{t=d,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(Q){De(d,i,Q)}}break;case 5:zt(D,D.return);break;case 22:if(D.memoizedState!==null){ld(F);continue}}B!==null?(B.return=D,J=B):ld(F)}U=U.sibling}e:for(U=null,F=e;;){if(F.tag===5){if(U===null){U=F;try{c=F.stateNode,N?(g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=F.stateNode,_=F.memoizedProps.style,T=_!=null&&_.hasOwnProperty("display")?_.display:null,S.style.display=ql("display",T))}catch(Q){De(e,e.return,Q)}}}else if(F.tag===6){if(U===null)try{F.stateNode.nodeValue=N?"":F.memoizedProps}catch(Q){De(e,e.return,Q)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;U===F&&(U=null),F=F.return}U===F&&(U=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:_n(t,e),Nn(e),d&4&&od(e);break;case 21:break;default:_n(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(ed(i)){var d=i;break e}i=i.return}throw Error(r(160))}switch(d.tag){case 5:var c=d.stateNode;d.flags&32&&(eo(c,""),d.flags&=-33);var g=nd(e);Hs(e,g,c);break;case 3:case 4:var T=d.stateNode.containerInfo,S=nd(e);qs(e,S,T);break;default:throw Error(r(161))}}catch(_){De(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sm(e,t,i){J=e,id(e)}function id(e,t,i){for(var d=(e.mode&1)!==0;J!==null;){var c=J,g=c.child;if(c.tag===22&&d){var T=c.memoizedState!==null||Fr;if(!T){var S=c.alternate,_=S!==null&&S.memoizedState!==null||Ke;S=Fr;var N=Ke;if(Fr=T,(Ke=_)&&!N)for(J=c;J!==null;)T=J,_=T.child,T.tag===22&&T.memoizedState!==null?ud(c):_!==null?(_.return=T,J=_):ud(c);for(;g!==null;)J=g,id(g),g=g.sibling;J=c,Fr=S,Ke=N}sd(e)}else(c.subtreeFlags&8772)!==0&&g!==null?(g.return=c,J=g):sd(e)}}function sd(e){for(;J!==null;){var t=J;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ke||Vr(5,t);break;case 1:var d=t.stateNode;if(t.flags&4&&!Ke)if(i===null)d.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Cn(t.type,i.memoizedProps);d.componentDidUpdate(c,i.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&la(t,g,d);break;case 3:var T=t.updateQueue;if(T!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}la(t,T,i)}break;case 5:var S=t.stateNode;if(i===null&&t.flags&4){i=S;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&i.focus();break;case"img":_.src&&(i.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var U=N.memoizedState;if(U!==null){var F=U.dehydrated;F!==null&&co(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ke||t.flags&512&&Gs(t)}catch(D){De(t,t.return,D)}}if(t===e){J=null;break}if(i=t.sibling,i!==null){i.return=t.return,J=i;break}J=t.return}}function ld(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var i=t.sibling;if(i!==null){i.return=t.return,J=i;break}J=t.return}}function ud(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Vr(4,t)}catch(_){De(t,i,_)}break;case 1:var d=t.stateNode;if(typeof d.componentDidMount=="function"){var c=t.return;try{d.componentDidMount()}catch(_){De(t,c,_)}}var g=t.return;try{Gs(t)}catch(_){De(t,g,_)}break;case 5:var T=t.return;try{Gs(t)}catch(_){De(t,T,_)}}}catch(_){De(t,t.return,_)}if(t===e){J=null;break}var S=t.sibling;if(S!==null){S.return=t.return,J=S;break}J=t.return}}var lm=Math.ceil,Gr=O.ReactCurrentDispatcher,Bs=O.ReactCurrentOwner,hn=O.ReactCurrentBatchConfig,ce=0,He=null,Fe=null,Je=0,dn=0,Jt=Kn(0),Ge=0,Uo=null,mt=0,qr=0,zs=0,Fo=null,nn=null,Js=0,$t=1/0,Gn=null,Hr=!1,$s=null,jn=null,Br=!1,et=null,zr=0,Vo=0,Ws=null,Jr=-1,$r=0;function Xe(){return(ce&6)!==0?Le():Jr!==-1?Jr:Jr=Le()}function nt(e){return(e.mode&1)===0?1:(ce&2)!==0&&Je!==0?Je&-Je:$p.transition!==null?($r===0&&($r=nu()),$r):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:du(e.type)),e)}function In(e,t,i,d){if(50<Vo)throw Vo=0,Ws=null,Error(r(185));so(e,i,d),((ce&2)===0||e!==He)&&(e===He&&((ce&2)===0&&(qr|=i),Ge===4&&tt(e,Je)),tn(e,d),i===1&&ce===0&&(t.mode&1)===0&&($t=Le()+500,vr&&Qn()))}function tn(e,t){var i=e.callbackNode;$c(e,t);var d=jo(e,e===He?Je:0);if(d===0)i!==null&&bl(i),e.callbackNode=null,e.callbackPriority=0;else if(t=d&-d,e.callbackPriority!==t){if(i!=null&&bl(i),t===1)e.tag===0?Jp(dd.bind(null,e)):Qu(dd.bind(null,e)),qp(function(){(ce&6)===0&&Qn()}),i=null;else{switch(tu(d)){case 1:i=Ii;break;case 4:i=jl;break;case 16:i=Qo;break;case 536870912:i=eu;break;default:i=Qo}i=vd(i,ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ad(e,t){if(Jr=-1,$r=0,(ce&6)!==0)throw Error(r(327));var i=e.callbackNode;if(Wt()&&e.callbackNode!==i)return null;var d=jo(e,e===He?Je:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||t)t=Wr(e,d);else{t=d;var c=ce;ce|=2;var g=cd();(He!==e||Je!==t)&&(Gn=null,$t=Le()+500,gt(e,t));do try{dm();break}catch(S){fd(e,S)}while(!0);as(),Gr.current=g,ce=c,Fe!==null?t=0:(He=null,Je=0,t=Ge)}if(t!==0){if(t===2&&(c=wi(e),c!==0&&(d=c,t=Ys(e,c))),t===1)throw i=Uo,gt(e,0),tt(e,d),tn(e,Le()),i;if(t===6)tt(e,d);else{if(c=e.current.alternate,(d&30)===0&&!um(c)&&(t=Wr(e,d),t===2&&(g=wi(e),g!==0&&(d=g,t=Ys(e,g))),t===1))throw i=Uo,gt(e,0),tt(e,d),tn(e,Le()),i;switch(e.finishedWork=c,e.finishedLanes=d,t){case 0:case 1:throw Error(r(345));case 2:yt(e,nn,Gn);break;case 3:if(tt(e,d),(d&130023424)===d&&(t=Js+500-Le(),10<t)){if(jo(e,0)!==0)break;if(c=e.suspendedLanes,(c&d)!==d){Xe(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=bi(yt.bind(null,e,nn,Gn),t);break}yt(e,nn,Gn);break;case 4:if(tt(e,d),(d&4194240)===d)break;for(t=e.eventTimes,c=-1;0<d;){var T=31-vn(d);g=1<<T,T=t[T],T>c&&(c=T),d&=~g}if(d=c,d=Le()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lm(d/1960))-d,10<d){e.timeoutHandle=bi(yt.bind(null,e,nn,Gn),d);break}yt(e,nn,Gn);break;case 5:yt(e,nn,Gn);break;default:throw Error(r(329))}}}return tn(e,Le()),e.callbackNode===i?ad.bind(null,e):null}function Ys(e,t){var i=Fo;return e.current.memoizedState.isDehydrated&&(gt(e,t).flags|=256),e=Wr(e,t),e!==2&&(t=nn,nn=i,t!==null&&Ks(t)),e}function Ks(e){nn===null?nn=e:nn.push.apply(nn,e)}function um(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var d=0;d<i.length;d++){var c=i[d],g=c.getSnapshot;c=c.value;try{if(!Tn(g(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tt(e,t){for(t&=~zs,t&=~qr,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-vn(t),d=1<<i;e[i]=-1,t&=~d}}function dd(e){if((ce&6)!==0)throw Error(r(327));Wt();var t=jo(e,0);if((t&1)===0)return tn(e,Le()),null;var i=Wr(e,t);if(e.tag!==0&&i===2){var d=wi(e);d!==0&&(t=d,i=Ys(e,d))}if(i===1)throw i=Uo,gt(e,0),tt(e,t),tn(e,Le()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yt(e,nn,Gn),tn(e,Le()),null}function Os(e,t){var i=ce;ce|=1;try{return e(t)}finally{ce=i,ce===0&&($t=Le()+500,vr&&Qn())}}function ht(e){et!==null&&et.tag===0&&(ce&6)===0&&Wt();var t=ce;ce|=1;var i=hn.transition,d=Ee;try{if(hn.transition=null,Ee=1,e)return e()}finally{Ee=d,hn.transition=i,ce=t,(ce&6)===0&&Qn()}}function Qs(){dn=Jt.current,we(Jt)}function gt(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gp(i)),Fe!==null)for(i=Fe.return;i!==null;){var d=i;switch(rs(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gr();break;case 3:Ht(),we(be),we($e),ys();break;case 5:hs(d);break;case 4:Ht();break;case 13:we(Me);break;case 19:we(Me);break;case 10:ds(d.type._context);break;case 22:case 23:Qs()}i=i.return}if(He=e,Fe=e=ot(e.current,null),Je=dn=t,Ge=0,Uo=null,zs=qr=mt=0,nn=Fo=null,ft!==null){for(t=0;t<ft.length;t++)if(i=ft[t],d=i.interleaved,d!==null){i.interleaved=null;var c=d.next,g=i.pending;if(g!==null){var T=g.next;g.next=c,d.next=T}i.pending=d}ft=null}return e}function fd(e,t){do{var i=Fe;try{if(as(),Rr.current=kr,Pr){for(var d=ke.memoizedState;d!==null;){var c=d.queue;c!==null&&(c.pending=null),d=d.next}Pr=!1}if(pt=0,qe=Ve=ke=null,Po=!1,No=0,Bs.current=null,i===null||i.return===null){Ge=1,Uo=t,Fe=null;break}e:{var g=e,T=i.return,S=i,_=t;if(t=Je,S.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var N=_,U=S,F=U.tag;if((U.mode&1)===0&&(F===0||F===11||F===15)){var D=U.alternate;D?(U.updateQueue=D.updateQueue,U.memoizedState=D.memoizedState,U.lanes=D.lanes):(U.updateQueue=null,U.memoizedState=null)}var B=Fa(T);if(B!==null){B.flags&=-257,Va(B,T,S,g,t),B.mode&1&&Ua(g,N,t),t=B,_=N;var Y=t.updateQueue;if(Y===null){var Q=new Set;Q.add(_),t.updateQueue=Q}else Y.add(_);break e}else{if((t&1)===0){Ua(g,N,t),Xs();break e}_=Error(r(426))}}else if(Ne&&S.mode&1){var Ue=Fa(T);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Va(Ue,T,S,g,t),ls(Bt(_,S));break e}}g=_=Bt(_,S),Ge!==4&&(Ge=2),Fo===null?Fo=[g]:Fo.push(g),g=T;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t;var x=Da(g,_,t);sa(g,x);break e;case 1:S=_;var I=g.type,P=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(jn===null||!jn.has(P)))){g.flags|=65536,t&=-t,g.lanes|=t;var V=La(g,S,t);sa(g,V);break e}}g=g.return}while(g!==null)}md(i)}catch(X){t=X,Fe===i&&i!==null&&(Fe=i=i.return);continue}break}while(!0)}function cd(){var e=Gr.current;return Gr.current=kr,e===null?kr:e}function Xs(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),He===null||(mt&268435455)===0&&(qr&268435455)===0||tt(He,Je)}function Wr(e,t){var i=ce;ce|=2;var d=cd();(He!==e||Je!==t)&&(Gn=null,gt(e,t));do try{am();break}catch(c){fd(e,c)}while(!0);if(as(),ce=i,Gr.current=d,Fe!==null)throw Error(r(261));return He=null,Je=0,Ge}function am(){for(;Fe!==null;)pd(Fe)}function dm(){for(;Fe!==null&&!Uc();)pd(Fe)}function pd(e){var t=yd(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?md(e):Fe=t,Bs.current=null}function md(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=tm(i,t,dn),i!==null){Fe=i;return}}else{if(i=om(i,t),i!==null){i.flags&=32767,Fe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Fe=null;return}}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ge===0&&(Ge=5)}function yt(e,t,i){var d=Ee,c=hn.transition;try{hn.transition=null,Ee=1,fm(e,t,i,d)}finally{hn.transition=c,Ee=d}return null}function fm(e,t,i,d){do Wt();while(et!==null);if((ce&6)!==0)throw Error(r(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var g=i.lanes|i.childLanes;if(Wc(e,g),e===He&&(Fe=He=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Br||(Br=!0,vd(Qo,function(){return Wt(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=hn.transition,hn.transition=null;var T=Ee;Ee=1;var S=ce;ce|=4,Bs.current=null,im(e,i),rd(i,e),Mp(Xi),tr=!!Qi,Xi=Qi=null,e.current=i,sm(i),Fc(),ce=S,Ee=T,hn.transition=g}else e.current=i;if(Br&&(Br=!1,et=e,zr=c),g=e.pendingLanes,g===0&&(jn=null),qc(i.stateNode),tn(e,Le()),t!==null)for(d=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],d(c.value,{componentStack:c.stack,digest:c.digest});if(Hr)throw Hr=!1,e=$s,$s=null,e;return(zr&1)!==0&&e.tag!==0&&Wt(),g=e.pendingLanes,(g&1)!==0?e===Ws?Vo++:(Vo=0,Ws=e):Vo=0,Qn(),null}function Wt(){if(et!==null){var e=tu(zr),t=hn.transition,i=Ee;try{if(hn.transition=null,Ee=16>e?16:e,et===null)var d=!1;else{if(e=et,et=null,zr=0,(ce&6)!==0)throw Error(r(331));var c=ce;for(ce|=4,J=e.current;J!==null;){var g=J,T=g.child;if((J.flags&16)!==0){var S=g.deletions;if(S!==null){for(var _=0;_<S.length;_++){var N=S[_];for(J=N;J!==null;){var U=J;switch(U.tag){case 0:case 11:case 15:Lo(8,U,g)}var F=U.child;if(F!==null)F.return=U,J=F;else for(;J!==null;){U=J;var D=U.sibling,B=U.return;if(ja(U),U===N){J=null;break}if(D!==null){D.return=B,J=D;break}J=B}}}var Y=g.alternate;if(Y!==null){var Q=Y.child;if(Q!==null){Y.child=null;do{var Ue=Q.sibling;Q.sibling=null,Q=Ue}while(Q!==null)}}J=g}}if((g.subtreeFlags&2064)!==0&&T!==null)T.return=g,J=T;else e:for(;J!==null;){if(g=J,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Lo(9,g,g.return)}var x=g.sibling;if(x!==null){x.return=g.return,J=x;break e}J=g.return}}var I=e.current;for(J=I;J!==null;){T=J;var P=T.child;if((T.subtreeFlags&2064)!==0&&P!==null)P.return=T,J=P;else e:for(T=I;J!==null;){if(S=J,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Vr(9,S)}}catch(X){De(S,S.return,X)}if(S===T){J=null;break e}var V=S.sibling;if(V!==null){V.return=S.return,J=V;break e}J=S.return}}if(ce=c,Qn(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Xo,e)}catch{}d=!0}return d}finally{Ee=i,hn.transition=t}}return!1}function hd(e,t,i){t=Bt(i,t),t=Da(e,t,1),e=Zn(e,t,1),t=Xe(),e!==null&&(so(e,1,t),tn(e,t))}function De(e,t,i){if(e.tag===3)hd(e,e,i);else for(;t!==null;){if(t.tag===3){hd(t,e,i);break}else if(t.tag===1){var d=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(jn===null||!jn.has(d))){e=Bt(i,e),e=La(t,e,1),t=Zn(t,e,1),e=Xe(),t!==null&&(so(t,1,e),tn(t,e));break}}t=t.return}}function cm(e,t,i){var d=e.pingCache;d!==null&&d.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&i,He===e&&(Je&i)===i&&(Ge===4||Ge===3&&(Je&130023424)===Je&&500>Le()-Js?gt(e,0):zs|=i),tn(e,t)}function gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var i=Xe();e=Un(e,t),e!==null&&(so(e,t,i),tn(e,i))}function pm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),gd(e,i)}function mm(e,t){var i=0;switch(e.tag){case 13:var d=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(t),gd(e,i)}var yd;yd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||be.current)en=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return en=!1,nm(e,t,i);en=(e.flags&131072)!==0}else en=!1,Ne&&(t.flags&1048576)!==0&&Xu(t,Er,t.index);switch(t.lanes=0,t.tag){case 2:var d=t.type;Ur(e,t),e=t.pendingProps;var c=Dt(t,$e.current);qt(t,i),c=Es(null,t,d,e,c,i);var g=Cs();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(d)?(g=!0,yr(t)):g=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ps(t),c.updater=Dr,t.stateNode=c,c._reactInternals=t,xs(t,d,e,i),t=Ms(null,t,d,!0,g,i)):(t.tag=0,Ne&&g&&os(t),Qe(null,t,c,i),t=t.child),t;case 16:d=t.elementType;e:{switch(Ur(e,t),e=t.pendingProps,c=d._init,d=c(d._payload),t.type=d,c=t.tag=gm(d),e=Cn(d,e),c){case 0:t=Ns(null,t,d,e,i);break e;case 1:t=Ja(null,t,d,e,i);break e;case 11:t=Ga(null,t,d,e,i);break e;case 14:t=qa(null,t,d,Cn(d.type,e),i);break e}throw Error(r(306,d,""))}return t;case 0:return d=t.type,c=t.pendingProps,c=t.elementType===d?c:Cn(d,c),Ns(e,t,d,c,i);case 1:return d=t.type,c=t.pendingProps,c=t.elementType===d?c:Cn(d,c),Ja(e,t,d,c,i);case 3:e:{if($a(t),e===null)throw Error(r(387));d=t.pendingProps,g=t.memoizedState,c=g.element,ia(e,t),Ar(t,d,null,i);var T=t.memoizedState;if(d=T.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){c=Bt(Error(r(423)),t),t=Wa(e,t,d,i,c);break e}else if(d!==c){c=Bt(Error(r(424)),t),t=Wa(e,t,d,i,c);break e}else for(an=Yn(t.stateNode.containerInfo.firstChild),un=t,Ne=!0,En=null,i=oa(t,null,d,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ft(),d===c){t=Vn(e,t,i);break e}Qe(e,t,d,i)}t=t.child}return t;case 5:return ua(t),e===null&&ss(t),d=t.type,c=t.pendingProps,g=e!==null?e.memoizedProps:null,T=c.children,Zi(d,c)?T=null:g!==null&&Zi(d,g)&&(t.flags|=32),za(e,t),Qe(e,t,T,i),t.child;case 6:return e===null&&ss(t),null;case 13:return Ya(e,t,i);case 4:return ms(t,t.stateNode.containerInfo),d=t.pendingProps,e===null?t.child=Vt(t,null,d,i):Qe(e,t,d,i),t.child;case 11:return d=t.type,c=t.pendingProps,c=t.elementType===d?c:Cn(d,c),Ga(e,t,d,c,i);case 7:return Qe(e,t,t.pendingProps,i),t.child;case 8:return Qe(e,t,t.pendingProps.children,i),t.child;case 12:return Qe(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(d=t.type._context,c=t.pendingProps,g=t.memoizedProps,T=c.value,_e(_r,d._currentValue),d._currentValue=T,g!==null)if(Tn(g.value,T)){if(g.children===c.children&&!be.current){t=Vn(e,t,i);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var S=g.dependencies;if(S!==null){T=g.child;for(var _=S.firstContext;_!==null;){if(_.context===d){if(g.tag===1){_=Fn(-1,i&-i),_.tag=2;var N=g.updateQueue;if(N!==null){N=N.shared;var U=N.pending;U===null?_.next=_:(_.next=U.next,U.next=_),N.pending=_}}g.lanes|=i,_=g.alternate,_!==null&&(_.lanes|=i),fs(g.return,i,t),S.lanes|=i;break}_=_.next}}else if(g.tag===10)T=g.type===t.type?null:g.child;else if(g.tag===18){if(T=g.return,T===null)throw Error(r(341));T.lanes|=i,S=T.alternate,S!==null&&(S.lanes|=i),fs(T,i,t),T=g.sibling}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===t){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}Qe(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,d=t.pendingProps.children,qt(t,i),c=pn(c),d=d(c),t.flags|=1,Qe(e,t,d,i),t.child;case 14:return d=t.type,c=Cn(d,t.pendingProps),c=Cn(d.type,c),qa(e,t,d,c,i);case 15:return Ha(e,t,t.type,t.pendingProps,i);case 17:return d=t.type,c=t.pendingProps,c=t.elementType===d?c:Cn(d,c),Ur(e,t),t.tag=1,je(d)?(e=!0,yr(t)):e=!1,qt(t,i),Ma(t,d,c),xs(t,d,c,i),Ms(null,t,d,!0,e,i);case 19:return Oa(e,t,i);case 22:return Ba(e,t,i)}throw Error(r(156,t.tag))};function vd(e,t){return Zl(e,t)}function hm(e,t,i,d){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,i,d){return new hm(e,t,i,d)}function Zs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gm(e){if(typeof e=="function")return Zs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===re)return 11;if(e===rn)return 14}return 2}function ot(e,t){var i=e.alternate;return i===null?(i=gn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Yr(e,t,i,d,c,g){var T=2;if(d=e,typeof e=="function")Zs(e)&&(T=1);else if(typeof e=="string")T=5;else e:switch(e){case oe:return vt(i.children,c,g,t);case me:T=8,c|=8;break;case j:return e=gn(12,i,t,c|2),e.elementType=j,e.lanes=g,e;case ue:return e=gn(13,i,t,c),e.elementType=ue,e.lanes=g,e;case xe:return e=gn(19,i,t,c),e.elementType=xe,e.lanes=g,e;case Ce:return Kr(i,c,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:T=10;break e;case le:T=9;break e;case re:T=11;break e;case rn:T=14;break e;case Re:T=16,d=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return t=gn(T,i,t,c),t.elementType=e,t.type=d,t.lanes=g,t}function vt(e,t,i,d){return e=gn(7,e,d,t),e.lanes=i,e}function Kr(e,t,i,d){return e=gn(22,e,d,t),e.elementType=Ce,e.lanes=i,e.stateNode={isHidden:!1},e}function bs(e,t,i){return e=gn(6,e,null,t),e.lanes=i,e}function js(e,t,i){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ym(e,t,i,d,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ai(0),this.expirationTimes=Ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.identifierPrefix=d,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function el(e,t,i,d,c,g,T,S,_){return e=new ym(e,t,i,S,_),t===1?(t=1,g===!0&&(t|=8)):t=0,g=gn(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:d,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ps(g),e}function vm(e,t,i){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:d==null?null:""+d,children:e,containerInfo:t,implementation:i}}function Td(e){if(!e)return On;e=e._reactInternals;e:{if(st(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if(je(i))return Ku(e,i,t)}return t}function Ed(e,t,i,d,c,g,T,S,_){return e=el(i,d,!0,e,c,g,T,S,_),e.context=Td(null),i=e.current,d=Xe(),c=nt(i),g=Fn(d,c),g.callback=t??null,Zn(i,g,c),e.current.lanes=c,so(e,c,d),tn(e,d),e}function Or(e,t,i,d){var c=t.current,g=Xe(),T=nt(c);return i=Td(i),t.context===null?t.context=i:t.pendingContext=i,t=Fn(g,T),t.payload={element:e},d=d===void 0?null:d,d!==null&&(t.callback=d),e=Zn(c,t,T),e!==null&&(In(e,c,T,g),wr(e,c,T)),T}function Qr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function nl(e,t){Cd(e,t),(e=e.alternate)&&Cd(e,t)}function Tm(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function tl(e){this._internalRoot=e}Xr.prototype.render=tl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));Or(e,t,null,null)},Xr.prototype.unmount=tl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ht(function(){Or(null,e,null,null)}),t[Mn]=null}};function Xr(e){this._internalRoot=e}Xr.prototype.unstable_scheduleHydration=function(e){if(e){var t=iu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Jn.length&&t!==0&&t<Jn[i].priority;i++);Jn.splice(i,0,e),i===0&&uu(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zr(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _d(){}function Em(e,t,i,d,c){if(c){if(typeof d=="function"){var g=d;d=function(){var N=Qr(T);g.call(N)}}var T=Ed(t,d,e,0,null,!1,!1,"",_d);return e._reactRootContainer=T,e[Mn]=T.current,Co(e.nodeType===8?e.parentNode:e),ht(),T}for(;c=e.lastChild;)e.removeChild(c);if(typeof d=="function"){var S=d;d=function(){var N=Qr(_);S.call(N)}}var _=el(e,0,!1,null,null,!1,!1,"",_d);return e._reactRootContainer=_,e[Mn]=_.current,Co(e.nodeType===8?e.parentNode:e),ht(function(){Or(t,_,i,d)}),_}function br(e,t,i,d,c){var g=i._reactRootContainer;if(g){var T=g;if(typeof c=="function"){var S=c;c=function(){var _=Qr(T);S.call(_)}}Or(t,T,e,c)}else T=Em(i,t,e,c,d);return Qr(T)}ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=io(t.pendingLanes);i!==0&&(xi(t,i|1),tn(t,Le()),(ce&6)===0&&($t=Le()+500,Qn()))}break;case 13:ht(function(){var d=Un(e,1);if(d!==null){var c=Xe();In(d,e,1,c)}}),nl(e,1)}},Ri=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var i=Xe();In(t,e,134217728,i)}nl(e,134217728)}},ru=function(e){if(e.tag===13){var t=nt(e),i=Un(e,t);if(i!==null){var d=Xe();In(i,e,t,d)}nl(e,t)}},iu=function(){return Ee},su=function(e,t){var i=Ee;try{return Ee=e,t()}finally{Ee=i}},Ei=function(e,t,i){switch(t){case"input":if(ci(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var d=i[t];if(d!==e&&d.form===e.form){var c=hr(d);if(!c)throw Error(r(90));Nl(d),ci(d,c)}}}break;case"textarea":Ul(e,i);break;case"select":t=i.value,t!=null&&Ct(e,!!i.multiple,t,!1)}},$l=Os,Wl=ht;var Cm={usingClientEntryPoint:!1,Events:[Io,Mt,hr,zl,Jl,Os]},Go={findFiberByHostInstance:lt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sm={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ql(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||Tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jr.isDisabled&&jr.supportsFiber)try{Xo=jr.inject(Sm),An=jr}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm,on.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(t))throw Error(r(200));return vm(e,t,null,i)},on.createRoot=function(e,t){if(!ol(e))throw Error(r(299));var i=!1,d="",c=Sd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(d=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=el(e,1,!1,null,null,i,!1,d,c),e[Mn]=t.current,Co(e.nodeType===8?e.parentNode:e),new tl(t)},on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ql(t),e=e===null?null:e.stateNode,e},on.flushSync=function(e){return ht(e)},on.hydrate=function(e,t,i){if(!Zr(t))throw Error(r(200));return br(null,e,t,!0,i)},on.hydrateRoot=function(e,t,i){if(!ol(e))throw Error(r(405));var d=i!=null&&i.hydratedSources||null,c=!1,g="",T=Sd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),t=Ed(t,null,e,1,i??null,c,!1,g,T),e[Mn]=t.current,Co(e),d)for(e=0;e<d.length;e++)i=d[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new Xr(t)},on.render=function(e,t,i){if(!Zr(t))throw Error(r(200));return br(null,e,t,!1,i)},on.unmountComponentAtNode=function(e){if(!Zr(e))throw Error(r(40));return e._reactRootContainer?(ht(function(){br(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1},on.unstable_batchedUpdates=Os,on.unstable_renderSubtreeIntoContainer=function(e,t,i,d){if(!Zr(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return br(e,t,i,!1,d)},on.version="18.3.1-next-f1338f8080-20240426",on}var Md;function Mm(){if(Md)return sl.exports;Md=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),sl.exports=Nm(),sl.exports}var kd;function km(){if(kd)return ei;kd=1;var o=Mm();return ei.createRoot=o.createRoot,ei.hydrateRoot=o.hydrateRoot,ei}var Dm=km();const Lm=ec(Dm),Um=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 0 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),Fm=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})}),ni=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),Sl=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 12l4.179 2.25m0 0 5.571 3 5.571-3m0 0L21.75 12l-4.179-2.25m0 0-5.571 3-5.571-3Z"})}),fl=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),Vm=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802"})}),Gm=o=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...o,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),_l=()=>R.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin",role:"status",children:R.jsx("span",{className:"sr-only",children:"Loading..."})}),qm=({summaries:o,onSummarize:n,onSelectSummary:r,isLoading:s,onNavigate:u,activeView:f,currentUser:p,onLogout:m})=>{const[y,h]=pe.useState(""),v=()=>{y.trim()&&(n(y),h(""))},E=({view:C,icon:w,label:M})=>R.jsxs("button",{onClick:()=>u(C),className:`flex items-center gap-3 w-full text-left px-3 py-2 rounded-md transition-colors ${f===C?"bg-blue-600/20 text-blue-300":"text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:[w,R.jsx("span",{className:"font-medium",children:M})]});return R.jsxs("aside",{className:"w-1/3 max-w-sm bg-gray-800/50 p-4 border-r border-gray-700/50 flex flex-col",children:[R.jsxs("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700/50",children:[R.jsx("h2",{className:"text-lg font-semibold mb-2 text-white",children:"Summarize New Tab"}),R.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Paste content here to create a new memory."}),R.jsx("textarea",{value:y,onChange:C=>h(C.target.value),placeholder:"Paste article content...",className:"w-full h-32 p-2 bg-gray-800 border border-gray-600 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:outline-none",disabled:s}),R.jsx("button",{onClick:v,disabled:s||!y.trim(),className:"w-full mt-2 px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:s?R.jsx(_l,{}):"Create Memory"})]}),R.jsxs("nav",{className:"my-6 space-y-2",children:[R.jsx(E,{view:"chat",icon:R.jsx(Fm,{className:"w-5 h-5"}),label:"Chat with Tabs"}),R.jsx(E,{view:"flashcards",icon:R.jsx(Sl,{className:"w-5 h-5"}),label:"Flashcards"}),R.jsx("div",{className:"h-px bg-gray-700/50 my-2"}),p?R.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-md bg-gray-800/60 border border-gray-700/50",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-sm text-gray-200 font-medium",children:p.name}),R.jsx("div",{className:"text-xs text-gray-400",children:p.role})]}),R.jsx("button",{onClick:m,className:"text-sm text-red-300 hover:text-red-200",children:"Logout"})]}):R.jsxs(R.Fragment,{children:[R.jsx(E,{view:"login",icon:R.jsx(ni,{className:"w-5 h-5"}),label:"Login"}),R.jsx(E,{view:"signup",icon:R.jsx(ni,{className:"w-5 h-5"}),label:"Sign Up"})]})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 pt-4 border-t border-gray-700/50",children:[R.jsx("h3",{className:"text-base font-semibold text-gray-300 px-2 mb-2",children:"Memories"}),o.length>0?R.jsx("ul",{className:"space-y-1",children:o.map(C=>R.jsx("li",{children:R.jsxs("button",{onClick:()=>r(C),className:"w-full text-left p-3 rounded-md hover:bg-gray-700/50 transition-colors",children:[R.jsx("p",{className:"font-medium text-gray-100 truncate",children:C.title}),R.jsx("p",{className:"text-xs text-gray-400",children:new Date(C.timestamp).toLocaleString()})]})},C.id))}):R.jsxs("div",{className:"text-center py-8 px-4 text-gray-500",children:[R.jsx(ni,{className:"w-12 h-12 mx-auto mb-2"}),R.jsx("p",{className:"text-sm",children:"Your summarized tabs will appear here."})]})]})]})},Dd=({chatHistory:o,onChatSubmit:n,isLoading:r})=>{var y;const[s,u]=pe.useState(""),f=pe.useRef(null),p=()=>{var h;(h=f.current)==null||h.scrollIntoView({behavior:"smooth"})};pe.useEffect(p,[o]);const m=h=>{h.preventDefault(),s.trim()&&!r&&(n(s),u(""))};return R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsx("h1",{className:"text-2xl font-bold mb-4 text-white",children:"Chat With Your Past Tabs"}),R.jsxs("div",{className:"flex-1 overflow-y-auto pr-4 -mr-4 space-y-4",children:[o.map((h,v)=>R.jsxs("div",{className:`flex gap-3 ${h.role==="user"?"justify-end":"justify-start"}`,children:[h.role==="model"&&R.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:R.jsx(fl,{className:"w-5 h-5 text-white"})}),R.jsx("div",{className:`max-w-xl p-3 rounded-lg ${h.role==="user"?"bg-gray-700 text-white":"bg-gray-800 text-gray-300"}`,children:R.jsx("p",{className:"whitespace-pre-wrap",children:h.content})})]},v)),r&&((y=o[o.length-1])==null?void 0:y.role)==="user"&&R.jsxs("div",{className:"flex gap-3 justify-start",children:[R.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:R.jsx(fl,{className:"w-5 h-5 text-white"})}),R.jsx("div",{className:"max-w-xl p-3 rounded-lg bg-gray-800 text-gray-300",children:R.jsx(_l,{})})]}),R.jsx("div",{ref:f})]}),R.jsx("form",{onSubmit:m,className:"mt-4",children:R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"text",value:s,onChange:h=>u(h.target.value),placeholder:"Ask about your summarized tabs...",className:"w-full p-3 pr-12 bg-gray-800 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",disabled:r}),R.jsx("button",{type:"submit",disabled:r||!s.trim(),className:"absolute inset-y-0 right-0 flex items-center justify-center w-10 text-gray-400 hover:text-white disabled:text-gray-600",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:R.jsx("path",{d:"M3.105 2.289a.75.75 0 0 0-.826.95l1.414 4.925A1.5 1.5 0 0 0 5.135 9.25h6.115a.75.75 0 0 1 0 1.5H5.135a1.5 1.5 0 0 0-1.442 1.086L2.279 16.76a.75.75 0 0 0 .95.826l16-5.333a.75.75 0 0 0 0-1.418l-16-5.333Z"})})})]})})]})},al=({icon:o,label:n,onClick:r,disabled:s})=>R.jsxs("button",{onClick:r,disabled:s,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-300 bg-gray-700/50 rounded-md hover:bg-gray-600/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o,R.jsx("span",{children:n})]}),Hm=({summary:o,onGenerateFlashcards:n,onTranslate:r,onRephrase:s,isLoading:u})=>{if(!o)return R.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[R.jsx(ni,{className:"w-24 h-24 mb-4"}),R.jsx("h2",{className:"text-xl font-medium",children:"No Summary Selected"}),R.jsx("p",{children:"Select a memory from the sidebar to view its details."})]});const f=()=>{const m=prompt("Enter the language to translate to (e.g., Spanish, French):");m&&r(o.summary,m)},p=()=>{const m=prompt("Enter the desired tone (e.g., formal, casual, professional):");m&&s(o.summary,m)};return R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h1",{className:"text-3xl font-bold text-white",children:o.title}),R.jsxs("p",{className:"text-sm text-gray-400",children:["Summarized on ",new Date(o.timestamp).toLocaleString()]})]}),R.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-4 border-b border-gray-700/50",children:[R.jsx(al,{icon:R.jsx(Sl,{className:"w-5 h-5"}),label:"Create Flashcards",onClick:()=>n(o.summary),disabled:u}),R.jsx(al,{icon:R.jsx(Vm,{className:"w-5 h-5"}),label:"Translate Summary",onClick:f,disabled:u}),R.jsx(al,{icon:R.jsx(Gm,{className:"w-5 h-5"}),label:"Rephrase Summary",onClick:p,disabled:u}),u&&R.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[R.jsx(_l,{}),R.jsx("span",{children:"Processing..."})]})]}),R.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6 overflow-y-auto",children:[R.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[R.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-300",children:"Generated Summary"}),R.jsx("p",{className:"text-gray-200 whitespace-pre-wrap leading-relaxed",children:o.summary})]}),R.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[R.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-400",children:"Original Content"}),R.jsx("p",{className:"text-gray-400 whitespace-pre-wrap leading-relaxed text-sm",children:o.originalContent})]})]})]})},Bm=({card:o})=>{const[n,r]=pe.useState(!1);return R.jsx("div",{className:"w-full h-64 perspective-1000",onClick:()=>r(!n),children:R.jsxs("div",{className:`relative w-full h-full transform-style-preserve-3d transition-transform duration-700 ${n?"rotate-y-180":""}`,children:[R.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-gray-700 rounded-lg p-6 flex flex-col items-center justify-center text-center",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Question"}),R.jsx("p",{className:"text-xl font-semibold text-white",children:o.question})]}),R.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-blue-800 rounded-lg p-6 flex flex-col items-center justify-center text-center rotate-y-180",children:[R.jsx("p",{className:"text-blue-200 text-sm mb-2",children:"Answer"}),R.jsx("p",{className:"text-lg text-white",children:o.answer})]})]})})},zm=({flashcards:o})=>o.length===0?R.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[R.jsx(Sl,{className:"w-24 h-24 mb-4"}),R.jsx("h2",{className:"text-xl font-medium",children:"No Flashcards Generated"}),R.jsx("p",{children:"Create flashcards from a summary to start studying."})]}):R.jsxs("div",{children:[R.jsx("h1",{className:"text-2xl font-bold mb-4 text-white",children:"Flashcards"}),R.jsx("p",{className:"text-gray-400 mb-6",children:"Click on any card to flip it and reveal the answer."}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((n,r)=>R.jsx(Bm,{card:n},r))})]}),nc="http://localhost:4000";async function Jm(o,n,r,s="user"){const u=await fetch(`${nc}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:n,password:r,role:s})});if(!u.ok)throw new Error((await u.json()).message||"Signup failed");return u.json()}async function $m(o,n){const r=await fetch(`${nc}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:n})});if(!r.ok)throw new Error((await r.json()).message||"Login failed");return r.json()}const Wm=({onSuccess:o})=>{const[n,r]=pe.useState(""),[s,u]=pe.useState(""),[f,p]=pe.useState(null),[m,y]=pe.useState(!1),h=async v=>{v.preventDefault(),p(null),y(!0);try{const E=await $m(n,s);o(E)}catch(E){p(E.message||"Login failed")}finally{y(!1)}};return R.jsxs("div",{className:"max-w-md mx-auto bg-gray-800/50 p-6 rounded-lg border border-gray-700/50",children:[R.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Login"}),R.jsxs("form",{onSubmit:h,className:"space-y-3",children:[R.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",value:n,onChange:v=>r(v.target.value),required:!0}),R.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",value:s,onChange:v=>u(v.target.value),required:!0}),f&&R.jsx("div",{className:"text-red-400 text-sm",children:f}),R.jsx("button",{type:"submit",disabled:m,className:"w-full py-2 bg-blue-600 rounded hover:bg-blue-700 disabled:bg-gray-600",children:m?"Logging in...":"Login"})]})]})},Ym=({onSuccess:o})=>{const[n,r]=pe.useState(""),[s,u]=pe.useState(""),[f,p]=pe.useState(""),[m,y]=pe.useState("user"),[h,v]=pe.useState(null),[E,C]=pe.useState(!1),w=async M=>{M.preventDefault(),v(null),C(!0);try{const k=await Jm(n,s,f,m);o(k)}catch(k){v(k.message||"Signup failed")}finally{C(!1)}};return R.jsxs("div",{className:"max-w-md mx-auto bg-gray-800/50 p-6 rounded-lg border border-gray-700/50",children:[R.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create Account"}),R.jsxs("form",{onSubmit:w,className:"space-y-3",children:[R.jsx("input",{type:"text",placeholder:"Name",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",value:n,onChange:M=>r(M.target.value),required:!0}),R.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",value:s,onChange:M=>u(M.target.value),required:!0}),R.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",value:f,onChange:M=>p(M.target.value),required:!0}),R.jsxs("select",{className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",value:m,onChange:M=>y(M.target.value),children:[R.jsx("option",{value:"user",children:"User"}),R.jsx("option",{value:"admin",children:"Admin"})]}),h&&R.jsx("div",{className:"text-red-400 text-sm",children:h}),R.jsx("button",{type:"submit",disabled:E,className:"w-full py-2 bg-blue-600 rounded hover:bg-blue-700 disabled:bg-gray-600",children:E?"Creating...":"Sign up"})]})]})},Km=({activeView:o,chatHistory:n,onChatSubmit:r,selectedSummary:s,flashcards:u,onGenerateFlashcards:f,onTranslate:p,onRephrase:m,isLoading:y,onAuthSuccess:h})=>{const v=()=>{switch(o){case"chat":return R.jsx(Dd,{chatHistory:n,onChatSubmit:r,isLoading:y});case"summary":return R.jsx(Hm,{summary:s,onGenerateFlashcards:f,onTranslate:p,onRephrase:m,isLoading:y});case"flashcards":return R.jsx(zm,{flashcards:u});case"login":return R.jsx(Wm,{onSuccess:h});case"signup":return R.jsx(Ym,{onSuccess:h});default:return R.jsx(Dd,{chatHistory:n,onChatSubmit:r,isLoading:y})}};return R.jsx("main",{className:"flex-1 p-6 bg-gray-900 overflow-y-auto",children:v()})},Om=()=>R.jsx("header",{className:"flex items-center justify-between p-4 bg-gray-900/50 border-b border-gray-700/50 backdrop-blur-sm",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(fl,{className:"w-8 h-8 text-blue-400"}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-xl font-bold text-white",children:"TabMind"}),R.jsx("p",{className:"text-xs text-gray-400",children:"Your Private Thinking Companion"})]})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qm,Xm;function Zm(){return{geminiUrl:Qm,vertexUrl:Xm}}function bm(o,n,r,s){var u,f;if(!(o!=null&&o.baseUrl)){const p=Zm();return n?(u=p.vertexUrl)!==null&&u!==void 0?u:r:(f=p.geminiUrl)!==null&&f!==void 0?f:s}return o.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Et{}function K(o,n){const r=/\{([^}]+)\}/g;return o.replace(r,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const f=n[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function a(o,n,r){for(let f=0;f<n.length-1;f++){const p=n[f];if(p.endsWith("[]")){const m=p.slice(0,-2);if(!(m in o))if(Array.isArray(r))o[m]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(o[m])){const y=o[m];if(Array.isArray(r))for(let h=0;h<y.length;h++){const v=y[h];a(v,n.slice(f+1),r[h])}else for(const h of y)a(h,n.slice(f+1),r)}return}else if(p.endsWith("[0]")){const m=p.slice(0,-3);m in o||(o[m]=[{}]);const y=o[m];a(y[0],n.slice(f+1),r);return}(!o[p]||typeof o[p]!="object")&&(o[p]={}),o=o[p]}const s=n[n.length-1],u=o[s];if(u!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===u)return;if(typeof u=="object"&&typeof r=="object"&&u!==null&&r!==null)Object.assign(u,r);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(o,r):o[s]=r}function l(o,n,r=void 0){try{if(n.length===1&&n[0]==="_self")return o;for(let s=0;s<n.length;s++){if(typeof o!="object"||o===null)return r;const u=n[s];if(u.endsWith("[]")){const f=u.slice(0,-2);if(f in o){const p=o[f];return Array.isArray(p)?p.map(m=>l(m,n.slice(s+1),r)):r}else return r}else o=o[u]}return o}catch(s){if(s instanceof TypeError)return r;throw s}}function jm(o,n){for(const[r,s]of Object.entries(n)){const u=r.split("."),f=s.split("."),p=new Set;let m=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){m=y;break}if(m!==-1&&f.length>m)for(let y=m;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}cl(o,u,f,0,p)}}function cl(o,n,r,s,u){if(s>=n.length||typeof o!="object"||o===null)return;const f=n[s];if(f.endsWith("[]")){const p=f.slice(0,-2),m=o;if(p in m&&Array.isArray(m[p]))for(const y of m[p])cl(y,n,r,s+1,u)}else if(f==="*"){if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const p=o,m=Object.keys(p).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of m)y[h]=p[h];for(const[h,v]of Object.entries(y)){const E=[];for(const C of r.slice(s))C==="*"?E.push(h):E.push(C);a(p,E,v)}for(const h of m)delete p[h]}}else{const p=o;f in p&&cl(p[f],n,r,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Il(o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eh(o){const n={},r=l(o,["operationName"]);r!=null&&a(n,["operationName"],r);const s=l(o,["resourceName"]);return s!=null&&a(n,["_url","resourceName"],s),n}function nh(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["metadata"]);s!=null&&a(n,["metadata"],s);const u=l(o,["done"]);u!=null&&a(n,["done"],u);const f=l(o,["error"]);f!=null&&a(n,["error"],f);const p=l(o,["response","generateVideoResponse"]);return p!=null&&a(n,["response"],oh(p)),n}function th(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["metadata"]);s!=null&&a(n,["metadata"],s);const u=l(o,["done"]);u!=null&&a(n,["done"],u);const f=l(o,["error"]);f!=null&&a(n,["error"],f);const p=l(o,["response"]);return p!=null&&a(n,["response"],rh(p)),n}function oh(o){const n={},r=l(o,["generatedSamples"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>ih(p))),a(n,["generatedVideos"],f)}const s=l(o,["raiMediaFilteredCount"]);s!=null&&a(n,["raiMediaFilteredCount"],s);const u=l(o,["raiMediaFilteredReasons"]);return u!=null&&a(n,["raiMediaFilteredReasons"],u),n}function rh(o){const n={},r=l(o,["videos"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>sh(p))),a(n,["generatedVideos"],f)}const s=l(o,["raiMediaFilteredCount"]);s!=null&&a(n,["raiMediaFilteredCount"],s);const u=l(o,["raiMediaFilteredReasons"]);return u!=null&&a(n,["raiMediaFilteredReasons"],u),n}function ih(o){const n={},r=l(o,["video"]);return r!=null&&a(n,["video"],ah(r)),n}function sh(o){const n={},r=l(o,["_self"]);return r!=null&&a(n,["video"],dh(r)),n}function lh(o){const n={},r=l(o,["operationName"]);return r!=null&&a(n,["_url","operationName"],r),n}function uh(o){const n={},r=l(o,["operationName"]);return r!=null&&a(n,["_url","operationName"],r),n}function ah(o){const n={},r=l(o,["uri"]);r!=null&&a(n,["uri"],r);const s=l(o,["encodedVideo"]);s!=null&&a(n,["videoBytes"],Il(s));const u=l(o,["encoding"]);return u!=null&&a(n,["mimeType"],u),n}function dh(o){const n={},r=l(o,["gcsUri"]);r!=null&&a(n,["uri"],r);const s=l(o,["bytesBase64Encoded"]);s!=null&&a(n,["videoBytes"],Il(s));const u=l(o,["mimeType"]);return u!=null&&a(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ld;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ld||(Ld={}));var Ud;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Ud||(Ud={}));var Fd;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(Fd||(Fd={}));var Ze;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(Ze||(Ze={}));var Vd;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Vd||(Vd={}));var Gd;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(Gd||(Gd={}));var qd;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qd||(qd={}));var Hd;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Hd||(Hd={}));var Bd;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Bd||(Bd={}));var zd;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(zd||(zd={}));var Jd;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE"})(Jd||(Jd={}));var $d;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})($d||($d={}));var Wd;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Wd||(Wd={}));var Yd;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Yd||(Yd={}));var Kd;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(Kd||(Kd={}));var Od;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Od||(Od={}));var ri;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(ri||(ri={}));var Qd;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qd||(Qd={}));var Xd;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xd||(Xd={}));var Zd;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zd||(Zd={}));var pl;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pl||(pl={}));var bd;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V"})(bd||(bd={}));var jd;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(jd||(jd={}));var ef;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(ef||(ef={}));var nf;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(nf||(nf={}));var tf;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tf||(tf={}));var of;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(of||(of={}));var rf;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(rf||(rf={}));var sf;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(sf||(sf={}));var lf;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(lf||(lf={}));var uf;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uf||(uf={}));var af;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(af||(af={}));var df;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(df||(df={}));var ff;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ff||(ff={}));var cf;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(cf||(cf={}));var pf;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(pf||(pf={}));var mf;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(mf||(mf={}));var hf;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(hf||(hf={}));var gf;(function(o){o.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",o.PREFERENCE_TUNING="PREFERENCE_TUNING"})(gf||(gf={}));var yf;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(yf||(yf={}));var vf;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(vf||(vf={}));var Tf;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Tf||(Tf={}));var Ef;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(Ef||(Ef={}));var Cf;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Cf||(Cf={}));var Sf;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sf||(Sf={}));var _f;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(_f||(_f={}));var If;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(If||(If={}));var wf;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wf||(wf={}));var Af;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(Af||(Af={}));var Yt;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(Yt||(Yt={}));class ml{constructor(n){const r={};for(const s of n.headers.entries())r[s[0]]=s[1];this.headers=r,this.responseInternal=n}json(){return this.responseInternal.json()}}class Ho{get text(){var n,r,s,u,f,p,m,y;if(((u=(s=(r=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const C of(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[w,M]of Object.entries(C))w!=="text"&&w!=="thought"&&(M!==null||M!==void 0)&&E.push(w);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,h+=C.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,r,s,u,f,p,m,y;if(((u=(s=(r=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(E))C!=="inlineData"&&(w!==null||w!==void 0)&&v.push(C);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,r,s,u,f,p,m,y;if(((u=(s=(r=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,r,s,u,f,p,m,y,h;if(((u=(s=(r=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,r,s,u,f,p,m,y,h;if(((u=(s=(r=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class xf{}class Rf{}class fh{}class ch{}class ph{}class mh{}class Pf{}class Nf{}class Mf{}class hh{}class ii{_fromAPIResponse({apiResponse:n,isVertexAI:r}){const s=new ii;let u;const f=n;return r?u=th(f):u=nh(f),Object.assign(s,u),s}}class kf{}class Df{}class Lf{}class gh{}class yh{}class vh{}class Uf{}class Th{get text(){var n,r,s;let u="",f=!1;const p=[];for(const m of(s=(r=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(m))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,u+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var n,r,s;let u="";const f=[];for(const p of(s=(r=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&s!==void 0?s:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&y!==null&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Eh{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ve(o,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const r=n.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function tc(o,n){const r=ve(o,n);return r?r.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${r}`:r.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${r}`:r:""}function oc(o){return Array.isArray(o)?o.map(n=>si(n)):[si(o)]}function si(o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function rc(o){const n=si(o);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function ic(o){const n=si(o);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ff(o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function sc(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(n=>Ff(n)):[Ff(o)]}function hl(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Vf(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Gf(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Oe(o){if(o==null)throw new Error("ContentUnion is required");return hl(o)?o:{role:"user",parts:sc(o)}}function wl(o,n){if(!n)return[];if(o.isVertexAI()&&Array.isArray(n))return n.flatMap(r=>{const s=Oe(r);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const r=Oe(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(n)?n.map(r=>Oe(r)):[Oe(n)]}function yn(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(Vf(o)||Gf(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Oe(o)]}const n=[],r=[],s=hl(o[0]);for(const u of o){const f=hl(u);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(u);else{if(Vf(u)||Gf(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(u)}}return s||n.push({role:"user",parts:sc(r)}),n}function Ch(o,n){o.includes("null")&&(n.nullable=!0);const r=o.filter(s=>s!=="null");if(r.length===1)n.type=Object.values(Ze).includes(r[0].toUpperCase())?r[0].toUpperCase():Ze.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of r)n.anyOf.push({type:Object.values(Ze).includes(s.toUpperCase())?s.toUpperCase():Ze.TYPE_UNSPECIFIED})}}function Kt(o){const n={},r=["items"],s=["anyOf"],u=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=o.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,o=f[1]):f[1].type==="null"&&(n.nullable=!0,o=f[0])),o.type instanceof Array&&Ch(o.type,n);for(const[p,m]of Object.entries(o))if(m!=null)if(p=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;n.type=Object.values(Ze).includes(m.toUpperCase())?m.toUpperCase():Ze.TYPE_UNSPECIFIED}else if(r.includes(p))n[p]=Kt(m);else if(s.includes(p)){const y=[];for(const h of m){if(h.type=="null"){n.nullable=!0;continue}y.push(Kt(h))}n[p]=y}else if(u.includes(p)){const y={};for(const[h,v]of Object.entries(m))y[h]=Kt(v);n[p]=y}else{if(p==="additionalProperties")continue;n[p]=m}return n}function Al(o){return Kt(o)}function xl(o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function Rl(o){if("multiSpeakerVoiceConfig"in o)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return o}function Xt(o){if(o.functionDeclarations)for(const n of o.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Kt(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Kt(n.response));return o}function Zt(o){if(o==null)throw new Error("tools is required");if(!Array.isArray(o))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of o)n.push(r);return n}function Sh(o,n,r,s=1){const u=!n.startsWith(`${r}/`)&&n.split("/").length===s;return o.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${o.getProject()}/${n}`:n.startsWith(`${r}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:u?`projects/${o.getProject()}/locations/${o.getLocation()}/${r}/${n}`:n:u?`${r}/${n}`:n}function qn(o,n){if(typeof n!="string")throw new Error("name must be a string");return Sh(o,n,"cachedContents")}function lc(o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function it(o){return Il(o)}function _h(o){return o!=null&&typeof o=="object"&&"name"in o}function Ih(o){return o!=null&&typeof o=="object"&&"video"in o}function wh(o){return o!=null&&typeof o=="object"&&"uri"in o}function uc(o){var n;let r;if(_h(o)&&(r=o.name),!(wh(o)&&(r=o.uri,r===void 0))&&!(Ih(o)&&(r=(n=o.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof o=="string"&&(r=o),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const u=r.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${r}`);r=u[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function ac(o,n){let r;return o.isVertexAI()?r=n?"publishers/google/models":"models":r=n?"models":"tunedModels",r}function dc(o){for(const n of["models","tunedModels","publisherModels"])if(Ah(o,n))return o[n];return[]}function Ah(o,n){return o!==null&&typeof o=="object"&&n in o}function xh(o,n={}){const r=o,s={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(s.responseJsonSchema=r.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function Rh(o,n={}){const r=[],s=new Set;for(const u of o){const f=u.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const p=xh(u,n);p.functionDeclarations&&r.push(...p.functionDeclarations)}return{functionDeclarations:r}}function fc(o,n){let r;if(typeof n=="string")if(o.isVertexAI())if(n.startsWith("gs://"))r={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))r={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))r={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(o.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:n}}else r=n;const s=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,u=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(o.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Ph(o){if(typeof o!="string")return o;const n=o;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function cc(o){if(typeof o!="object"||o===null)return{};const n=o,r=n.inlinedResponses;if(typeof r!="object"||r===null)return o;const u=r.inlinedResponses;if(!Array.isArray(u)||u.length===0)return o;let f=!1;for(const p of u){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),o}function bt(o,n){const r=n;if(!o.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function pc(o){const n=o;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nh(o){const n={},r=l(o,["responsesFile"]);r!=null&&a(n,["fileName"],r);const s=l(o,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>lg(p))),a(n,["inlinedResponses"],f)}const u=l(o,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["inlinedEmbedContentResponses"],f)}return n}function Mh(o){const n={},r=l(o,["predictionsFormat"]);r!=null&&a(n,["format"],r);const s=l(o,["gcsDestination","outputUriPrefix"]);s!=null&&a(n,["gcsUri"],s);const u=l(o,["bigqueryDestination","outputUri"]);return u!=null&&a(n,["bigqueryUri"],u),n}function kh(o){const n={},r=l(o,["format"]);r!=null&&a(n,["predictionsFormat"],r);const s=l(o,["gcsUri"]);s!=null&&a(n,["gcsDestination","outputUriPrefix"],s);const u=l(o,["bigqueryUri"]);if(u!=null&&a(n,["bigqueryDestination","outputUri"],u),l(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(o,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(o,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ti(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["metadata","displayName"]);s!=null&&a(n,["displayName"],s);const u=l(o,["metadata","state"]);u!=null&&a(n,["state"],pc(u));const f=l(o,["metadata","createTime"]);f!=null&&a(n,["createTime"],f);const p=l(o,["metadata","endTime"]);p!=null&&a(n,["endTime"],p);const m=l(o,["metadata","updateTime"]);m!=null&&a(n,["updateTime"],m);const y=l(o,["metadata","model"]);y!=null&&a(n,["model"],y);const h=l(o,["metadata","output"]);return h!=null&&a(n,["dest"],Nh(cc(h))),n}function gl(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["displayName"]);s!=null&&a(n,["displayName"],s);const u=l(o,["state"]);u!=null&&a(n,["state"],pc(u));const f=l(o,["error"]);f!=null&&a(n,["error"],f);const p=l(o,["createTime"]);p!=null&&a(n,["createTime"],p);const m=l(o,["startTime"]);m!=null&&a(n,["startTime"],m);const y=l(o,["endTime"]);y!=null&&a(n,["endTime"],y);const h=l(o,["updateTime"]);h!=null&&a(n,["updateTime"],h);const v=l(o,["model"]);v!=null&&a(n,["model"],v);const E=l(o,["inputConfig"]);E!=null&&a(n,["src"],Dh(E));const C=l(o,["outputConfig"]);return C!=null&&a(n,["dest"],Mh(cc(C))),n}function Dh(o){const n={},r=l(o,["instancesFormat"]);r!=null&&a(n,["format"],r);const s=l(o,["gcsSource","uris"]);s!=null&&a(n,["gcsUri"],s);const u=l(o,["bigquerySource","inputUri"]);return u!=null&&a(n,["bigqueryUri"],u),n}function Lh(o,n){const r={};if(l(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=l(n,["fileName"]);s!=null&&a(r,["fileName"],s);const u=l(n,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>sg(o,p))),a(r,["requests","requests"],f)}return r}function Uh(o){const n={},r=l(o,["format"]);r!=null&&a(n,["instancesFormat"],r);const s=l(o,["gcsUri"]);s!=null&&a(n,["gcsSource","uris"],s);const u=l(o,["bigqueryUri"]);if(u!=null&&a(n,["bigquerySource","inputUri"],u),l(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(o,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Fh(o){const n={},r=l(o,["data"]);if(r!=null&&a(n,["data"],r),l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function Vh(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],bt(o,s)),r}function Gh(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],bt(o,s)),r}function qh(o){const n={},r=l(o,["content"]);r!=null&&a(n,["content"],r);const s=l(o,["citationMetadata"]);s!=null&&a(n,["citationMetadata"],Hh(s));const u=l(o,["tokenCount"]);u!=null&&a(n,["tokenCount"],u);const f=l(o,["finishReason"]);f!=null&&a(n,["finishReason"],f);const p=l(o,["avgLogprobs"]);p!=null&&a(n,["avgLogprobs"],p);const m=l(o,["groundingMetadata"]);m!=null&&a(n,["groundingMetadata"],m);const y=l(o,["index"]);y!=null&&a(n,["index"],y);const h=l(o,["logprobsResult"]);h!=null&&a(n,["logprobsResult"],h);const v=l(o,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),a(n,["safetyRatings"],C)}const E=l(o,["urlContextMetadata"]);return E!=null&&a(n,["urlContextMetadata"],E),n}function Hh(o){const n={},r=l(o,["citationSources"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),a(n,["citations"],s)}return n}function mc(o){const n={},r=l(o,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>mg(f))),a(n,["parts"],u)}const s=l(o,["role"]);return s!=null&&a(n,["role"],s),n}function Bh(o,n){const r={},s=l(o,["displayName"]);if(n!==void 0&&s!=null&&a(n,["batch","displayName"],s),l(o,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function zh(o,n){const r={},s=l(o,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(o,["dest"]);return n!==void 0&&u!=null&&a(n,["outputConfig"],kh(Ph(u))),r}function qf(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["src"]);u!=null&&a(r,["batch","inputConfig"],Lh(o,fc(o,u)));const f=l(n,["config"]);return f!=null&&Bh(f,r),r}function Jh(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["model"],ve(o,s));const u=l(n,["src"]);u!=null&&a(r,["inputConfig"],Uh(fc(o,u)));const f=l(n,["config"]);return f!=null&&zh(f,r),r}function $h(o,n){const r={},s=l(o,["displayName"]);return n!==void 0&&s!=null&&a(n,["batch","displayName"],s),r}function Wh(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["src"]);u!=null&&a(r,["batch","inputConfig"],bh(o,u));const f=l(n,["config"]);return f!=null&&$h(f,r),r}function Yh(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],bt(o,s)),r}function Kh(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],bt(o,s)),r}function Oh(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["name"]);s!=null&&a(n,["name"],s);const u=l(o,["done"]);u!=null&&a(n,["done"],u);const f=l(o,["error"]);return f!=null&&a(n,["error"],f),n}function Qh(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["name"]);s!=null&&a(n,["name"],s);const u=l(o,["done"]);u!=null&&a(n,["done"],u);const f=l(o,["error"]);return f!=null&&a(n,["error"],f),n}function Xh(o,n){const r={},s=l(n,["contents"]);if(s!=null){let f=wl(o,s);Array.isArray(f)&&(f=f.map(p=>p)),a(r,["requests[]","request","content"],f)}const u=l(n,["config"]);return u!=null&&(a(r,["_self"],Zh(u,r)),jm(r,{"requests[].*":"requests[].request.*"})),r}function Zh(o,n){const r={},s=l(o,["taskType"]);n!==void 0&&s!=null&&a(n,["requests[]","taskType"],s);const u=l(o,["title"]);n!==void 0&&u!=null&&a(n,["requests[]","title"],u);const f=l(o,["outputDimensionality"]);if(n!==void 0&&f!=null&&a(n,["requests[]","outputDimensionality"],f),l(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function bh(o,n){const r={},s=l(n,["fileName"]);s!=null&&a(r,["file_name"],s);const u=l(n,["inlinedRequests"]);return u!=null&&a(r,["requests"],Xh(o,u)),r}function jh(o){const n={};if(l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(o,["fileUri"]);r!=null&&a(n,["fileUri"],r);const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function eg(o,n,r){const s={},u=l(n,["systemInstruction"]);r!==void 0&&u!=null&&a(r,["systemInstruction"],mc(Oe(u)));const f=l(n,["temperature"]);f!=null&&a(s,["temperature"],f);const p=l(n,["topP"]);p!=null&&a(s,["topP"],p);const m=l(n,["topK"]);m!=null&&a(s,["topK"],m);const y=l(n,["candidateCount"]);y!=null&&a(s,["candidateCount"],y);const h=l(n,["maxOutputTokens"]);h!=null&&a(s,["maxOutputTokens"],h);const v=l(n,["stopSequences"]);v!=null&&a(s,["stopSequences"],v);const E=l(n,["responseLogprobs"]);E!=null&&a(s,["responseLogprobs"],E);const C=l(n,["logprobs"]);C!=null&&a(s,["logprobs"],C);const w=l(n,["presencePenalty"]);w!=null&&a(s,["presencePenalty"],w);const M=l(n,["frequencyPenalty"]);M!=null&&a(s,["frequencyPenalty"],M);const k=l(n,["seed"]);k!=null&&a(s,["seed"],k);const G=l(n,["responseMimeType"]);G!=null&&a(s,["responseMimeType"],G);const $=l(n,["responseSchema"]);$!=null&&a(s,["responseSchema"],Al($));const z=l(n,["responseJsonSchema"]);if(z!=null&&a(s,["responseJsonSchema"],z),l(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=l(n,["safetySettings"]);if(r!==void 0&&q!=null){let re=q;Array.isArray(re)&&(re=re.map(ue=>hg(ue))),a(r,["safetySettings"],re)}const O=l(n,["tools"]);if(r!==void 0&&O!=null){let re=Zt(O);Array.isArray(re)&&(re=re.map(ue=>gg(Xt(ue)))),a(r,["tools"],re)}const ee=l(n,["toolConfig"]);if(r!==void 0&&ee!=null&&a(r,["toolConfig"],ee),l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=l(n,["cachedContent"]);r!==void 0&&b!=null&&a(r,["cachedContent"],qn(o,b));const oe=l(n,["responseModalities"]);oe!=null&&a(s,["responseModalities"],oe);const me=l(n,["mediaResolution"]);me!=null&&a(s,["mediaResolution"],me);const j=l(n,["speechConfig"]);if(j!=null&&a(s,["speechConfig"],xl(j)),l(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=l(n,["thinkingConfig"]);Z!=null&&a(s,["thinkingConfig"],Z);const le=l(n,["imageConfig"]);return le!=null&&a(s,["imageConfig"],le),s}function ng(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>qh(h))),a(n,["candidates"],y)}const u=l(o,["modelVersion"]);u!=null&&a(n,["modelVersion"],u);const f=l(o,["promptFeedback"]);f!=null&&a(n,["promptFeedback"],f);const p=l(o,["responseId"]);p!=null&&a(n,["responseId"],p);const m=l(o,["usageMetadata"]);return m!=null&&a(n,["usageMetadata"],m),n}function tg(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],bt(o,s)),r}function og(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],bt(o,s)),r}function rg(o){const n={};if(l(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(o,["enableWidget"]);return r!=null&&a(n,["enableWidget"],r),n}function ig(o){const n={};if(l(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const r=l(o,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],r),n}function sg(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["request","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let m=yn(u);Array.isArray(m)&&(m=m.map(y=>mc(y))),a(r,["request","contents"],m)}const f=l(n,["metadata"]);f!=null&&a(r,["metadata"],f);const p=l(n,["config"]);return p!=null&&a(r,["request","generationConfig"],eg(o,p,l(r,["request"],{}))),r}function lg(o){const n={},r=l(o,["response"]);r!=null&&a(n,["response"],ng(r));const s=l(o,["error"]);return s!=null&&a(n,["error"],s),n}function ug(o,n){const r={},s=l(o,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(o,["pageToken"]);if(n!==void 0&&u!=null&&a(n,["_query","pageToken"],u),l(o,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function ag(o,n){const r={},s=l(o,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(o,["pageToken"]);n!==void 0&&u!=null&&a(n,["_query","pageToken"],u);const f=l(o,["filter"]);return n!==void 0&&f!=null&&a(n,["_query","filter"],f),r}function dg(o){const n={},r=l(o,["config"]);return r!=null&&ug(r,n),n}function fg(o){const n={},r=l(o,["config"]);return r!=null&&ag(r,n),n}function cg(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>ti(p))),a(n,["batchJobs"],f)}return n}function pg(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>gl(p))),a(n,["batchJobs"],f)}return n}function mg(o){const n={},r=l(o,["functionCall"]);r!=null&&a(n,["functionCall"],r);const s=l(o,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(o,["executableCode"]);u!=null&&a(n,["executableCode"],u);const f=l(o,["fileData"]);f!=null&&a(n,["fileData"],jh(f));const p=l(o,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=l(o,["inlineData"]);m!=null&&a(n,["inlineData"],Fh(m));const y=l(o,["text"]);y!=null&&a(n,["text"],y);const h=l(o,["thought"]);h!=null&&a(n,["thought"],h);const v=l(o,["thoughtSignature"]);v!=null&&a(n,["thoughtSignature"],v);const E=l(o,["videoMetadata"]);return E!=null&&a(n,["videoMetadata"],E),n}function hg(o){const n={},r=l(o,["category"]);if(r!=null&&a(n,["category"],r),l(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=l(o,["threshold"]);return s!=null&&a(n,["threshold"],s),n}function gg(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>v)),a(n,["functionDeclarations"],h)}if(l(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=l(o,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],s);const u=l(o,["googleMaps"]);u!=null&&a(n,["googleMaps"],rg(u));const f=l(o,["computerUse"]);f!=null&&a(n,["computerUse"],f);const p=l(o,["codeExecution"]);if(p!=null&&a(n,["codeExecution"],p),l(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(o,["googleSearch"]);m!=null&&a(n,["googleSearch"],ig(m));const y=l(o,["urlContext"]);return y!=null&&a(n,["urlContext"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tt;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents",o.PAGED_ITEM_RAG_STORES="ragStores",o.PAGED_ITEM_DOCUMENTS="documents"})(Tt||(Tt={}));class zo{constructor(n,r,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(n,s,u)}init(n,r,s){var u,f;this.nameInternal=n,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=r.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yg extends Et{constructor(n){super(),this.apiClient=n,this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)},this.list=async(r={})=>new zo(Tt.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(r),r)}createInlinedGenerateContentRequest(n){const r=qf(this.apiClient,n),s=r._url,u=K("{model}:batchGenerateContent",s),m=r.batch.inputConfig.requests,y=m.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const C=E.systemInstruction;delete E.systemInstruction;const w=E.request;w.systemInstruction=C,E.request=w}h.push(E)}return m.requests=h,delete r.config,delete r._url,delete r._query,{path:u,body:r}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,r){const s=r?Object.assign({},r):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const f=this.getGcsUri(n),p=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${u}`;else if(p)s.dest=`${p}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Jh(this.apiClient,n);return m=K("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>gl(v))}else{const h=qf(this.apiClient,n);return m=K("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>ti(v))}}async createEmbeddingsInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Wh(this.apiClient,n);return f=K("{model}:asyncBatchEmbedContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>ti(y))}}async get(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=og(this.apiClient,n);return m=K("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>gl(v))}else{const h=tg(this.apiClient,n);return m=K("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>ti(v))}}async cancel(n){var r,s,u,f;let p="",m={};if(this.apiClient.isVertexAI()){const y=Gh(this.apiClient,n);p=K("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Vh(this.apiClient,n);p=K("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=fg(n);return m=K("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=pg(v),C=new Uf;return Object.assign(C,E),C})}else{const h=dg(n);return m=K("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=cg(v),C=new Uf;return Object.assign(C,E),C})}}async delete(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Kh(this.apiClient,n);return m=K("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>Qh(v))}else{const h=Yh(this.apiClient,n);return m=K("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>Oh(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vg(o){const n={},r=l(o,["data"]);if(r!=null&&a(n,["data"],r),l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function Hf(o){const n={},r=l(o,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>qg(f))),a(n,["parts"],u)}const s=l(o,["role"]);return s!=null&&a(n,["role"],s),n}function Tg(o,n){const r={},s=l(o,["ttl"]);n!==void 0&&s!=null&&a(n,["ttl"],s);const u=l(o,["expireTime"]);n!==void 0&&u!=null&&a(n,["expireTime"],u);const f=l(o,["displayName"]);n!==void 0&&f!=null&&a(n,["displayName"],f);const p=l(o,["contents"]);if(n!==void 0&&p!=null){let v=yn(p);Array.isArray(v)&&(v=v.map(E=>Hf(E))),a(n,["contents"],v)}const m=l(o,["systemInstruction"]);n!==void 0&&m!=null&&a(n,["systemInstruction"],Hf(Oe(m)));const y=l(o,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>Hg(E))),a(n,["tools"],v)}const h=l(o,["toolConfig"]);if(n!==void 0&&h!=null&&a(n,["toolConfig"],h),l(o,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Eg(o,n){const r={},s=l(o,["ttl"]);n!==void 0&&s!=null&&a(n,["ttl"],s);const u=l(o,["expireTime"]);n!==void 0&&u!=null&&a(n,["expireTime"],u);const f=l(o,["displayName"]);n!==void 0&&f!=null&&a(n,["displayName"],f);const p=l(o,["contents"]);if(n!==void 0&&p!=null){let E=yn(p);Array.isArray(E)&&(E=E.map(C=>C)),a(n,["contents"],E)}const m=l(o,["systemInstruction"]);n!==void 0&&m!=null&&a(n,["systemInstruction"],Oe(m));const y=l(o,["tools"]);if(n!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>Bg(C))),a(n,["tools"],E)}const h=l(o,["toolConfig"]);n!==void 0&&h!=null&&a(n,["toolConfig"],h);const v=l(o,["kmsKeyName"]);return n!==void 0&&v!=null&&a(n,["encryption_spec","kmsKeyName"],v),r}function Cg(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["model"],tc(o,s));const u=l(n,["config"]);return u!=null&&Tg(u,r),r}function Sg(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["model"],tc(o,s));const u=l(n,["config"]);return u!=null&&Eg(u,r),r}function _g(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],qn(o,s)),r}function Ig(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],qn(o,s)),r}function wg(o){const n={},r=l(o,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function Ag(o){const n={},r=l(o,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function xg(o){const n={};if(l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(o,["fileUri"]);r!=null&&a(n,["fileUri"],r);const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function Rg(o){const n={};if(l(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(o,["description"]);r!=null&&a(n,["description"],r);const s=l(o,["name"]);s!=null&&a(n,["name"],s);const u=l(o,["parameters"]);u!=null&&a(n,["parameters"],u);const f=l(o,["parametersJsonSchema"]);f!=null&&a(n,["parametersJsonSchema"],f);const p=l(o,["response"]);p!=null&&a(n,["response"],p);const m=l(o,["responseJsonSchema"]);return m!=null&&a(n,["responseJsonSchema"],m),n}function Pg(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],qn(o,s)),r}function Ng(o,n){const r={},s=l(n,["name"]);return s!=null&&a(r,["_url","name"],qn(o,s)),r}function Mg(o){const n={};if(l(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(o,["enableWidget"]);return r!=null&&a(n,["enableWidget"],r),n}function kg(o){const n={};if(l(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const r=l(o,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],r),n}function Dg(o,n){const r={},s=l(o,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(o,["pageToken"]);return n!==void 0&&u!=null&&a(n,["_query","pageToken"],u),r}function Lg(o,n){const r={},s=l(o,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(o,["pageToken"]);return n!==void 0&&u!=null&&a(n,["_query","pageToken"],u),r}function Ug(o){const n={},r=l(o,["config"]);return r!=null&&Dg(r,n),n}function Fg(o){const n={},r=l(o,["config"]);return r!=null&&Lg(r,n),n}function Vg(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["cachedContents"],f)}return n}function Gg(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["cachedContents"],f)}return n}function qg(o){const n={},r=l(o,["functionCall"]);r!=null&&a(n,["functionCall"],r);const s=l(o,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(o,["executableCode"]);u!=null&&a(n,["executableCode"],u);const f=l(o,["fileData"]);f!=null&&a(n,["fileData"],xg(f));const p=l(o,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=l(o,["inlineData"]);m!=null&&a(n,["inlineData"],vg(m));const y=l(o,["text"]);y!=null&&a(n,["text"],y);const h=l(o,["thought"]);h!=null&&a(n,["thought"],h);const v=l(o,["thoughtSignature"]);v!=null&&a(n,["thoughtSignature"],v);const E=l(o,["videoMetadata"]);return E!=null&&a(n,["videoMetadata"],E),n}function Hg(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>v)),a(n,["functionDeclarations"],h)}if(l(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=l(o,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],s);const u=l(o,["googleMaps"]);u!=null&&a(n,["googleMaps"],Mg(u));const f=l(o,["computerUse"]);f!=null&&a(n,["computerUse"],f);const p=l(o,["codeExecution"]);if(p!=null&&a(n,["codeExecution"],p),l(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(o,["googleSearch"]);m!=null&&a(n,["googleSearch"],kg(m));const y=l(o,["urlContext"]);return y!=null&&a(n,["urlContext"],y),n}function Bg(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(C=>Rg(C))),a(n,["functionDeclarations"],E)}const s=l(o,["retrieval"]);s!=null&&a(n,["retrieval"],s);const u=l(o,["googleSearchRetrieval"]);u!=null&&a(n,["googleSearchRetrieval"],u);const f=l(o,["googleMaps"]);f!=null&&a(n,["googleMaps"],f);const p=l(o,["computerUse"]);p!=null&&a(n,["computerUse"],p);const m=l(o,["codeExecution"]);m!=null&&a(n,["codeExecution"],m);const y=l(o,["enterpriseWebSearch"]);y!=null&&a(n,["enterpriseWebSearch"],y);const h=l(o,["googleSearch"]);h!=null&&a(n,["googleSearch"],h);const v=l(o,["urlContext"]);return v!=null&&a(n,["urlContext"],v),n}function zg(o,n){const r={},s=l(o,["ttl"]);n!==void 0&&s!=null&&a(n,["ttl"],s);const u=l(o,["expireTime"]);return n!==void 0&&u!=null&&a(n,["expireTime"],u),r}function Jg(o,n){const r={},s=l(o,["ttl"]);n!==void 0&&s!=null&&a(n,["ttl"],s);const u=l(o,["expireTime"]);return n!==void 0&&u!=null&&a(n,["expireTime"],u),r}function $g(o,n){const r={},s=l(n,["name"]);s!=null&&a(r,["_url","name"],qn(o,s));const u=l(n,["config"]);return u!=null&&zg(u,r),r}function Wg(o,n){const r={},s=l(n,["name"]);s!=null&&a(r,["_url","name"],qn(o,s));const u=l(n,["config"]);return u!=null&&Jg(u,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yg extends Et{constructor(n){super(),this.apiClient=n,this.list=async(r={})=>new zo(Tt.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(r),r)}async create(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Sg(this.apiClient,n);return m=K("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=Cg(this.apiClient,n);return m=K("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Ng(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=Pg(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Ig(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Ag(v),C=new Df;return Object.assign(C,E),C})}else{const h=_g(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=wg(v),C=new Df;return Object.assign(C,E),C})}}async update(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Wg(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=$g(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Fg(n);return m=K("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Gg(v),C=new Lf;return Object.assign(C,E),C})}else{const h=Ug(n);return m=K("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Vg(v),C=new Lf;return Object.assign(C,E),C})}}}function Bf(o){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&o[n],s=0;if(r)return r.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(o){return this instanceof Ae?(this.v=o,this):new Ae(o)}function Ot(o,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(o,n||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(w){return function(M){return Promise.resolve(M).then(w,E)}}function m(w,M){s[w]&&(u[w]=function(k){return new Promise(function(G,$){f.push([w,k,G,$])>1||y(w,k)})},M&&(u[w]=M(u[w])))}function y(w,M){try{h(s[w](M))}catch(k){C(f[0][3],k)}}function h(w){w.value instanceof Ae?Promise.resolve(w.value.v).then(v,E):C(f[0][2],w)}function v(w){y("next",w)}function E(w){y("throw",w)}function C(w,M){w(M),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Bo(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=o[Symbol.asyncIterator],r;return n?n.call(o):(o=typeof Bf=="function"?Bf(o):o[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(f){r[f]=o[f]&&function(p){return new Promise(function(m,y){p=o[f](p),u(m,y,p.done,p.value)})}}function u(f,p,m,y){Promise.resolve(y).then(function(h){f({value:h,done:m})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kg(o){var n;if(o.candidates==null||o.candidates.length===0)return!1;const r=(n=o.candidates[0])===null||n===void 0?void 0:n.content;return r===void 0?!1:hc(r)}function hc(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const n of o.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function Og(o){if(o.length!==0){for(const n of o)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function zf(o){if(o===void 0||o.length===0)return[];const n=[],r=o.length;let s=0;for(;s<r;)if(o[s].role==="user")n.push(o[s]),s++;else{const u=[];let f=!0;for(;s<r&&o[s].role==="model";)u.push(o[s]),f&&!hc(o[s])&&(f=!1),s++;f?n.push(...u):n.pop()}return n}class Qg{constructor(n,r){this.modelsModule=n,this.apiClient=r}create(n){return new Xg(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Xg{constructor(n,r,s,u={},f=[]){this.apiClient=n,this.modelsModule=r,this.model=s,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),Og(f)}async sendMessage(n){var r;await this.sendPromise;const s=Oe(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(r=n.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var f,p,m;const y=await u,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let C=[];v!=null&&(C=(m=v.slice(E))!==null&&m!==void 0?m:[]);const w=h?[h]:[];this.recordHistory(s,w,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var r;await this.sendPromise;const s=Oe(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(r=n.config)!==null&&r!==void 0?r:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,s)}getHistory(n=!1){const r=n?zf(this.history):this.history;return structuredClone(r)}processStreamResponse(n,r){var s,u;return Ot(this,arguments,function*(){var p,m,y,h;const v=[];try{for(var E=!0,C=Bo(n),w;w=yield Ae(C.next()),p=w.done,!p;E=!0){h=w.value,E=!1;const M=h;if(Kg(M)){const k=(u=(s=M.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;k!==void 0&&v.push(k)}yield yield Ae(M)}}catch(M){m={error:M}}finally{try{!E&&!p&&(y=C.return)&&(yield Ae(y.call(C)))}finally{if(m)throw m.error}}this.recordHistory(r,v)})}recordHistory(n,r,s){let u=[];r.length>0&&r.every(f=>f.role!==void 0)?u=r:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...zf(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class li extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,li.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zg(o){const n={},r=l(o,["file"]);return r!=null&&a(n,["file"],r),n}function bg(o){const n={},r=l(o,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function jg(o){const n={},r=l(o,["name"]);return r!=null&&a(n,["_url","file"],uc(r)),n}function ey(o){const n={},r=l(o,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function ny(o){const n={},r=l(o,["name"]);return r!=null&&a(n,["_url","file"],uc(r)),n}function ty(o,n){const r={},s=l(o,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(o,["pageToken"]);return n!==void 0&&u!=null&&a(n,["_query","pageToken"],u),r}function oy(o){const n={},r=l(o,["config"]);return r!=null&&ty(r,n),n}function ry(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["files"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iy extends Et{constructor(n){super(),this.apiClient=n,this.list=async(r={})=>new zo(Tt.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(r),r)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(r=>r)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=oy(n);return f=K("files",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=ry(y),v=new gh;return Object.assign(v,h),v})}}async createInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Zg(n);return f=K("upload/v1beta/files",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const h=bg(y),v=new yh;return Object.assign(v,h),v})}}async get(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ny(n);return f=K("files/{file}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=jg(n);return f=K("files/{file}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=ey(y),v=new vh;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oi(o){const n={},r=l(o,["data"]);if(r!=null&&a(n,["data"],r),l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function sy(o){const n={},r=l(o,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Cy(f))),a(n,["parts"],u)}const s=l(o,["role"]);return s!=null&&a(n,["role"],s),n}function ly(o){const n={};if(l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(o,["fileUri"]);r!=null&&a(n,["fileUri"],r);const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function uy(o){const n={};if(l(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(o,["description"]);r!=null&&a(n,["description"],r);const s=l(o,["name"]);s!=null&&a(n,["name"],s);const u=l(o,["parameters"]);u!=null&&a(n,["parameters"],u);const f=l(o,["parametersJsonSchema"]);f!=null&&a(n,["parametersJsonSchema"],f);const p=l(o,["response"]);p!=null&&a(n,["response"],p);const m=l(o,["responseJsonSchema"]);return m!=null&&a(n,["responseJsonSchema"],m),n}function ay(o){const n={},r=l(o,["modelSelectionConfig"]);r!=null&&a(n,["modelConfig"],r);const s=l(o,["audioTimestamp"]);s!=null&&a(n,["audioTimestamp"],s);const u=l(o,["candidateCount"]);u!=null&&a(n,["candidateCount"],u);const f=l(o,["enableAffectiveDialog"]);f!=null&&a(n,["enableAffectiveDialog"],f);const p=l(o,["frequencyPenalty"]);p!=null&&a(n,["frequencyPenalty"],p);const m=l(o,["logprobs"]);m!=null&&a(n,["logprobs"],m);const y=l(o,["maxOutputTokens"]);y!=null&&a(n,["maxOutputTokens"],y);const h=l(o,["mediaResolution"]);h!=null&&a(n,["mediaResolution"],h);const v=l(o,["presencePenalty"]);v!=null&&a(n,["presencePenalty"],v);const E=l(o,["responseJsonSchema"]);E!=null&&a(n,["responseJsonSchema"],E);const C=l(o,["responseLogprobs"]);C!=null&&a(n,["responseLogprobs"],C);const w=l(o,["responseMimeType"]);w!=null&&a(n,["responseMimeType"],w);const M=l(o,["responseModalities"]);M!=null&&a(n,["responseModalities"],M);const k=l(o,["responseSchema"]);k!=null&&a(n,["responseSchema"],k);const G=l(o,["routingConfig"]);G!=null&&a(n,["routingConfig"],G);const $=l(o,["seed"]);$!=null&&a(n,["seed"],$);const z=l(o,["speechConfig"]);z!=null&&a(n,["speechConfig"],gc(z));const q=l(o,["stopSequences"]);q!=null&&a(n,["stopSequences"],q);const O=l(o,["temperature"]);O!=null&&a(n,["temperature"],O);const ee=l(o,["thinkingConfig"]);ee!=null&&a(n,["thinkingConfig"],ee);const b=l(o,["topK"]);b!=null&&a(n,["topK"],b);const oe=l(o,["topP"]);if(oe!=null&&a(n,["topP"],oe),l(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function dy(o){const n={};if(l(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(o,["enableWidget"]);return r!=null&&a(n,["enableWidget"],r),n}function fy(o){const n={};if(l(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const r=l(o,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],r),n}function cy(o,n){const r={},s=l(o,["generationConfig"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig"],s);const u=l(o,["responseModalities"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","responseModalities"],u);const f=l(o,["temperature"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","temperature"],f);const p=l(o,["topP"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","topP"],p);const m=l(o,["topK"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","topK"],m);const y=l(o,["maxOutputTokens"]);n!==void 0&&y!=null&&a(n,["setup","generationConfig","maxOutputTokens"],y);const h=l(o,["mediaResolution"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","mediaResolution"],h);const v=l(o,["seed"]);n!==void 0&&v!=null&&a(n,["setup","generationConfig","seed"],v);const E=l(o,["speechConfig"]);n!==void 0&&E!=null&&a(n,["setup","generationConfig","speechConfig"],Rl(E));const C=l(o,["thinkingConfig"]);n!==void 0&&C!=null&&a(n,["setup","generationConfig","thinkingConfig"],C);const w=l(o,["enableAffectiveDialog"]);n!==void 0&&w!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],w);const M=l(o,["systemInstruction"]);n!==void 0&&M!=null&&a(n,["setup","systemInstruction"],sy(Oe(M)));const k=l(o,["tools"]);if(n!==void 0&&k!=null){let b=Zt(k);Array.isArray(b)&&(b=b.map(oe=>_y(Xt(oe)))),a(n,["setup","tools"],b)}const G=l(o,["sessionResumption"]);n!==void 0&&G!=null&&a(n,["setup","sessionResumption"],Sy(G));const $=l(o,["inputAudioTranscription"]);n!==void 0&&$!=null&&a(n,["setup","inputAudioTranscription"],$);const z=l(o,["outputAudioTranscription"]);n!==void 0&&z!=null&&a(n,["setup","outputAudioTranscription"],z);const q=l(o,["realtimeInputConfig"]);n!==void 0&&q!=null&&a(n,["setup","realtimeInputConfig"],q);const O=l(o,["contextWindowCompression"]);n!==void 0&&O!=null&&a(n,["setup","contextWindowCompression"],O);const ee=l(o,["proactivity"]);return n!==void 0&&ee!=null&&a(n,["setup","proactivity"],ee),r}function py(o,n){const r={},s=l(o,["generationConfig"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig"],ay(s));const u=l(o,["responseModalities"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","responseModalities"],u);const f=l(o,["temperature"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","temperature"],f);const p=l(o,["topP"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","topP"],p);const m=l(o,["topK"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","topK"],m);const y=l(o,["maxOutputTokens"]);n!==void 0&&y!=null&&a(n,["setup","generationConfig","maxOutputTokens"],y);const h=l(o,["mediaResolution"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","mediaResolution"],h);const v=l(o,["seed"]);n!==void 0&&v!=null&&a(n,["setup","generationConfig","seed"],v);const E=l(o,["speechConfig"]);n!==void 0&&E!=null&&a(n,["setup","generationConfig","speechConfig"],gc(Rl(E)));const C=l(o,["thinkingConfig"]);n!==void 0&&C!=null&&a(n,["setup","generationConfig","thinkingConfig"],C);const w=l(o,["enableAffectiveDialog"]);n!==void 0&&w!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],w);const M=l(o,["systemInstruction"]);n!==void 0&&M!=null&&a(n,["setup","systemInstruction"],Oe(M));const k=l(o,["tools"]);if(n!==void 0&&k!=null){let b=Zt(k);Array.isArray(b)&&(b=b.map(oe=>Iy(Xt(oe)))),a(n,["setup","tools"],b)}const G=l(o,["sessionResumption"]);n!==void 0&&G!=null&&a(n,["setup","sessionResumption"],G);const $=l(o,["inputAudioTranscription"]);n!==void 0&&$!=null&&a(n,["setup","inputAudioTranscription"],$);const z=l(o,["outputAudioTranscription"]);n!==void 0&&z!=null&&a(n,["setup","outputAudioTranscription"],z);const q=l(o,["realtimeInputConfig"]);n!==void 0&&q!=null&&a(n,["setup","realtimeInputConfig"],q);const O=l(o,["contextWindowCompression"]);n!==void 0&&O!=null&&a(n,["setup","contextWindowCompression"],O);const ee=l(o,["proactivity"]);return n!==void 0&&ee!=null&&a(n,["setup","proactivity"],ee),r}function my(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["setup","model"],ve(o,s));const u=l(n,["config"]);return u!=null&&a(r,["config"],cy(u,r)),r}function hy(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["setup","model"],ve(o,s));const u=l(n,["config"]);return u!=null&&a(r,["config"],py(u,r)),r}function gy(o){const n={},r=l(o,["musicGenerationConfig"]);return r!=null&&a(n,["musicGenerationConfig"],r),n}function yy(o){const n={},r=l(o,["weightedPrompts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),a(n,["weightedPrompts"],s)}return n}function vy(o){const n={},r=l(o,["media"]);if(r!=null){let h=oc(r);Array.isArray(h)&&(h=h.map(v=>oi(v))),a(n,["mediaChunks"],h)}const s=l(o,["audio"]);s!=null&&a(n,["audio"],oi(ic(s)));const u=l(o,["audioStreamEnd"]);u!=null&&a(n,["audioStreamEnd"],u);const f=l(o,["video"]);f!=null&&a(n,["video"],oi(rc(f)));const p=l(o,["text"]);p!=null&&a(n,["text"],p);const m=l(o,["activityStart"]);m!=null&&a(n,["activityStart"],m);const y=l(o,["activityEnd"]);return y!=null&&a(n,["activityEnd"],y),n}function Ty(o){const n={},r=l(o,["media"]);if(r!=null){let h=oc(r);Array.isArray(h)&&(h=h.map(v=>v)),a(n,["mediaChunks"],h)}const s=l(o,["audio"]);s!=null&&a(n,["audio"],ic(s));const u=l(o,["audioStreamEnd"]);u!=null&&a(n,["audioStreamEnd"],u);const f=l(o,["video"]);f!=null&&a(n,["video"],rc(f));const p=l(o,["text"]);p!=null&&a(n,["text"],p);const m=l(o,["activityStart"]);m!=null&&a(n,["activityStart"],m);const y=l(o,["activityEnd"]);return y!=null&&a(n,["activityEnd"],y),n}function Ey(o){const n={},r=l(o,["setupComplete"]);r!=null&&a(n,["setupComplete"],r);const s=l(o,["serverContent"]);s!=null&&a(n,["serverContent"],s);const u=l(o,["toolCall"]);u!=null&&a(n,["toolCall"],u);const f=l(o,["toolCallCancellation"]);f!=null&&a(n,["toolCallCancellation"],f);const p=l(o,["usageMetadata"]);p!=null&&a(n,["usageMetadata"],wy(p));const m=l(o,["goAway"]);m!=null&&a(n,["goAway"],m);const y=l(o,["sessionResumptionUpdate"]);return y!=null&&a(n,["sessionResumptionUpdate"],y),n}function Cy(o){const n={},r=l(o,["functionCall"]);r!=null&&a(n,["functionCall"],r);const s=l(o,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(o,["executableCode"]);u!=null&&a(n,["executableCode"],u);const f=l(o,["fileData"]);f!=null&&a(n,["fileData"],ly(f));const p=l(o,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=l(o,["inlineData"]);m!=null&&a(n,["inlineData"],oi(m));const y=l(o,["text"]);y!=null&&a(n,["text"],y);const h=l(o,["thought"]);h!=null&&a(n,["thought"],h);const v=l(o,["thoughtSignature"]);v!=null&&a(n,["thoughtSignature"],v);const E=l(o,["videoMetadata"]);return E!=null&&a(n,["videoMetadata"],E),n}function Sy(o){const n={},r=l(o,["handle"]);if(r!=null&&a(n,["handle"],r),l(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function gc(o){const n={},r=l(o,["languageCode"]);r!=null&&a(n,["languageCode"],r);const s=l(o,["voiceConfig"]);if(s!=null&&a(n,["voiceConfig"],s),l(o,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function _y(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>v)),a(n,["functionDeclarations"],h)}if(l(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=l(o,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],s);const u=l(o,["googleMaps"]);u!=null&&a(n,["googleMaps"],dy(u));const f=l(o,["computerUse"]);f!=null&&a(n,["computerUse"],f);const p=l(o,["codeExecution"]);if(p!=null&&a(n,["codeExecution"],p),l(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(o,["googleSearch"]);m!=null&&a(n,["googleSearch"],fy(m));const y=l(o,["urlContext"]);return y!=null&&a(n,["urlContext"],y),n}function Iy(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(C=>uy(C))),a(n,["functionDeclarations"],E)}const s=l(o,["retrieval"]);s!=null&&a(n,["retrieval"],s);const u=l(o,["googleSearchRetrieval"]);u!=null&&a(n,["googleSearchRetrieval"],u);const f=l(o,["googleMaps"]);f!=null&&a(n,["googleMaps"],f);const p=l(o,["computerUse"]);p!=null&&a(n,["computerUse"],p);const m=l(o,["codeExecution"]);m!=null&&a(n,["codeExecution"],m);const y=l(o,["enterpriseWebSearch"]);y!=null&&a(n,["enterpriseWebSearch"],y);const h=l(o,["googleSearch"]);h!=null&&a(n,["googleSearch"],h);const v=l(o,["urlContext"]);return v!=null&&a(n,["urlContext"],v),n}function wy(o){const n={},r=l(o,["promptTokenCount"]);r!=null&&a(n,["promptTokenCount"],r);const s=l(o,["cachedContentTokenCount"]);s!=null&&a(n,["cachedContentTokenCount"],s);const u=l(o,["candidatesTokenCount"]);u!=null&&a(n,["responseTokenCount"],u);const f=l(o,["toolUsePromptTokenCount"]);f!=null&&a(n,["toolUsePromptTokenCount"],f);const p=l(o,["thoughtsTokenCount"]);p!=null&&a(n,["thoughtsTokenCount"],p);const m=l(o,["totalTokenCount"]);m!=null&&a(n,["totalTokenCount"],m);const y=l(o,["promptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(M=>M)),a(n,["promptTokensDetails"],w)}const h=l(o,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(M=>M)),a(n,["cacheTokensDetails"],w)}const v=l(o,["candidatesTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(M=>M)),a(n,["responseTokensDetails"],w)}const E=l(o,["toolUsePromptTokensDetails"]);if(E!=null){let w=E;Array.isArray(w)&&(w=w.map(M=>M)),a(n,["toolUsePromptTokensDetails"],w)}const C=l(o,["trafficType"]);return C!=null&&a(n,["trafficType"],C),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ay(o){const n={},r=l(o,["data"]);if(r!=null&&a(n,["data"],r),l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function xy(o){const n={},r=l(o,["content"]);r!=null&&a(n,["content"],r);const s=l(o,["citationMetadata"]);s!=null&&a(n,["citationMetadata"],Ry(s));const u=l(o,["tokenCount"]);u!=null&&a(n,["tokenCount"],u);const f=l(o,["finishReason"]);f!=null&&a(n,["finishReason"],f);const p=l(o,["avgLogprobs"]);p!=null&&a(n,["avgLogprobs"],p);const m=l(o,["groundingMetadata"]);m!=null&&a(n,["groundingMetadata"],m);const y=l(o,["index"]);y!=null&&a(n,["index"],y);const h=l(o,["logprobsResult"]);h!=null&&a(n,["logprobsResult"],h);const v=l(o,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),a(n,["safetyRatings"],C)}const E=l(o,["urlContextMetadata"]);return E!=null&&a(n,["urlContextMetadata"],E),n}function Ry(o){const n={},r=l(o,["citationSources"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>u)),a(n,["citations"],s)}return n}function Py(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let f=yn(u);Array.isArray(f)&&(f=f.map(p=>p)),a(r,["contents"],f)}return r}function Ny(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),a(n,["tokensInfo"],u)}return n}function My(o){const n={},r=l(o,["values"]);r!=null&&a(n,["values"],r);const s=l(o,["statistics"]);return s!=null&&a(n,["statistics"],ky(s)),n}function ky(o){const n={},r=l(o,["truncated"]);r!=null&&a(n,["truncated"],r);const s=l(o,["token_count"]);return s!=null&&a(n,["tokenCount"],s),n}function ui(o){const n={},r=l(o,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Vv(f))),a(n,["parts"],u)}const s=l(o,["role"]);return s!=null&&a(n,["role"],s),n}function Dy(o){const n={},r=l(o,["controlType"]);r!=null&&a(n,["controlType"],r);const s=l(o,["enableControlImageComputation"]);return s!=null&&a(n,["computeControl"],s),n}function Ly(o){const n={};if(l(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Uy(o,n){const r={},s=l(o,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],Oe(s));const u=l(o,["tools"]);if(n!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>Cc(m))),a(n,["tools"],p)}const f=l(o,["generationConfig"]);return n!==void 0&&f!=null&&a(n,["generationConfig"],Iv(f)),r}function Fy(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let p=yn(u);Array.isArray(p)&&(p=p.map(m=>ui(m))),a(r,["contents"],p)}const f=l(n,["config"]);return f!=null&&Ly(f),r}function Vy(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let p=yn(u);Array.isArray(p)&&(p=p.map(m=>m)),a(r,["contents"],p)}const f=l(n,["config"]);return f!=null&&Uy(f,r),r}function Gy(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["totalTokens"]);s!=null&&a(n,["totalTokens"],s);const u=l(o,["cachedContentTokenCount"]);return u!=null&&a(n,["cachedContentTokenCount"],u),n}function qy(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["totalTokens"]);return s!=null&&a(n,["totalTokens"],s),n}function Hy(o,n){const r={},s=l(n,["model"]);return s!=null&&a(r,["_url","name"],ve(o,s)),r}function By(o,n){const r={},s=l(n,["model"]);return s!=null&&a(r,["_url","name"],ve(o,s)),r}function zy(o){const n={},r=l(o,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function Jy(o){const n={},r=l(o,["sdkHttpResponse"]);return r!=null&&a(n,["sdkHttpResponse"],r),n}function $y(o,n){const r={},s=l(o,["outputGcsUri"]);n!==void 0&&s!=null&&a(n,["parameters","storageUri"],s);const u=l(o,["negativePrompt"]);n!==void 0&&u!=null&&a(n,["parameters","negativePrompt"],u);const f=l(o,["numberOfImages"]);n!==void 0&&f!=null&&a(n,["parameters","sampleCount"],f);const p=l(o,["aspectRatio"]);n!==void 0&&p!=null&&a(n,["parameters","aspectRatio"],p);const m=l(o,["guidanceScale"]);n!==void 0&&m!=null&&a(n,["parameters","guidanceScale"],m);const y=l(o,["seed"]);n!==void 0&&y!=null&&a(n,["parameters","seed"],y);const h=l(o,["safetyFilterLevel"]);n!==void 0&&h!=null&&a(n,["parameters","safetySetting"],h);const v=l(o,["personGeneration"]);n!==void 0&&v!=null&&a(n,["parameters","personGeneration"],v);const E=l(o,["includeSafetyAttributes"]);n!==void 0&&E!=null&&a(n,["parameters","includeSafetyAttributes"],E);const C=l(o,["includeRaiReason"]);n!==void 0&&C!=null&&a(n,["parameters","includeRaiReason"],C);const w=l(o,["language"]);n!==void 0&&w!=null&&a(n,["parameters","language"],w);const M=l(o,["outputMimeType"]);n!==void 0&&M!=null&&a(n,["parameters","outputOptions","mimeType"],M);const k=l(o,["outputCompressionQuality"]);n!==void 0&&k!=null&&a(n,["parameters","outputOptions","compressionQuality"],k);const G=l(o,["addWatermark"]);n!==void 0&&G!=null&&a(n,["parameters","addWatermark"],G);const $=l(o,["labels"]);n!==void 0&&$!=null&&a(n,["labels"],$);const z=l(o,["editMode"]);n!==void 0&&z!=null&&a(n,["parameters","editMode"],z);const q=l(o,["baseSteps"]);return n!==void 0&&q!=null&&a(n,["parameters","editConfig","baseSteps"],q),r}function Wy(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const f=l(n,["referenceImages"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>Jv(y))),a(r,["instances[0]","referenceImages"],m)}const p=l(n,["config"]);return p!=null&&$y(p,r),r}function Yy(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>ai(f))),a(n,["generatedImages"],u)}return n}function Ky(o,n){const r={},s=l(o,["taskType"]);n!==void 0&&s!=null&&a(n,["requests[]","taskType"],s);const u=l(o,["title"]);n!==void 0&&u!=null&&a(n,["requests[]","title"],u);const f=l(o,["outputDimensionality"]);if(n!==void 0&&f!=null&&a(n,["requests[]","outputDimensionality"],f),l(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Oy(o,n){const r={},s=l(o,["taskType"]);n!==void 0&&s!=null&&a(n,["instances[]","task_type"],s);const u=l(o,["title"]);n!==void 0&&u!=null&&a(n,["instances[]","title"],u);const f=l(o,["outputDimensionality"]);n!==void 0&&f!=null&&a(n,["parameters","outputDimensionality"],f);const p=l(o,["mimeType"]);n!==void 0&&p!=null&&a(n,["instances[]","mimeType"],p);const m=l(o,["autoTruncate"]);return n!==void 0&&m!=null&&a(n,["parameters","autoTruncate"],m),r}function Qy(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let m=wl(o,u);Array.isArray(m)&&(m=m.map(y=>y)),a(r,["requests[]","content"],m)}const f=l(n,["config"]);f!=null&&Ky(f,r);const p=l(n,["model"]);return p!==void 0&&a(r,["requests[]","model"],ve(o,p)),r}function Xy(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let p=wl(o,u);Array.isArray(p)&&(p=p.map(m=>m)),a(r,["instances[]","content"],p)}const f=l(n,["config"]);return f!=null&&Oy(f,r),r}function Zy(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["embeddings"],f)}const u=l(o,["metadata"]);return u!=null&&a(n,["metadata"],u),n}function by(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>My(p))),a(n,["embeddings"],f)}const u=l(o,["metadata"]);return u!=null&&a(n,["metadata"],u),n}function jy(o){const n={},r=l(o,["endpoint"]);r!=null&&a(n,["name"],r);const s=l(o,["deployedModelId"]);return s!=null&&a(n,["deployedModelId"],s),n}function ev(o){const n={};if(l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(o,["fileUri"]);r!=null&&a(n,["fileUri"],r);const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function nv(o){const n={};if(l(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=l(o,["description"]);r!=null&&a(n,["description"],r);const s=l(o,["name"]);s!=null&&a(n,["name"],s);const u=l(o,["parameters"]);u!=null&&a(n,["parameters"],u);const f=l(o,["parametersJsonSchema"]);f!=null&&a(n,["parametersJsonSchema"],f);const p=l(o,["response"]);p!=null&&a(n,["response"],p);const m=l(o,["responseJsonSchema"]);return m!=null&&a(n,["responseJsonSchema"],m),n}function tv(o,n,r){const s={},u=l(n,["systemInstruction"]);r!==void 0&&u!=null&&a(r,["systemInstruction"],ui(Oe(u)));const f=l(n,["temperature"]);f!=null&&a(s,["temperature"],f);const p=l(n,["topP"]);p!=null&&a(s,["topP"],p);const m=l(n,["topK"]);m!=null&&a(s,["topK"],m);const y=l(n,["candidateCount"]);y!=null&&a(s,["candidateCount"],y);const h=l(n,["maxOutputTokens"]);h!=null&&a(s,["maxOutputTokens"],h);const v=l(n,["stopSequences"]);v!=null&&a(s,["stopSequences"],v);const E=l(n,["responseLogprobs"]);E!=null&&a(s,["responseLogprobs"],E);const C=l(n,["logprobs"]);C!=null&&a(s,["logprobs"],C);const w=l(n,["presencePenalty"]);w!=null&&a(s,["presencePenalty"],w);const M=l(n,["frequencyPenalty"]);M!=null&&a(s,["frequencyPenalty"],M);const k=l(n,["seed"]);k!=null&&a(s,["seed"],k);const G=l(n,["responseMimeType"]);G!=null&&a(s,["responseMimeType"],G);const $=l(n,["responseSchema"]);$!=null&&a(s,["responseSchema"],Al($));const z=l(n,["responseJsonSchema"]);if(z!=null&&a(s,["responseJsonSchema"],z),l(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=l(n,["safetySettings"]);if(r!==void 0&&q!=null){let re=q;Array.isArray(re)&&(re=re.map(ue=>$v(ue))),a(r,["safetySettings"],re)}const O=l(n,["tools"]);if(r!==void 0&&O!=null){let re=Zt(O);Array.isArray(re)&&(re=re.map(ue=>Xv(Xt(ue)))),a(r,["tools"],re)}const ee=l(n,["toolConfig"]);if(r!==void 0&&ee!=null&&a(r,["toolConfig"],ee),l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=l(n,["cachedContent"]);r!==void 0&&b!=null&&a(r,["cachedContent"],qn(o,b));const oe=l(n,["responseModalities"]);oe!=null&&a(s,["responseModalities"],oe);const me=l(n,["mediaResolution"]);me!=null&&a(s,["mediaResolution"],me);const j=l(n,["speechConfig"]);if(j!=null&&a(s,["speechConfig"],xl(j)),l(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=l(n,["thinkingConfig"]);Z!=null&&a(s,["thinkingConfig"],Z);const le=l(n,["imageConfig"]);return le!=null&&a(s,["imageConfig"],le),s}function ov(o,n,r){const s={},u=l(n,["systemInstruction"]);r!==void 0&&u!=null&&a(r,["systemInstruction"],Oe(u));const f=l(n,["temperature"]);f!=null&&a(s,["temperature"],f);const p=l(n,["topP"]);p!=null&&a(s,["topP"],p);const m=l(n,["topK"]);m!=null&&a(s,["topK"],m);const y=l(n,["candidateCount"]);y!=null&&a(s,["candidateCount"],y);const h=l(n,["maxOutputTokens"]);h!=null&&a(s,["maxOutputTokens"],h);const v=l(n,["stopSequences"]);v!=null&&a(s,["stopSequences"],v);const E=l(n,["responseLogprobs"]);E!=null&&a(s,["responseLogprobs"],E);const C=l(n,["logprobs"]);C!=null&&a(s,["logprobs"],C);const w=l(n,["presencePenalty"]);w!=null&&a(s,["presencePenalty"],w);const M=l(n,["frequencyPenalty"]);M!=null&&a(s,["frequencyPenalty"],M);const k=l(n,["seed"]);k!=null&&a(s,["seed"],k);const G=l(n,["responseMimeType"]);G!=null&&a(s,["responseMimeType"],G);const $=l(n,["responseSchema"]);$!=null&&a(s,["responseSchema"],Al($));const z=l(n,["responseJsonSchema"]);z!=null&&a(s,["responseJsonSchema"],z);const q=l(n,["routingConfig"]);q!=null&&a(s,["routingConfig"],q);const O=l(n,["modelSelectionConfig"]);O!=null&&a(s,["modelConfig"],O);const ee=l(n,["safetySettings"]);if(r!==void 0&&ee!=null){let Re=ee;Array.isArray(Re)&&(Re=Re.map(Ce=>Ce)),a(r,["safetySettings"],Re)}const b=l(n,["tools"]);if(r!==void 0&&b!=null){let Re=Zt(b);Array.isArray(Re)&&(Re=Re.map(Ce=>Cc(Xt(Ce)))),a(r,["tools"],Re)}const oe=l(n,["toolConfig"]);r!==void 0&&oe!=null&&a(r,["toolConfig"],oe);const me=l(n,["labels"]);r!==void 0&&me!=null&&a(r,["labels"],me);const j=l(n,["cachedContent"]);r!==void 0&&j!=null&&a(r,["cachedContent"],qn(o,j));const Z=l(n,["responseModalities"]);Z!=null&&a(s,["responseModalities"],Z);const le=l(n,["mediaResolution"]);le!=null&&a(s,["mediaResolution"],le);const re=l(n,["speechConfig"]);re!=null&&a(s,["speechConfig"],Ec(xl(re)));const ue=l(n,["audioTimestamp"]);ue!=null&&a(s,["audioTimestamp"],ue);const xe=l(n,["thinkingConfig"]);xe!=null&&a(s,["thinkingConfig"],xe);const rn=l(n,["imageConfig"]);return rn!=null&&a(s,["imageConfig"],rn),s}function Jf(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let p=yn(u);Array.isArray(p)&&(p=p.map(m=>ui(m))),a(r,["contents"],p)}const f=l(n,["config"]);return f!=null&&a(r,["generationConfig"],tv(o,f,r)),r}function $f(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["contents"]);if(u!=null){let p=yn(u);Array.isArray(p)&&(p=p.map(m=>m)),a(r,["contents"],p)}const f=l(n,["config"]);return f!=null&&a(r,["generationConfig"],ov(o,f,r)),r}function Wf(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>xy(h))),a(n,["candidates"],y)}const u=l(o,["modelVersion"]);u!=null&&a(n,["modelVersion"],u);const f=l(o,["promptFeedback"]);f!=null&&a(n,["promptFeedback"],f);const p=l(o,["responseId"]);p!=null&&a(n,["responseId"],p);const m=l(o,["usageMetadata"]);return m!=null&&a(n,["usageMetadata"],m),n}function Yf(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),a(n,["candidates"],h)}const u=l(o,["createTime"]);u!=null&&a(n,["createTime"],u);const f=l(o,["modelVersion"]);f!=null&&a(n,["modelVersion"],f);const p=l(o,["promptFeedback"]);p!=null&&a(n,["promptFeedback"],p);const m=l(o,["responseId"]);m!=null&&a(n,["responseId"],m);const y=l(o,["usageMetadata"]);return y!=null&&a(n,["usageMetadata"],y),n}function rv(o,n){const r={};if(l(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=l(o,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(o,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const f=l(o,["guidanceScale"]);if(n!==void 0&&f!=null&&a(n,["parameters","guidanceScale"],f),l(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=l(o,["safetyFilterLevel"]);n!==void 0&&p!=null&&a(n,["parameters","safetySetting"],p);const m=l(o,["personGeneration"]);n!==void 0&&m!=null&&a(n,["parameters","personGeneration"],m);const y=l(o,["includeSafetyAttributes"]);n!==void 0&&y!=null&&a(n,["parameters","includeSafetyAttributes"],y);const h=l(o,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const v=l(o,["language"]);n!==void 0&&v!=null&&a(n,["parameters","language"],v);const E=l(o,["outputMimeType"]);n!==void 0&&E!=null&&a(n,["parameters","outputOptions","mimeType"],E);const C=l(o,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&a(n,["parameters","outputOptions","compressionQuality"],C),l(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(o,["imageSize"]);if(n!==void 0&&w!=null&&a(n,["parameters","sampleImageSize"],w),l(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function iv(o,n){const r={},s=l(o,["outputGcsUri"]);n!==void 0&&s!=null&&a(n,["parameters","storageUri"],s);const u=l(o,["negativePrompt"]);n!==void 0&&u!=null&&a(n,["parameters","negativePrompt"],u);const f=l(o,["numberOfImages"]);n!==void 0&&f!=null&&a(n,["parameters","sampleCount"],f);const p=l(o,["aspectRatio"]);n!==void 0&&p!=null&&a(n,["parameters","aspectRatio"],p);const m=l(o,["guidanceScale"]);n!==void 0&&m!=null&&a(n,["parameters","guidanceScale"],m);const y=l(o,["seed"]);n!==void 0&&y!=null&&a(n,["parameters","seed"],y);const h=l(o,["safetyFilterLevel"]);n!==void 0&&h!=null&&a(n,["parameters","safetySetting"],h);const v=l(o,["personGeneration"]);n!==void 0&&v!=null&&a(n,["parameters","personGeneration"],v);const E=l(o,["includeSafetyAttributes"]);n!==void 0&&E!=null&&a(n,["parameters","includeSafetyAttributes"],E);const C=l(o,["includeRaiReason"]);n!==void 0&&C!=null&&a(n,["parameters","includeRaiReason"],C);const w=l(o,["language"]);n!==void 0&&w!=null&&a(n,["parameters","language"],w);const M=l(o,["outputMimeType"]);n!==void 0&&M!=null&&a(n,["parameters","outputOptions","mimeType"],M);const k=l(o,["outputCompressionQuality"]);n!==void 0&&k!=null&&a(n,["parameters","outputOptions","compressionQuality"],k);const G=l(o,["addWatermark"]);n!==void 0&&G!=null&&a(n,["parameters","addWatermark"],G);const $=l(o,["labels"]);n!==void 0&&$!=null&&a(n,["labels"],$);const z=l(o,["imageSize"]);n!==void 0&&z!=null&&a(n,["parameters","sampleImageSize"],z);const q=l(o,["enhancePrompt"]);return n!==void 0&&q!=null&&a(n,["parameters","enhancePrompt"],q),r}function sv(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const f=l(n,["config"]);return f!=null&&rv(f,r),r}function lv(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const f=l(n,["config"]);return f!=null&&iv(f,r),r}function uv(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>Ev(p))),a(n,["generatedImages"],f)}const u=l(o,["positivePromptSafetyAttributes"]);return u!=null&&a(n,["positivePromptSafetyAttributes"],vc(u)),n}function av(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>ai(p))),a(n,["generatedImages"],f)}const u=l(o,["positivePromptSafetyAttributes"]);return u!=null&&a(n,["positivePromptSafetyAttributes"],Tc(u)),n}function dv(o,n){const r={},s=l(o,["numberOfVideos"]);if(n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s),l(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=l(o,["durationSeconds"]);if(n!==void 0&&u!=null&&a(n,["parameters","durationSeconds"],u),l(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(o,["aspectRatio"]);n!==void 0&&f!=null&&a(n,["parameters","aspectRatio"],f);const p=l(o,["resolution"]);n!==void 0&&p!=null&&a(n,["parameters","resolution"],p);const m=l(o,["personGeneration"]);if(n!==void 0&&m!=null&&a(n,["parameters","personGeneration"],m),l(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=l(o,["negativePrompt"]);n!==void 0&&y!=null&&a(n,["parameters","negativePrompt"],y);const h=l(o,["enhancePrompt"]);if(n!==void 0&&h!=null&&a(n,["parameters","enhancePrompt"],h),l(o,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=l(o,["lastFrame"]);n!==void 0&&v!=null&&a(n,["instances[0]","lastFrame"],di(v));const E=l(o,["referenceImages"]);if(n!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(w=>a0(w))),a(n,["instances[0]","referenceImages"],C)}if(l(o,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(o,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function fv(o,n){const r={},s=l(o,["numberOfVideos"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(o,["outputGcsUri"]);n!==void 0&&u!=null&&a(n,["parameters","storageUri"],u);const f=l(o,["fps"]);n!==void 0&&f!=null&&a(n,["parameters","fps"],f);const p=l(o,["durationSeconds"]);n!==void 0&&p!=null&&a(n,["parameters","durationSeconds"],p);const m=l(o,["seed"]);n!==void 0&&m!=null&&a(n,["parameters","seed"],m);const y=l(o,["aspectRatio"]);n!==void 0&&y!=null&&a(n,["parameters","aspectRatio"],y);const h=l(o,["resolution"]);n!==void 0&&h!=null&&a(n,["parameters","resolution"],h);const v=l(o,["personGeneration"]);n!==void 0&&v!=null&&a(n,["parameters","personGeneration"],v);const E=l(o,["pubsubTopic"]);n!==void 0&&E!=null&&a(n,["parameters","pubsubTopic"],E);const C=l(o,["negativePrompt"]);n!==void 0&&C!=null&&a(n,["parameters","negativePrompt"],C);const w=l(o,["enhancePrompt"]);n!==void 0&&w!=null&&a(n,["parameters","enhancePrompt"],w);const M=l(o,["generateAudio"]);n!==void 0&&M!=null&&a(n,["parameters","generateAudio"],M);const k=l(o,["lastFrame"]);n!==void 0&&k!=null&&a(n,["instances[0]","lastFrame"],wn(k));const G=l(o,["referenceImages"]);if(n!==void 0&&G!=null){let q=G;Array.isArray(q)&&(q=q.map(O=>d0(O))),a(n,["instances[0]","referenceImages"],q)}const $=l(o,["mask"]);n!==void 0&&$!=null&&a(n,["instances[0]","mask"],u0($));const z=l(o,["compressionQuality"]);return n!==void 0&&z!=null&&a(n,["parameters","compressionQuality"],z),r}function cv(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["metadata"]);s!=null&&a(n,["metadata"],s);const u=l(o,["done"]);u!=null&&a(n,["done"],u);const f=l(o,["error"]);f!=null&&a(n,["error"],f);const p=l(o,["response","generateVideoResponse"]);return p!=null&&a(n,["response"],gv(p)),n}function pv(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["metadata"]);s!=null&&a(n,["metadata"],s);const u=l(o,["done"]);u!=null&&a(n,["done"],u);const f=l(o,["error"]);f!=null&&a(n,["error"],f);const p=l(o,["response"]);return p!=null&&a(n,["response"],yv(p)),n}function mv(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const f=l(n,["image"]);f!=null&&a(r,["instances[0]","image"],di(f));const p=l(n,["video"]);p!=null&&a(r,["instances[0]","video"],Sc(p));const m=l(n,["source"]);m!=null&&vv(m,r);const y=l(n,["config"]);return y!=null&&dv(y,r),r}function hv(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["prompt"]);u!=null&&a(r,["instances[0]","prompt"],u);const f=l(n,["image"]);f!=null&&a(r,["instances[0]","image"],wn(f));const p=l(n,["video"]);p!=null&&a(r,["instances[0]","video"],_c(p));const m=l(n,["source"]);m!=null&&Tv(m,r);const y=l(n,["config"]);return y!=null&&fv(y,r),r}function gv(o){const n={},r=l(o,["generatedSamples"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Sv(p))),a(n,["generatedVideos"],f)}const s=l(o,["raiMediaFilteredCount"]);s!=null&&a(n,["raiMediaFilteredCount"],s);const u=l(o,["raiMediaFilteredReasons"]);return u!=null&&a(n,["raiMediaFilteredReasons"],u),n}function yv(o){const n={},r=l(o,["videos"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>_v(p))),a(n,["generatedVideos"],f)}const s=l(o,["raiMediaFilteredCount"]);s!=null&&a(n,["raiMediaFilteredCount"],s);const u=l(o,["raiMediaFilteredReasons"]);return u!=null&&a(n,["raiMediaFilteredReasons"],u),n}function vv(o,n){const r={},s=l(o,["prompt"]);n!==void 0&&s!=null&&a(n,["instances[0]","prompt"],s);const u=l(o,["image"]);n!==void 0&&u!=null&&a(n,["instances[0]","image"],di(u));const f=l(o,["video"]);return n!==void 0&&f!=null&&a(n,["instances[0]","video"],Sc(f)),r}function Tv(o,n){const r={},s=l(o,["prompt"]);n!==void 0&&s!=null&&a(n,["instances[0]","prompt"],s);const u=l(o,["image"]);n!==void 0&&u!=null&&a(n,["instances[0]","image"],wn(u));const f=l(o,["video"]);return n!==void 0&&f!=null&&a(n,["instances[0]","video"],_c(f)),r}function Ev(o){const n={},r=l(o,["_self"]);r!=null&&a(n,["image"],Pv(r));const s=l(o,["raiFilteredReason"]);s!=null&&a(n,["raiFilteredReason"],s);const u=l(o,["_self"]);return u!=null&&a(n,["safetyAttributes"],vc(u)),n}function ai(o){const n={},r=l(o,["_self"]);r!=null&&a(n,["image"],yc(r));const s=l(o,["raiFilteredReason"]);s!=null&&a(n,["raiFilteredReason"],s);const u=l(o,["_self"]);u!=null&&a(n,["safetyAttributes"],Tc(u));const f=l(o,["prompt"]);return f!=null&&a(n,["enhancedPrompt"],f),n}function Cv(o){const n={},r=l(o,["_self"]);r!=null&&a(n,["mask"],yc(r));const s=l(o,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),a(n,["labels"],u)}return n}function Sv(o){const n={},r=l(o,["video"]);return r!=null&&a(n,["video"],s0(r)),n}function _v(o){const n={},r=l(o,["_self"]);return r!=null&&a(n,["video"],l0(r)),n}function Iv(o){const n={},r=l(o,["modelSelectionConfig"]);r!=null&&a(n,["modelConfig"],r);const s=l(o,["audioTimestamp"]);s!=null&&a(n,["audioTimestamp"],s);const u=l(o,["candidateCount"]);u!=null&&a(n,["candidateCount"],u);const f=l(o,["enableAffectiveDialog"]);f!=null&&a(n,["enableAffectiveDialog"],f);const p=l(o,["frequencyPenalty"]);p!=null&&a(n,["frequencyPenalty"],p);const m=l(o,["logprobs"]);m!=null&&a(n,["logprobs"],m);const y=l(o,["maxOutputTokens"]);y!=null&&a(n,["maxOutputTokens"],y);const h=l(o,["mediaResolution"]);h!=null&&a(n,["mediaResolution"],h);const v=l(o,["presencePenalty"]);v!=null&&a(n,["presencePenalty"],v);const E=l(o,["responseJsonSchema"]);E!=null&&a(n,["responseJsonSchema"],E);const C=l(o,["responseLogprobs"]);C!=null&&a(n,["responseLogprobs"],C);const w=l(o,["responseMimeType"]);w!=null&&a(n,["responseMimeType"],w);const M=l(o,["responseModalities"]);M!=null&&a(n,["responseModalities"],M);const k=l(o,["responseSchema"]);k!=null&&a(n,["responseSchema"],k);const G=l(o,["routingConfig"]);G!=null&&a(n,["routingConfig"],G);const $=l(o,["seed"]);$!=null&&a(n,["seed"],$);const z=l(o,["speechConfig"]);z!=null&&a(n,["speechConfig"],Ec(z));const q=l(o,["stopSequences"]);q!=null&&a(n,["stopSequences"],q);const O=l(o,["temperature"]);O!=null&&a(n,["temperature"],O);const ee=l(o,["thinkingConfig"]);ee!=null&&a(n,["thinkingConfig"],ee);const b=l(o,["topK"]);b!=null&&a(n,["topK"],b);const oe=l(o,["topP"]);if(oe!=null&&a(n,["topP"],oe),l(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function wv(o,n){const r={},s=l(n,["model"]);return s!=null&&a(r,["_url","name"],ve(o,s)),r}function Av(o,n){const r={},s=l(n,["model"]);return s!=null&&a(r,["_url","name"],ve(o,s)),r}function xv(o){const n={};if(l(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(o,["enableWidget"]);return r!=null&&a(n,["enableWidget"],r),n}function Rv(o){const n={};if(l(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const r=l(o,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],r),n}function Pv(o){const n={},r=l(o,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],it(r));const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function yc(o){const n={},r=l(o,["gcsUri"]);r!=null&&a(n,["gcsUri"],r);const s=l(o,["bytesBase64Encoded"]);s!=null&&a(n,["imageBytes"],it(s));const u=l(o,["mimeType"]);return u!=null&&a(n,["mimeType"],u),n}function di(o){const n={};if(l(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(o,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],it(r));const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function wn(o){const n={},r=l(o,["gcsUri"]);r!=null&&a(n,["gcsUri"],r);const s=l(o,["imageBytes"]);s!=null&&a(n,["bytesBase64Encoded"],it(s));const u=l(o,["mimeType"]);return u!=null&&a(n,["mimeType"],u),n}function Nv(o,n,r){const s={},u=l(n,["pageSize"]);r!==void 0&&u!=null&&a(r,["_query","pageSize"],u);const f=l(n,["pageToken"]);r!==void 0&&f!=null&&a(r,["_query","pageToken"],f);const p=l(n,["filter"]);r!==void 0&&p!=null&&a(r,["_query","filter"],p);const m=l(n,["queryBase"]);return r!==void 0&&m!=null&&a(r,["_url","models_url"],ac(o,m)),s}function Mv(o,n,r){const s={},u=l(n,["pageSize"]);r!==void 0&&u!=null&&a(r,["_query","pageSize"],u);const f=l(n,["pageToken"]);r!==void 0&&f!=null&&a(r,["_query","pageToken"],f);const p=l(n,["filter"]);r!==void 0&&p!=null&&a(r,["_query","filter"],p);const m=l(n,["queryBase"]);return r!==void 0&&m!=null&&a(r,["_url","models_url"],ac(o,m)),s}function kv(o,n){const r={},s=l(n,["config"]);return s!=null&&Nv(o,s,r),r}function Dv(o,n){const r={},s=l(n,["config"]);return s!=null&&Mv(o,s,r),r}function Lv(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["_self"]);if(u!=null){let f=dc(u);Array.isArray(f)&&(f=f.map(p=>yl(p))),a(n,["models"],f)}return n}function Uv(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["nextPageToken"]);s!=null&&a(n,["nextPageToken"],s);const u=l(o,["_self"]);if(u!=null){let f=dc(u);Array.isArray(f)&&(f=f.map(p=>vl(p))),a(n,["models"],f)}return n}function Fv(o){const n={},r=l(o,["maskMode"]);r!=null&&a(n,["maskMode"],r);const s=l(o,["segmentationClasses"]);s!=null&&a(n,["maskClasses"],s);const u=l(o,["maskDilation"]);return u!=null&&a(n,["dilation"],u),n}function yl(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["displayName"]);s!=null&&a(n,["displayName"],s);const u=l(o,["description"]);u!=null&&a(n,["description"],u);const f=l(o,["version"]);f!=null&&a(n,["version"],f);const p=l(o,["_self"]);p!=null&&a(n,["tunedModelInfo"],Zv(p));const m=l(o,["inputTokenLimit"]);m!=null&&a(n,["inputTokenLimit"],m);const y=l(o,["outputTokenLimit"]);y!=null&&a(n,["outputTokenLimit"],y);const h=l(o,["supportedGenerationMethods"]);return h!=null&&a(n,["supportedActions"],h),n}function vl(o){const n={},r=l(o,["name"]);r!=null&&a(n,["name"],r);const s=l(o,["displayName"]);s!=null&&a(n,["displayName"],s);const u=l(o,["description"]);u!=null&&a(n,["description"],u);const f=l(o,["versionId"]);f!=null&&a(n,["version"],f);const p=l(o,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(C=>jy(C))),a(n,["endpoints"],E)}const m=l(o,["labels"]);m!=null&&a(n,["labels"],m);const y=l(o,["_self"]);y!=null&&a(n,["tunedModelInfo"],bv(y));const h=l(o,["defaultCheckpointId"]);h!=null&&a(n,["defaultCheckpointId"],h);const v=l(o,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),a(n,["checkpoints"],E)}return n}function Vv(o){const n={},r=l(o,["functionCall"]);r!=null&&a(n,["functionCall"],r);const s=l(o,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(o,["executableCode"]);u!=null&&a(n,["executableCode"],u);const f=l(o,["fileData"]);f!=null&&a(n,["fileData"],ev(f));const p=l(o,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=l(o,["inlineData"]);m!=null&&a(n,["inlineData"],Ay(m));const y=l(o,["text"]);y!=null&&a(n,["text"],y);const h=l(o,["thought"]);h!=null&&a(n,["thought"],h);const v=l(o,["thoughtSignature"]);v!=null&&a(n,["thoughtSignature"],v);const E=l(o,["videoMetadata"]);return E!=null&&a(n,["videoMetadata"],E),n}function Gv(o){const n={},r=l(o,["productImage"]);return r!=null&&a(n,["image"],wn(r)),n}function qv(o,n){const r={},s=l(o,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(o,["baseSteps"]);n!==void 0&&u!=null&&a(n,["parameters","editConfig","baseSteps"],u);const f=l(o,["outputGcsUri"]);n!==void 0&&f!=null&&a(n,["parameters","storageUri"],f);const p=l(o,["seed"]);n!==void 0&&p!=null&&a(n,["parameters","seed"],p);const m=l(o,["safetyFilterLevel"]);n!==void 0&&m!=null&&a(n,["parameters","safetySetting"],m);const y=l(o,["personGeneration"]);n!==void 0&&y!=null&&a(n,["parameters","personGeneration"],y);const h=l(o,["addWatermark"]);n!==void 0&&h!=null&&a(n,["parameters","addWatermark"],h);const v=l(o,["outputMimeType"]);n!==void 0&&v!=null&&a(n,["parameters","outputOptions","mimeType"],v);const E=l(o,["outputCompressionQuality"]);n!==void 0&&E!=null&&a(n,["parameters","outputOptions","compressionQuality"],E);const C=l(o,["enhancePrompt"]);n!==void 0&&C!=null&&a(n,["parameters","enhancePrompt"],C);const w=l(o,["labels"]);return n!==void 0&&w!=null&&a(n,["labels"],w),r}function Hv(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["source"]);u!=null&&zv(u,r);const f=l(n,["config"]);return f!=null&&qv(f,r),r}function Bv(o){const n={},r=l(o,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>ai(u))),a(n,["generatedImages"],s)}return n}function zv(o,n){const r={},s=l(o,["prompt"]);n!==void 0&&s!=null&&a(n,["instances[0]","prompt"],s);const u=l(o,["personImage"]);n!==void 0&&u!=null&&a(n,["instances[0]","personImage","image"],wn(u));const f=l(o,["productImages"]);if(n!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>Gv(m))),a(n,["instances[0]","productImages"],p)}return r}function Jv(o){const n={},r=l(o,["referenceImage"]);r!=null&&a(n,["referenceImage"],wn(r));const s=l(o,["referenceId"]);s!=null&&a(n,["referenceId"],s);const u=l(o,["referenceType"]);u!=null&&a(n,["referenceType"],u);const f=l(o,["maskImageConfig"]);f!=null&&a(n,["maskImageConfig"],Fv(f));const p=l(o,["controlImageConfig"]);p!=null&&a(n,["controlImageConfig"],Dy(p));const m=l(o,["styleImageConfig"]);m!=null&&a(n,["styleImageConfig"],m);const y=l(o,["subjectImageConfig"]);return y!=null&&a(n,["subjectImageConfig"],y),n}function vc(o){const n={},r=l(o,["safetyAttributes","categories"]);r!=null&&a(n,["categories"],r);const s=l(o,["safetyAttributes","scores"]);s!=null&&a(n,["scores"],s);const u=l(o,["contentType"]);return u!=null&&a(n,["contentType"],u),n}function Tc(o){const n={},r=l(o,["safetyAttributes","categories"]);r!=null&&a(n,["categories"],r);const s=l(o,["safetyAttributes","scores"]);s!=null&&a(n,["scores"],s);const u=l(o,["contentType"]);return u!=null&&a(n,["contentType"],u),n}function $v(o){const n={},r=l(o,["category"]);if(r!=null&&a(n,["category"],r),l(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=l(o,["threshold"]);return s!=null&&a(n,["threshold"],s),n}function Wv(o){const n={},r=l(o,["image"]);return r!=null&&a(n,["image"],wn(r)),n}function Yv(o,n){const r={},s=l(o,["mode"]);n!==void 0&&s!=null&&a(n,["parameters","mode"],s);const u=l(o,["maxPredictions"]);n!==void 0&&u!=null&&a(n,["parameters","maxPredictions"],u);const f=l(o,["confidenceThreshold"]);n!==void 0&&f!=null&&a(n,["parameters","confidenceThreshold"],f);const p=l(o,["maskDilation"]);n!==void 0&&p!=null&&a(n,["parameters","maskDilation"],p);const m=l(o,["binaryColorThreshold"]);n!==void 0&&m!=null&&a(n,["parameters","binaryColorThreshold"],m);const y=l(o,["labels"]);return n!==void 0&&y!=null&&a(n,["labels"],y),r}function Kv(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["source"]);u!=null&&Qv(u,r);const f=l(n,["config"]);return f!=null&&Yv(f,r),r}function Ov(o){const n={},r=l(o,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Cv(u))),a(n,["generatedMasks"],s)}return n}function Qv(o,n){const r={},s=l(o,["prompt"]);n!==void 0&&s!=null&&a(n,["instances[0]","prompt"],s);const u=l(o,["image"]);n!==void 0&&u!=null&&a(n,["instances[0]","image"],wn(u));const f=l(o,["scribbleImage"]);return n!==void 0&&f!=null&&a(n,["instances[0]","scribble"],Wv(f)),r}function Ec(o){const n={},r=l(o,["languageCode"]);r!=null&&a(n,["languageCode"],r);const s=l(o,["voiceConfig"]);if(s!=null&&a(n,["voiceConfig"],s),l(o,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function Xv(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>v)),a(n,["functionDeclarations"],h)}if(l(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=l(o,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],s);const u=l(o,["googleMaps"]);u!=null&&a(n,["googleMaps"],xv(u));const f=l(o,["computerUse"]);f!=null&&a(n,["computerUse"],f);const p=l(o,["codeExecution"]);if(p!=null&&a(n,["codeExecution"],p),l(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(o,["googleSearch"]);m!=null&&a(n,["googleSearch"],Rv(m));const y=l(o,["urlContext"]);return y!=null&&a(n,["urlContext"],y),n}function Cc(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(C=>nv(C))),a(n,["functionDeclarations"],E)}const s=l(o,["retrieval"]);s!=null&&a(n,["retrieval"],s);const u=l(o,["googleSearchRetrieval"]);u!=null&&a(n,["googleSearchRetrieval"],u);const f=l(o,["googleMaps"]);f!=null&&a(n,["googleMaps"],f);const p=l(o,["computerUse"]);p!=null&&a(n,["computerUse"],p);const m=l(o,["codeExecution"]);m!=null&&a(n,["codeExecution"],m);const y=l(o,["enterpriseWebSearch"]);y!=null&&a(n,["enterpriseWebSearch"],y);const h=l(o,["googleSearch"]);h!=null&&a(n,["googleSearch"],h);const v=l(o,["urlContext"]);return v!=null&&a(n,["urlContext"],v),n}function Zv(o){const n={},r=l(o,["baseModel"]);r!=null&&a(n,["baseModel"],r);const s=l(o,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(o,["updateTime"]);return u!=null&&a(n,["updateTime"],u),n}function bv(o){const n={},r=l(o,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&a(n,["baseModel"],r);const s=l(o,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(o,["updateTime"]);return u!=null&&a(n,["updateTime"],u),n}function jv(o,n){const r={},s=l(o,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(o,["description"]);n!==void 0&&u!=null&&a(n,["description"],u);const f=l(o,["defaultCheckpointId"]);return n!==void 0&&f!=null&&a(n,["defaultCheckpointId"],f),r}function e0(o,n){const r={},s=l(o,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(o,["description"]);n!==void 0&&u!=null&&a(n,["description"],u);const f=l(o,["defaultCheckpointId"]);return n!==void 0&&f!=null&&a(n,["defaultCheckpointId"],f),r}function n0(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","name"],ve(o,s));const u=l(n,["config"]);return u!=null&&jv(u,r),r}function t0(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["config"]);return u!=null&&e0(u,r),r}function o0(o,n){const r={},s=l(o,["outputGcsUri"]);n!==void 0&&s!=null&&a(n,["parameters","storageUri"],s);const u=l(o,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const f=l(o,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const p=l(o,["includeRaiReason"]);n!==void 0&&p!=null&&a(n,["parameters","includeRaiReason"],p);const m=l(o,["outputMimeType"]);n!==void 0&&m!=null&&a(n,["parameters","outputOptions","mimeType"],m);const y=l(o,["outputCompressionQuality"]);n!==void 0&&y!=null&&a(n,["parameters","outputOptions","compressionQuality"],y);const h=l(o,["enhanceInputImage"]);n!==void 0&&h!=null&&a(n,["parameters","upscaleConfig","enhanceInputImage"],h);const v=l(o,["imagePreservationFactor"]);n!==void 0&&v!=null&&a(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=l(o,["labels"]);n!==void 0&&E!=null&&a(n,["labels"],E);const C=l(o,["numberOfImages"]);n!==void 0&&C!=null&&a(n,["parameters","sampleCount"],C);const w=l(o,["mode"]);return n!==void 0&&w!=null&&a(n,["parameters","mode"],w),r}function r0(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["_url","model"],ve(o,s));const u=l(n,["image"]);u!=null&&a(r,["instances[0]","image"],wn(u));const f=l(n,["upscaleFactor"]);f!=null&&a(r,["parameters","upscaleConfig","upscaleFactor"],f);const p=l(n,["config"]);return p!=null&&o0(p,r),r}function i0(o){const n={},r=l(o,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const s=l(o,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>ai(f))),a(n,["generatedImages"],u)}return n}function s0(o){const n={},r=l(o,["uri"]);r!=null&&a(n,["uri"],r);const s=l(o,["encodedVideo"]);s!=null&&a(n,["videoBytes"],it(s));const u=l(o,["encoding"]);return u!=null&&a(n,["mimeType"],u),n}function l0(o){const n={},r=l(o,["gcsUri"]);r!=null&&a(n,["uri"],r);const s=l(o,["bytesBase64Encoded"]);s!=null&&a(n,["videoBytes"],it(s));const u=l(o,["mimeType"]);return u!=null&&a(n,["mimeType"],u),n}function u0(o){const n={},r=l(o,["image"]);r!=null&&a(n,["_self"],wn(r));const s=l(o,["maskMode"]);return s!=null&&a(n,["maskMode"],s),n}function a0(o){const n={},r=l(o,["image"]);r!=null&&a(n,["image"],di(r));const s=l(o,["referenceType"]);return s!=null&&a(n,["referenceType"],s),n}function d0(o){const n={},r=l(o,["image"]);r!=null&&a(n,["image"],wn(r));const s=l(o,["referenceType"]);return s!=null&&a(n,["referenceType"],s),n}function Sc(o){const n={},r=l(o,["uri"]);r!=null&&a(n,["uri"],r);const s=l(o,["videoBytes"]);s!=null&&a(n,["encodedVideo"],it(s));const u=l(o,["mimeType"]);return u!=null&&a(n,["encoding"],u),n}function _c(o){const n={},r=l(o,["uri"]);r!=null&&a(n,["gcsUri"],r);const s=l(o,["videoBytes"]);s!=null&&a(n,["bytesBase64Encoded"],it(s));const u=l(o,["mimeType"]);return u!=null&&a(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f0="Content-Type",c0="X-Server-Timeout",p0="User-Agent",Tl="x-goog-api-client",m0="1.28.0",h0=`google-genai-sdk/${m0}`,g0="v1beta1",y0="v1beta",Kf=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class v0{constructor(n){var r,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:g0,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:y0,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),r=new URL(n);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,r,s){const u=[this.getRequestUrlInternal(r)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let r=this.clientOptions.httpOptions;n.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,r,s);if(n.queryParams)for(const[p,m]of Object.entries(n.queryParams))u.searchParams.append(p,String(m));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,r,u.toString(),n.abortSignal),this.unaryApiCall(u,f,n.httpMethod)}patchHttpOptions(n,r){const s=JSON.parse(JSON.stringify(n));for(const[u,f]of Object.entries(r))typeof f=="object"?s[u]=Object.assign(Object.assign({},s[u]),f):f!==void 0&&(s[u]=f);return s}async requestStream(n){let r=this.clientOptions.httpOptions;n.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,r,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,r,u.toString(),n.abortSignal),this.streamApiCall(u,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,r,s,u){if(r&&r.timeout||u){const f=new AbortController,p=f.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const m=setTimeout(()=>f.abort(),r.timeout);m&&typeof m.unref=="function"&&m.unref()}u&&u.addEventListener("abort",()=>{f.abort()}),n.signal=p}return r&&r.extraBody!==null&&T0(n,r.extraBody),n.headers=await this.getHeadersInternal(r,s),n}async unaryApiCall(n,r,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},r),{method:s})).then(async u=>(await Of(u),new ml(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,r,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},r),{method:s})).then(async u=>(await Of(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var r;return Ot(this,arguments,function*(){const u=(r=n==null?void 0:n.body)===null||r===void 0?void 0:r.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";for(;;){const{done:m,value:y}=yield Ae(u.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(y,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const C=JSON.parse(JSON.stringify(E.error)),w=C.status,M=C.code,k=`got status: ${w}. ${JSON.stringify(E)}`;if(M>=400&&M<600)throw new li({message:k,status:M})}}catch(E){if(E.name==="ApiError")throw E}p+=h;let v=p.match(Kf);for(;v;){const E=v[1];try{const C=new Response(E,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Ae(new ml(C)),p=p.slice(v[0].length),v=p.match(Kf)}catch(C){throw new Error(`exception parsing stream chunk ${E}. ${C}`)}}}}finally{u.releaseLock()}})}async apiCall(n,r){return fetch(n,r).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},r=h0+" "+this.clientOptions.userAgentExtra;return n[p0]=r,n[Tl]=r,n[f0]="application/json",n}async getHeadersInternal(n,r){const s=new Headers;if(n&&n.headers){for(const[u,f]of Object.entries(n.headers))s.append(u,f);n.timeout&&n.timeout>0&&s.append(c0,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,r),s}async uploadFile(n,r){var s,u;const f={};r!=null&&(f.mimeType=r.mimeType,f.name=r.name,f.displayName=r.displayName),f.name&&!f.name.startsWith("files/")&&(f.name=`files/${f.name}`);const p=this.clientOptions.uploader,m=await p.stat(n);f.sizeBytes=String(m.size);const y=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");f.mimeType=y;let h="";typeof n=="string"&&(h=n.replace(/[/\\]+$/,""),h=(u=h.split(/[/\\]/).pop())!==null&&u!==void 0?u:"");const v=await this.fetchUploadUrl(f,h,r);return p.upload(n,v,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,r,s){var u;let f={};s!=null&&s.httpOptions?f=s.httpOptions:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p={file:n},m=await this.request({path:K("upload/v1beta/files",p._url),body:JSON.stringify(p),httpMethod:"POST",httpOptions:f});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(u=m==null?void 0:m.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Of(o){var n;if(o===void 0)throw new Error("response is undefined");if(!o.ok){const r=o.status;let s;!((n=o.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await o.json():s={error:{message:await o.text(),code:o.status,status:o.statusText}};const u=JSON.stringify(s);throw r>=400&&r<600?new li({message:u,status:r}):new Error(u)}}function T0(o,n){if(!n||Object.keys(n).length===0)return;if(o.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof o.body=="string"&&o.body.length>0)try{const f=JSON.parse(o.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))r=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,p){const m=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=m[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),m[y]=h)}return m}const u=s(r,n);o.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E0="mcp_used/unknown";let C0=!1;function Ic(o){for(const n of o)if(S0(n)||typeof n=="object"&&"inputSchema"in n)return!0;return C0}function wc(o){var n;const r=(n=o[Tl])!==null&&n!==void 0?n:"";o[Tl]=(r+` ${E0}`).trimStart()}function S0(o){return o!==null&&typeof o=="object"&&o instanceof Pl}function _0(o,n=100){return Ot(this,arguments,function*(){let s,u=0;for(;u<n;){const f=yield Ae(o.listTools({cursor:s}));for(const p of f.tools)yield yield Ae(p),u++;if(!f.nextCursor)break;s=f.nextCursor}})}class Pl{constructor(n=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=r}static create(n,r){return new Pl(n,r)}async initialize(){var n,r,s,u;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var m=!0,y=(r=void 0,Bo(_0(v))),h;h=await y.next(),n=h.done,!n;m=!0){u=h.value,m=!1;const E=u;p.push(E);const C=E.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=v}}catch(E){r={error:E}}finally{try{!m&&!n&&(s=y.return)&&await s.call(y)}finally{if(r)throw r.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),Rh(this.mcpTools,this.config)}async callTool(n){await this.initialize();const r=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await u.callTool({name:s.name,arguments:s.args},void 0,f);r.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function I0(o,n,r){const s=new Eh;let u;r.data instanceof Blob?u=JSON.parse(await r.data.text()):u=JSON.parse(r.data),Object.assign(s,u),n(s)}class w0{constructor(n,r,s){this.apiClient=n,this.auth=r,this.webSocketFactory=s}async connect(n){var r,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=R0(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${m}`;let h=()=>{};const v=new Promise(q=>{h=q}),E=n.callbacks,C=function(){h({})},w=this.apiClient,M={onopen:C,onmessage:q=>{I0(w,E.onmessage,q)},onerror:(r=E==null?void 0:E.onerror)!==null&&r!==void 0?r:function(q){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(q){}},k=this.webSocketFactory.create(y,x0(p),M);k.connect(),await v;const z={setup:{model:ve(this.apiClient,n.model)}};return k.send(JSON.stringify(z)),new A0(k,this.apiClient)}}class A0{constructor(n,r){this.conn=n,this.apiClient=r}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=yy(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const r=gy(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(n){const r={playbackControl:n};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Yt.PLAY)}pause(){this.sendPlaybackControl(Yt.PAUSE)}stop(){this.sendPlaybackControl(Yt.STOP)}resetContext(){this.sendPlaybackControl(Yt.RESET_CONTEXT)}close(){this.conn.close()}}function x0(o){const n={};return o.forEach((r,s)=>{n[s]=r}),n}function R0(o){const n=new Headers;for(const[r,s]of Object.entries(o))n.append(r,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function N0(o,n,r){const s=new Th;let u;r.data instanceof Blob?u=await r.data.text():r.data instanceof ArrayBuffer?u=new TextDecoder().decode(r.data):u=r.data;const f=JSON.parse(u);if(o.isVertexAI()){const p=Ey(f);Object.assign(s,p)}else Object.assign(s,f);n(s)}class M0{constructor(n,r,s){this.apiClient=n,this.auth=r,this.webSocketFactory=s,this.music=new w0(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var r,s,u,f,p,m;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();n.config&&n.config.tools&&Ic(n.config.tools)&&wc(E);const C=U0(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const j=this.apiClient.getApiKey();let Z="BidiGenerateContent",le="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",le="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Z}?${le}=${j}`}let w=()=>{};const M=new Promise(j=>{w=j}),k=n.callbacks,G=function(){var j;(j=k==null?void 0:k.onopen)===null||j===void 0||j.call(k),w({})},$=this.apiClient,z={onopen:G,onmessage:j=>{N0($,k.onmessage,j)},onerror:(r=k==null?void 0:k.onerror)!==null&&r!==void 0?r:function(j){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(j){}},q=this.webSocketFactory.create(v,L0(C),z);q.connect(),await M;let O=ve(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const j=this.apiClient.getProject(),Z=this.apiClient.getLocation();O=`projects/${j}/locations/${Z}/`+O}let ee={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[ri.AUDIO]}:n.config.responseModalities=[ri.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(m=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&m!==void 0?m:[],oe=[];for(const j of b)if(this.isCallableTool(j)){const Z=j;oe.push(await Z.tool())}else oe.push(j);oe.length>0&&(n.config.tools=oe);const me={model:O,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?ee=hy(this.apiClient,me):ee=my(this.apiClient,me),delete ee.config,q.send(JSON.stringify(ee)),new D0(q,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const k0={turnComplete:!0};class D0{constructor(n,r){this.conn=n,this.apiClient=r}tLiveClientContent(n,r){if(r.turns!==null&&r.turns!==void 0){let s=[];try{s=yn(r.turns),n.isVertexAI()||(s=s.map(u=>ui(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:s,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(n,r){let s=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?s=r.functionResponses:s=[r.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(P0)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},k0),n);const r=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendRealtimeInput(n){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Ty(n)}:r={realtimeInput:vy(n)},this.conn.send(JSON.stringify(r))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function L0(o){const n={};return o.forEach((r,s)=>{n[s]=r}),n}function U0(o){const n=new Headers;for(const[r,s]of Object.entries(o))n.append(r,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qf=10;function Xf(o){var n,r,s;if(!((n=o==null?void 0:o.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const p of(r=o==null?void 0:o.tools)!==null&&r!==void 0?r:[])if(Qt(p)){u=!0;break}if(!u)return!0;const f=(s=o==null?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Qt(o){return"callTool"in o&&typeof o.callTool=="function"}function F0(o){var n,r,s;return(s=(r=(n=o.config)===null||n===void 0?void 0:n.tools)===null||r===void 0?void 0:r.some(u=>Qt(u)))!==null&&s!==void 0?s:!1}function V0(o){var n,r,s;return(s=(r=(n=o.config)===null||n===void 0?void 0:n.tools)===null||r===void 0?void 0:r.some(u=>!Qt(u)))!==null&&s!==void 0?s:!1}function Zf(o){var n;return!(!((n=o==null?void 0:o.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G0 extends Et{constructor(n){super(),this.apiClient=n,this.generateContent=async r=>{var s,u,f,p,m;const y=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!F0(r)||Xf(r.config))return await this.generateContentInternal(y);if(V0(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const E=yn(y.contents),C=(f=(u=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:Qf;let w=0;for(;w<C&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const M=h.candidates[0].content,k=[];for(const G of(m=(p=r.config)===null||p===void 0?void 0:p.tools)!==null&&m!==void 0?m:[])if(Qt(G)){const z=await G.callTool(h.functionCalls);k.push(...z)}w++,v={role:"user",parts:k},y.contents=yn(y.contents),y.contents.push(M),y.contents.push(v),Zf(y.config)&&(E.push(M),E.push(v))}return Zf(y.config)&&(h.automaticFunctionCallingHistory=E),h},this.generateContentStream=async r=>{if(this.maybeMoveToResponseJsonSchem(r),Xf(r.config)){const s=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(s=>{var u;let f;const p=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let m;return f?m={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:m={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},m}),this.list=async r=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new zo(Tt.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(p),p)},this.editImage=async r=>{const s={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(s.referenceImages=r.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async r=>{let s={numberOfImages:1,mode:"upscale"};r.config&&(s=Object.assign(Object.assign({},s),r.config));const u={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async r=>{var s,u,f,p,m,y;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=r.video)===null||s===void 0)&&s.uri&&(!((u=r.video)===null||u===void 0)&&u.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((p=(f=r.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(m=r.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var r,s,u;const f=(r=n.config)===null||r===void 0?void 0:r.tools;if(!f)return n;const p=await Promise.all(f.map(async y=>Qt(y)?await y.tool():y)),m={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(m.config.tools=p,n.config&&n.config.tools&&Ic(n.config.tools)){const y=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),wc(h),m.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return m}async initAfcToolsMap(n){var r,s,u;const f=new Map;for(const p of(s=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&s!==void 0?s:[])if(Qt(p)){const m=p,y=await m.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,m)}}return f}async processAfcStream(n){var r,s,u;const f=(u=(s=(r=n.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Qf;let p=!1,m=0;const y=await this.initAfcToolsMap(n);return(function(h,v,E){var C,w;return Ot(this,arguments,function*(){for(var M,k,G,$;m<f;){p&&(m++,p=!1);const ee=yield Ae(h.processParamsMaybeAddMcpUsage(E)),b=yield Ae(h.generateContentStreamInternal(ee)),oe=[],me=[];try{for(var z=!0,q=(k=void 0,Bo(b)),O;O=yield Ae(q.next()),M=O.done,!M;z=!0){$=O.value,z=!1;const j=$;if(yield yield Ae(j),j.candidates&&(!((C=j.candidates[0])===null||C===void 0)&&C.content)){me.push(j.candidates[0].content);for(const Z of(w=j.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(m<f&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Z.functionCall.name)){const le=yield Ae(v.get(Z.functionCall.name).callTool([Z.functionCall]));oe.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch(j){k={error:j}}finally{try{!z&&!M&&(G=q.return)&&(yield Ae(G.call(q)))}finally{if(k)throw k.error}}if(oe.length>0){p=!0;const j=new Ho;j.candidates=[{content:{role:"user",parts:oe}}],yield yield Ae(j);const Z=[];Z.push(...me),Z.push({role:"user",parts:oe});const le=yn(E.contents).concat(Z);E.contents=le}else break}})})(this,y,n)}async generateContentInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=$f(this.apiClient,n);return m=K("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Yf(v),C=new Ho;return Object.assign(C,E),C})}else{const h=Jf(this.apiClient,n);return m=K("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Wf(v),C=new Ho;return Object.assign(C,E),C})}}async generateContentStreamInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=$f(this.apiClient,n);return m=K("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(E){return Ot(this,arguments,function*(){var C,w,M,k;try{for(var G=!0,$=Bo(E),z;z=yield Ae($.next()),C=z.done,!C;G=!0){k=z.value,G=!1;const q=k,O=Yf(yield Ae(q.json()));O.sdkHttpResponse={headers:q.headers};const ee=new Ho;Object.assign(ee,O),yield yield Ae(ee)}}catch(q){w={error:q}}finally{try{!G&&!C&&(M=$.return)&&(yield Ae(M.call($)))}finally{if(w)throw w.error}}})})}else{const h=Jf(this.apiClient,n);return m=K("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return Ot(this,arguments,function*(){var C,w,M,k;try{for(var G=!0,$=Bo(E),z;z=yield Ae($.next()),C=z.done,!C;G=!0){k=z.value,G=!1;const q=k,O=Wf(yield Ae(q.json()));O.sdkHttpResponse={headers:q.headers};const ee=new Ho;Object.assign(ee,O),yield yield Ae(ee)}}catch(q){w={error:q}}finally{try{!G&&!C&&(M=$.return)&&(yield Ae(M.call($)))}finally{if(w)throw w.error}}})})}}async embedContent(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Xy(this.apiClient,n);return m=K("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=by(v),C=new xf;return Object.assign(C,E),C})}else{const h=Qy(this.apiClient,n);return m=K("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Zy(v),C=new xf;return Object.assign(C,E),C})}}async generateImagesInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=lv(this.apiClient,n);return m=K("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=av(v),C=new Rf;return Object.assign(C,E),C})}else{const h=sv(this.apiClient,n);return m=K("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=uv(v),C=new Rf;return Object.assign(C,E),C})}}async editImageInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Wy(this.apiClient,n);return f=K("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=Yy(y),v=new fh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=r0(this.apiClient,n);return f=K("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=i0(y),v=new ch;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Hv(this.apiClient,n);return f=K("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const h=Bv(y),v=new ph;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Kv(this.apiClient,n);return f=K("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const h=Ov(y),v=new mh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Av(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>vl(v))}else{const h=wv(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>yl(v))}}async listInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Dv(this.apiClient,n);return m=K("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Uv(v),C=new Pf;return Object.assign(C,E),C})}else{const h=kv(this.apiClient,n);return m=K("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Lv(v),C=new Pf;return Object.assign(C,E),C})}}async update(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=t0(this.apiClient,n);return m=K("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>vl(v))}else{const h=n0(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>yl(v))}}async delete(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=By(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Jy(v),C=new Nf;return Object.assign(C,E),C})}else{const h=Hy(this.apiClient,n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=zy(v),C=new Nf;return Object.assign(C,E),C})}}async countTokens(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=Vy(this.apiClient,n);return m=K("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=qy(v),C=new Mf;return Object.assign(C,E),C})}else{const h=Fy(this.apiClient,n);return m=K("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=Gy(v),C=new Mf;return Object.assign(C,E),C})}}async computeTokens(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=Py(this.apiClient,n);return f=K("{model}:computeTokens",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=Ny(y),v=new hh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=hv(this.apiClient,n);return m=K("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>{const E=pv(v),C=new ii;return Object.assign(C,E),C})}else{const h=mv(this.apiClient,n);return m=K("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=cv(v),C=new ii;return Object.assign(C,E),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q0 extends Et{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const r=n.operation,s=n.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=r.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:u,config:{httpOptions:f}});return r._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:r.name,config:s});return r._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(n){const r=n.operation,s=n.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=r.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:u,config:{httpOptions:f}});return r._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:r.name,config:s});return r._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=uh(n);return m=K("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p}else{const h=lh(n);return m=K("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=eh(n);return f=K("{resourceName}:fetchPredictOperation",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H0(o){const n={},r=l(o,["data"]);if(r!=null&&a(n,["data"],r),l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function B0(o){const n={},r=l(o,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Q0(f))),a(n,["parts"],u)}const s=l(o,["role"]);return s!=null&&a(n,["role"],s),n}function z0(o,n,r){const s={},u=l(n,["expireTime"]);r!==void 0&&u!=null&&a(r,["expireTime"],u);const f=l(n,["newSessionExpireTime"]);r!==void 0&&f!=null&&a(r,["newSessionExpireTime"],f);const p=l(n,["uses"]);r!==void 0&&p!=null&&a(r,["uses"],p);const m=l(n,["liveConnectConstraints"]);r!==void 0&&m!=null&&a(r,["bidiGenerateContentSetup"],O0(o,m));const y=l(n,["lockAdditionalFields"]);return r!==void 0&&y!=null&&a(r,["fieldMask"],y),s}function J0(o,n){const r={},s=l(n,["config"]);return s!=null&&a(r,["config"],z0(o,s,r)),r}function $0(o){const n={};if(l(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(o,["fileUri"]);r!=null&&a(n,["fileUri"],r);const s=l(o,["mimeType"]);return s!=null&&a(n,["mimeType"],s),n}function W0(o){const n={};if(l(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=l(o,["enableWidget"]);return r!=null&&a(n,["enableWidget"],r),n}function Y0(o){const n={};if(l(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const r=l(o,["timeRangeFilter"]);return r!=null&&a(n,["timeRangeFilter"],r),n}function K0(o,n){const r={},s=l(o,["generationConfig"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig"],s);const u=l(o,["responseModalities"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","responseModalities"],u);const f=l(o,["temperature"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","temperature"],f);const p=l(o,["topP"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","topP"],p);const m=l(o,["topK"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","topK"],m);const y=l(o,["maxOutputTokens"]);n!==void 0&&y!=null&&a(n,["setup","generationConfig","maxOutputTokens"],y);const h=l(o,["mediaResolution"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","mediaResolution"],h);const v=l(o,["seed"]);n!==void 0&&v!=null&&a(n,["setup","generationConfig","seed"],v);const E=l(o,["speechConfig"]);n!==void 0&&E!=null&&a(n,["setup","generationConfig","speechConfig"],Rl(E));const C=l(o,["thinkingConfig"]);n!==void 0&&C!=null&&a(n,["setup","generationConfig","thinkingConfig"],C);const w=l(o,["enableAffectiveDialog"]);n!==void 0&&w!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],w);const M=l(o,["systemInstruction"]);n!==void 0&&M!=null&&a(n,["setup","systemInstruction"],B0(Oe(M)));const k=l(o,["tools"]);if(n!==void 0&&k!=null){let b=Zt(k);Array.isArray(b)&&(b=b.map(oe=>Z0(Xt(oe)))),a(n,["setup","tools"],b)}const G=l(o,["sessionResumption"]);n!==void 0&&G!=null&&a(n,["setup","sessionResumption"],X0(G));const $=l(o,["inputAudioTranscription"]);n!==void 0&&$!=null&&a(n,["setup","inputAudioTranscription"],$);const z=l(o,["outputAudioTranscription"]);n!==void 0&&z!=null&&a(n,["setup","outputAudioTranscription"],z);const q=l(o,["realtimeInputConfig"]);n!==void 0&&q!=null&&a(n,["setup","realtimeInputConfig"],q);const O=l(o,["contextWindowCompression"]);n!==void 0&&O!=null&&a(n,["setup","contextWindowCompression"],O);const ee=l(o,["proactivity"]);return n!==void 0&&ee!=null&&a(n,["setup","proactivity"],ee),r}function O0(o,n){const r={},s=l(n,["model"]);s!=null&&a(r,["setup","model"],ve(o,s));const u=l(n,["config"]);return u!=null&&a(r,["config"],K0(u,r)),r}function Q0(o){const n={},r=l(o,["functionCall"]);r!=null&&a(n,["functionCall"],r);const s=l(o,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(o,["executableCode"]);u!=null&&a(n,["executableCode"],u);const f=l(o,["fileData"]);f!=null&&a(n,["fileData"],$0(f));const p=l(o,["functionResponse"]);p!=null&&a(n,["functionResponse"],p);const m=l(o,["inlineData"]);m!=null&&a(n,["inlineData"],H0(m));const y=l(o,["text"]);y!=null&&a(n,["text"],y);const h=l(o,["thought"]);h!=null&&a(n,["thought"],h);const v=l(o,["thoughtSignature"]);v!=null&&a(n,["thoughtSignature"],v);const E=l(o,["videoMetadata"]);return E!=null&&a(n,["videoMetadata"],E),n}function X0(o){const n={},r=l(o,["handle"]);if(r!=null&&a(n,["handle"],r),l(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Z0(o){const n={},r=l(o,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>v)),a(n,["functionDeclarations"],h)}if(l(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=l(o,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],s);const u=l(o,["googleMaps"]);u!=null&&a(n,["googleMaps"],W0(u));const f=l(o,["computerUse"]);f!=null&&a(n,["computerUse"],f);const p=l(o,["codeExecution"]);if(p!=null&&a(n,["codeExecution"],p),l(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(o,["googleSearch"]);m!=null&&a(n,["googleSearch"],Y0(m));const y=l(o,["urlContext"]);return y!=null&&a(n,["urlContext"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(o){const n=[];for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)){const s=o[r];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(f=>`${r}.${f}`);n.push(...u)}else n.push(r)}return n.join(",")}function j0(o,n){let r=null;const s=o.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(o.bidiGenerateContentSetup=f,r=f):delete o.bidiGenerateContentSetup}else s!==void 0&&delete o.bidiGenerateContentSetup;const u=o.fieldMask;if(r){const f=b0(r);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?o.fieldMask=f:delete o.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];u.length>0&&(m=u.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),m.length>0&&y.push(...m),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?o.fieldMask=u.join(","):delete o.fieldMask;return o}class eT extends Et{constructor(n){super(),this.apiClient=n}async create(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=J0(this.apiClient,n);f=K("auth_tokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query;const y=j0(m,n.config);return u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(o,n){const r={},s=l(o,["name"]);return s!=null&&a(r,["_url","name"],s),r}function tT(o,n){const r={},s=l(o,["name"]);return s!=null&&a(r,["_url","name"],s),r}function oT(o,n,r){const s={};if(l(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=l(o,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&a(n,["displayName"],u),l(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=l(o,["epochCount"]);n!==void 0&&f!=null&&a(n,["tuningTask","hyperparameters","epochCount"],f);const p=l(o,["learningRateMultiplier"]);if(p!=null&&a(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),l(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(o,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=l(o,["batchSize"]);n!==void 0&&m!=null&&a(n,["tuningTask","hyperparameters","batchSize"],m);const y=l(o,["learningRate"]);if(n!==void 0&&y!=null&&a(n,["tuningTask","hyperparameters","learningRate"],y),l(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(o,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function rT(o,n,r){const s={};let u=l(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=l(o,["validationDataset"]);n!==void 0&&w!=null&&a(n,["supervisedTuningSpec"],bf(w))}else if(u==="PREFERENCE_TUNING"){const w=l(o,["validationDataset"]);n!==void 0&&w!=null&&a(n,["preferenceOptimizationSpec"],bf(w))}const f=l(o,["tunedModelDisplayName"]);n!==void 0&&f!=null&&a(n,["tunedModelDisplayName"],f);const p=l(o,["description"]);n!==void 0&&p!=null&&a(n,["description"],p);let m=l(r,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const w=l(o,["epochCount"]);n!==void 0&&w!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(m==="PREFERENCE_TUNING"){const w=l(o,["epochCount"]);n!==void 0&&w!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let y=l(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const w=l(o,["learningRateMultiplier"]);n!==void 0&&w!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(y==="PREFERENCE_TUNING"){const w=l(o,["learningRateMultiplier"]);n!==void 0&&w!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let h=l(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=l(o,["exportLastCheckpointOnly"]);n!==void 0&&w!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(h==="PREFERENCE_TUNING"){const w=l(o,["exportLastCheckpointOnly"]);n!==void 0&&w!=null&&a(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let v=l(r,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const w=l(o,["adapterSize"]);n!==void 0&&w!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(v==="PREFERENCE_TUNING"){const w=l(o,["adapterSize"]);n!==void 0&&w!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(l(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=l(o,["labels"]);n!==void 0&&E!=null&&a(n,["labels"],E);const C=l(o,["beta"]);return n!==void 0&&C!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","beta"],C),s}function iT(o,n){const r={},s=l(o,["baseModel"]);s!=null&&a(r,["baseModel"],s);const u=l(o,["preTunedModel"]);u!=null&&a(r,["preTunedModel"],u);const f=l(o,["trainingDataset"]);f!=null&&gT(f);const p=l(o,["config"]);return p!=null&&oT(p,r),r}function sT(o,n){const r={},s=l(o,["baseModel"]);s!=null&&a(r,["baseModel"],s);const u=l(o,["preTunedModel"]);u!=null&&a(r,["preTunedModel"],u);const f=l(o,["trainingDataset"]);f!=null&&yT(f,r,n);const p=l(o,["config"]);return p!=null&&rT(p,r,n),r}function lT(o,n){const r={},s=l(o,["name"]);return s!=null&&a(r,["_url","name"],s),r}function uT(o,n){const r={},s=l(o,["name"]);return s!=null&&a(r,["_url","name"],s),r}function aT(o,n,r){const s={},u=l(o,["pageSize"]);n!==void 0&&u!=null&&a(n,["_query","pageSize"],u);const f=l(o,["pageToken"]);n!==void 0&&f!=null&&a(n,["_query","pageToken"],f);const p=l(o,["filter"]);return n!==void 0&&p!=null&&a(n,["_query","filter"],p),s}function dT(o,n,r){const s={},u=l(o,["pageSize"]);n!==void 0&&u!=null&&a(n,["_query","pageSize"],u);const f=l(o,["pageToken"]);n!==void 0&&f!=null&&a(n,["_query","pageToken"],f);const p=l(o,["filter"]);return n!==void 0&&p!=null&&a(n,["_query","filter"],p),s}function fT(o,n){const r={},s=l(o,["config"]);return s!=null&&aT(s,r),r}function cT(o,n){const r={},s=l(o,["config"]);return s!=null&&dT(s,r),r}function pT(o,n){const r={},s=l(o,["sdkHttpResponse"]);s!=null&&a(r,["sdkHttpResponse"],s);const u=l(o,["nextPageToken"]);u!=null&&a(r,["nextPageToken"],u);const f=l(o,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>Ac(m))),a(r,["tuningJobs"],p)}return r}function mT(o,n){const r={},s=l(o,["sdkHttpResponse"]);s!=null&&a(r,["sdkHttpResponse"],s);const u=l(o,["nextPageToken"]);u!=null&&a(r,["nextPageToken"],u);const f=l(o,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>El(m))),a(r,["tuningJobs"],p)}return r}function hT(o,n){const r={},s=l(o,["name"]);s!=null&&a(r,["model"],s);const u=l(o,["name"]);return u!=null&&a(r,["endpoint"],u),r}function gT(o,n){const r={};if(l(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(o,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=l(o,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),a(r,["examples","examples"],u)}return r}function yT(o,n,r){const s={};let u=l(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=l(o,["gcsUri"]);n!==void 0&&p!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(u==="PREFERENCE_TUNING"){const p=l(o,["gcsUri"]);n!==void 0&&p!=null&&a(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=l(r,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=l(o,["vertexDatasetResource"]);n!==void 0&&p!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=l(o,["vertexDatasetResource"]);n!==void 0&&p!=null&&a(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(l(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Ac(o,n){const r={},s=l(o,["sdkHttpResponse"]);s!=null&&a(r,["sdkHttpResponse"],s);const u=l(o,["name"]);u!=null&&a(r,["name"],u);const f=l(o,["state"]);f!=null&&a(r,["state"],lc(f));const p=l(o,["createTime"]);p!=null&&a(r,["createTime"],p);const m=l(o,["tuningTask","startTime"]);m!=null&&a(r,["startTime"],m);const y=l(o,["tuningTask","completeTime"]);y!=null&&a(r,["endTime"],y);const h=l(o,["updateTime"]);h!=null&&a(r,["updateTime"],h);const v=l(o,["description"]);v!=null&&a(r,["description"],v);const E=l(o,["baseModel"]);E!=null&&a(r,["baseModel"],E);const C=l(o,["_self"]);return C!=null&&a(r,["tunedModel"],hT(C)),r}function El(o,n){const r={},s=l(o,["sdkHttpResponse"]);s!=null&&a(r,["sdkHttpResponse"],s);const u=l(o,["name"]);u!=null&&a(r,["name"],u);const f=l(o,["state"]);f!=null&&a(r,["state"],lc(f));const p=l(o,["createTime"]);p!=null&&a(r,["createTime"],p);const m=l(o,["startTime"]);m!=null&&a(r,["startTime"],m);const y=l(o,["endTime"]);y!=null&&a(r,["endTime"],y);const h=l(o,["updateTime"]);h!=null&&a(r,["updateTime"],h);const v=l(o,["error"]);v!=null&&a(r,["error"],v);const E=l(o,["description"]);E!=null&&a(r,["description"],E);const C=l(o,["baseModel"]);C!=null&&a(r,["baseModel"],C);const w=l(o,["tunedModel"]);w!=null&&a(r,["tunedModel"],w);const M=l(o,["preTunedModel"]);M!=null&&a(r,["preTunedModel"],M);const k=l(o,["supervisedTuningSpec"]);k!=null&&a(r,["supervisedTuningSpec"],k);const G=l(o,["preferenceOptimizationSpec"]);G!=null&&a(r,["preferenceOptimizationSpec"],G);const $=l(o,["tuningDataStats"]);$!=null&&a(r,["tuningDataStats"],$);const z=l(o,["encryptionSpec"]);z!=null&&a(r,["encryptionSpec"],z);const q=l(o,["partnerModelTuningSpec"]);q!=null&&a(r,["partnerModelTuningSpec"],q);const O=l(o,["customBaseModel"]);O!=null&&a(r,["customBaseModel"],O);const ee=l(o,["experiment"]);ee!=null&&a(r,["experiment"],ee);const b=l(o,["labels"]);b!=null&&a(r,["labels"],b);const oe=l(o,["outputUri"]);oe!=null&&a(r,["outputUri"],oe);const me=l(o,["pipelineJob"]);me!=null&&a(r,["pipelineJob"],me);const j=l(o,["serviceAccount"]);j!=null&&a(r,["serviceAccount"],j);const Z=l(o,["tunedModelDisplayName"]);Z!=null&&a(r,["tunedModelDisplayName"],Z);const le=l(o,["veoTuningSpec"]);return le!=null&&a(r,["veoTuningSpec"],le),r}function vT(o,n){const r={},s=l(o,["sdkHttpResponse"]);s!=null&&a(r,["sdkHttpResponse"],s);const u=l(o,["name"]);u!=null&&a(r,["name"],u);const f=l(o,["metadata"]);f!=null&&a(r,["metadata"],f);const p=l(o,["done"]);p!=null&&a(r,["done"],p);const m=l(o,["error"]);return m!=null&&a(r,["error"],m),r}function bf(o,n){const r={},s=l(o,["gcsUri"]);s!=null&&a(r,["validationDatasetUri"],s);const u=l(o,["vertexDatasetResource"]);return u!=null&&a(r,["validationDatasetUri"],u),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends Et{constructor(n){super(),this.apiClient=n,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new zo(Tt.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(r),r),this.tune=async r=>{var s;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const u={tunedModelName:r.baseModel};!((s=r.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=r.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},r),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},r);return await this.tuneInternal(u)}else{const u=Object.assign({},r),f=await this.tuneMldevInternal(u);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:pl.JOB_STATE_QUEUED}}}}async getInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=uT(n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>El(v))}else{const h=lT(n);return m=K("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>Ac(v))}}async listInternal(n){var r,s,u,f;let p,m="",y={};if(this.apiClient.isVertexAI()){const h=cT(n);return m=K("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=mT(v),C=new kf;return Object.assign(C,E),C})}else{const h=fT(n);return m=K("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:v.headers},C})),p.then(v=>{const E=pT(v),C=new kf;return Object.assign(C,E),C})}}async cancel(n){var r,s,u,f;let p="",m={};if(this.apiClient.isVertexAI()){const y=tT(n);p=K("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=nT(n);p=K("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI()){const m=sT(n,n);return f=K("tuningJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>El(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var r,s;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=iT(n);return f=K("tunedModels",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>vT(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ET{async download(n,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const CT=1024*1024*8,ST=3,_T=1e3,IT=2,dl="x-goog-upload-status";async function wT(o,n,r){var s,u,f;let p=0,m=0,y=new ml(new Response),h="upload";for(p=o.size;m<p;){const E=Math.min(CT,p-m),C=o.slice(m,m+E);m+E>=p&&(h+=", finalize");let w=0,M=_T;for(;w<ST&&(y=await r.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(m),"Content-Length":String(E)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[dl]));)w++,await xT(M),M=M*IT;if(m+=E,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[dl])!=="active")break;if(p<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[dl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function AT(o){return{size:o.size,type:o.type}}function xT(o){return new Promise(n=>setTimeout(n,o))}class RT{async upload(n,r,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await wT(n,r,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await AT(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PT{create(n,r,s){return new NT(n,r,s)}}class NT{constructor(n,r,s){this.url=n,this.headers=r,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jf="x-goog-api-key";class MT{constructor(n){this.apiKey=n}async addAuthHeaders(n,r){if(n.get(jf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(jf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT="gl-node/";class DT{constructor(n){var r;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=n.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=n.apiKey;const s=bm(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new MT(this.apiKey);this.apiClient=new v0({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:kT+"web",uploader:new RT,downloader:new ET}),this.models=new G0(this.apiClient),this.live=new M0(this.apiClient,u,new PT),this.batches=new yg(this.apiClient),this.chats=new Qg(this.models,this.apiClient),this.caches=new Yg(this.apiClient),this.files=new iy(this.apiClient),this.operations=new q0(this.apiClient),this.authTokens=new eT(this.apiClient),this.tunings=new TT(this.apiClient)}}const Jo=()=>new DT({apiKey:"AIzaSyDvMirA6e_4tJwj0UdJoWEBbg_n2jE9Jac"});async function LT(o){const n=Jo(),r="gemini-2.5-flash",s=`Summarize the following content from a web page. Also, provide a short, concise title (5 words or less) for it. Return the response as a JSON object with two keys: "title" and "summary".

CONTENT:
${o}`,u=await n.models.generateContent({model:r,contents:s,config:{responseMimeType:"application/json",responseSchema:{type:Ze.OBJECT,properties:{title:{type:Ze.STRING},summary:{type:Ze.STRING}},required:["title","summary"]}}}),f=JSON.parse(u.text);return{summary:f.summary,title:f.title}}async function UT(o,n){const r=Jo(),s="gemini-2.5-pro";let u=`You are TabMind, an AI assistant. Answer the user's question based on the provided CONTEXT (a list of web page summaries) and the conversation HISTORY. If the answer is not in the context, say so.

--- CONTEXT ---
`;n.length>0?u+=n.map(m=>`Title: ${m.title}
Summary: ${m.summary}`).join(`

`):u+="No summaries available.",u+=`
--- END CONTEXT ---`;const f=o.map(m=>({role:m.role,parts:[{text:m.content}]}));return(await r.models.generateContent({model:s,contents:f,config:{systemInstruction:u}})).text}async function FT(o){const n=Jo(),r="gemini-2.5-flash",s=`Based on the following text, generate a set of 3 to 5 flashcards. Each flashcard should have a clear question and a concise answer. The questions should test the key concepts from the text. Format the output as a JSON array of objects, where each object has "question" and "answer" keys.

TEXT:
${o}`,u=await n.models.generateContent({model:r,contents:s,config:{responseMimeType:"application/json",responseSchema:{type:Ze.ARRAY,items:{type:Ze.OBJECT,properties:{question:{type:Ze.STRING},answer:{type:Ze.STRING}},required:["question","answer"]}}}});return JSON.parse(u.text)}async function VT(o,n){const r=Jo(),s="gemini-2.5-flash",u=`Translate the following text into ${n}:

${o}`;return(await r.models.generateContent({model:s,contents:u})).text}async function GT(o,n){const r=Jo(),s="gemini-2.5-flash",u=`Rephrase the following text to have a more ${n} tone:

${o}`;return(await r.models.generateContent({model:s,contents:u})).text}const qT=()=>{const[o,n]=pe.useState([]),[r,s]=pe.useState([]),[u,f]=pe.useState([{role:"model",content:"Hello! I'm TabMind. Add a summary or ask me about your saved tabs."}]),[p,m]=pe.useState("chat"),[y,h]=pe.useState(null),[v,E]=pe.useState(!1),[C,w]=pe.useState(null),[M,k]=pe.useState(null),[G,$]=pe.useState(null),z=pe.useCallback(async Z=>{E(!0),w(null);try{const{summary:le,title:re}=await LT(Z),ue={id:Date.now().toString(),title:re,originalContent:Z,summary:le,timestamp:new Date().toISOString()};n(xe=>[ue,...xe]),h(ue),m("summary")}catch(le){w("Failed to generate summary. Please try again."),console.error(le)}finally{E(!1)}},[]),q=pe.useCallback(Z=>{h(Z),m("summary")},[]),O=pe.useCallback(async Z=>{const le={role:"user",content:Z};f(re=>[...re,le]),E(!0),w(null);try{const re=await UT([...u,le],o);f(ue=>[...ue,{role:"model",content:re}])}catch(re){const ue="Failed to get chat response. Please try again.";w(ue),f(xe=>[...xe,{role:"model",content:`Error: ${ue}`}]),console.error(re)}finally{E(!1)}},[u,o]),ee=pe.useCallback(async Z=>{E(!0),w(null);try{const le=await FT(Z);s(le),m("flashcards")}catch(le){w("Failed to generate flashcards. Please try again."),console.error(le)}finally{E(!1)}},[]),b=pe.useCallback(async(Z,le)=>{if(y){E(!0),w(null);try{const re=await VT(Z,le),ue={...y,summary:re};h(ue),n(o.map(xe=>xe.id===ue.id?ue:xe))}catch(re){w("Failed to translate summary. Please try again."),console.error(re)}finally{E(!1)}}},[y,o]),oe=pe.useCallback(async(Z,le)=>{if(y){E(!0),w(null);try{const re=await GT(Z,le),ue={...y,summary:re};h(ue),n(o.map(xe=>xe.id===ue.id?ue:xe))}catch(re){w("Failed to rephrase summary. Please try again."),console.error(re)}finally{E(!1)}}},[y,o]),me=pe.useCallback(Z=>{k(Z.token),$(Z.user),m("chat")},[]),j=pe.useCallback(()=>{k(null),$(null),m("login")},[]);return R.jsxs("div",{className:"flex flex-col h-screen font-sans bg-gray-900 text-gray-100",children:[R.jsx(Om,{}),R.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[R.jsx(qm,{summaries:o,onSummarize:z,onSelectSummary:q,isLoading:v,onNavigate:m,activeView:p,currentUser:G,onLogout:j}),R.jsx(Km,{activeView:p,chatHistory:u,onChatSubmit:O,selectedSummary:y,flashcards:r,onGenerateFlashcards:ee,onTranslate:b,onRephrase:oe,isLoading:v,onAuthSuccess:me})]}),C&&R.jsx("div",{className:"absolute bottom-4 right-4 bg-red-500 text-white p-3 rounded-lg shadow-lg",children:C}),R.jsx("footer",{className:"bg-gray-900/50 border-t border-gray-700/50 text-center p-2 text-xs text-gray-400 backdrop-blur-sm",children:R.jsxs("div",{className:"flex items-center justify-center gap-2",children:[R.jsx(Um,{className:"w-4 h-4 text-green-400"}),R.jsx("span",{children:"Private by Design: All processing is simulated on-device. No data leaves your browser."})]})})]})},xc=document.getElementById("root");if(!xc)throw new Error("Could not find root element to mount to");const HT=Lm.createRoot(xc);HT.render(R.jsx(xm.StrictMode,{children:R.jsx(qT,{})}));
